const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProductFormModal-B-vOHxD-.js","assets/Modal-D7kRee5V.js","assets/ExportModal-B0qvoQdI.js","assets/copy-DwBrr6nD.js","assets/AddCategoryModal-ZpHwiRNF.js","assets/MovementHistoryModal-DBl8RFCU.js","assets/ManualMovementModal-CIcIAf6M.js","assets/ToolsModal-HC6FCzsF.js","assets/combine-DUkIlwB_.js","assets/FusionModal-iiVDAp-L.js","assets/AuditLogModal-Bt13WFNS.js","assets/BulkEditModal-Cl2_qiZP.js","assets/DataImportModal-D2atNy7Q.js","assets/triangle-alert-DDjViyo7.js","assets/cloud-upload-B4RycofI.js","assets/ConfirmModal-CtRhyjn7.js","assets/LoadFromTextModal-CCzToH0P.js","assets/RestoreModal-DiekHqTy.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ed={exports:{}},$l={},td={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),em=Symbol.for("react.memo"),tm=Symbol.for("react.lazy"),Dc=Symbol.iterator;function nm(e){return e===null||typeof e!="object"?null:(e=Dc&&e[Dc]||e["@@iterator"],typeof e=="function"?e:null)}var nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rd=Object.assign,od={};function so(e,t,n){this.props=e,this.context=t,this.refs=od,this.updater=n||nd}so.prototype.isReactComponent={};so.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};so.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function id(){}id.prototype=so.prototype;function au(e,t,n){this.props=e,this.context=t,this.refs=od,this.updater=n||nd}var su=au.prototype=new id;su.constructor=au;rd(su,so.prototype);su.isPureReactComponent=!0;var Ac=Array.isArray,ld=Object.prototype.hasOwnProperty,uu={current:null},ad={key:!0,ref:!0,__self:!0,__source:!0};function sd(e,t,n){var r,l={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)ld.call(t,r)&&!ad.hasOwnProperty(r)&&(l[r]=t[r]);var p=arguments.length-2;if(p===1)l.children=n;else if(1<p){for(var h=Array(p),w=0;w<p;w++)h[w]=arguments[w+2];l.children=h}if(e&&e.defaultProps)for(r in p=e.defaultProps,p)l[r]===void 0&&(l[r]=p[r]);return{$$typeof:si,type:e,key:a,ref:c,props:l,_owner:uu.current}}function rm(e,t){return{$$typeof:si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cu(e){return typeof e=="object"&&e!==null&&e.$$typeof===si}function om(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rc=/\/+/g;function Aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?om(""+e.key):t.toString(36)}function ll(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case si:case Hh:c=!0}}if(c)return c=e,l=l(c),e=r===""?"."+Aa(c,0):r,Ac(l)?(n="",e!=null&&(n=e.replace(Rc,"$&/")+"/"),ll(l,t,n,"",function(w){return w})):l!=null&&(cu(l)&&(l=rm(l,n+(!l.key||c&&c.key===l.key?"":(""+l.key).replace(Rc,"$&/")+"/")+e)),t.push(l)),1;if(c=0,r=r===""?".":r+":",Ac(e))for(var p=0;p<e.length;p++){a=e[p];var h=r+Aa(a,p);c+=ll(a,t,n,h,l)}else if(h=nm(e),typeof h=="function")for(e=h.call(e),p=0;!(a=e.next()).done;)a=a.value,h=r+Aa(a,p++),c+=ll(a,t,n,h,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function $i(e,t,n){if(e==null)return e;var r=[],l=0;return ll(e,r,"","",function(a){return t.call(n,a,l++)}),r}function im(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},al={transition:null},lm={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:al,ReactCurrentOwner:uu};function ud(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:$i,forEach:function(e,t,n){$i(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $i(e,function(){t++}),t},toArray:function(e){return $i(e,function(t){return t})||[]},only:function(e){if(!cu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=so;je.Fragment=Wh;je.Profiler=Yh;je.PureComponent=au;je.StrictMode=Qh;je.Suspense=Zh;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;je.act=ud;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rd({},e.props),l=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=uu.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(h in t)ld.call(t,h)&&!ad.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&p!==void 0?p[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){p=Array(h);for(var w=0;w<h;w++)p[w]=arguments[w+2];r.children=p}return{$$typeof:si,type:e.type,key:l,ref:a,props:r,_owner:c}};je.createContext=function(e){return e={$$typeof:Xh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gh,_context:e},e.Consumer=e};je.createElement=sd;je.createFactory=function(e){var t=sd.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:Jh,render:e}};je.isValidElement=cu;je.lazy=function(e){return{$$typeof:tm,_payload:{_status:-1,_result:e},_init:im}};je.memo=function(e,t){return{$$typeof:em,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};je.unstable_act=ud;je.useCallback=function(e,t){return xt.current.useCallback(e,t)};je.useContext=function(e){return xt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};je.useEffect=function(e,t){return xt.current.useEffect(e,t)};je.useId=function(){return xt.current.useId()};je.useImperativeHandle=function(e,t,n){return xt.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return xt.current.useMemo(e,t)};je.useReducer=function(e,t,n){return xt.current.useReducer(e,t,n)};je.useRef=function(e){return xt.current.useRef(e)};je.useState=function(e){return xt.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return xt.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return xt.current.useTransition()};je.version="18.3.1";td.exports=je;var Z=td.exports;const er=Zf(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Z,sm=Symbol.for("react.element"),um=Symbol.for("react.fragment"),cm=Object.prototype.hasOwnProperty,fm=am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dm={key:!0,ref:!0,__self:!0,__source:!0};function cd(e,t,n){var r,l={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)cm.call(t,r)&&!dm.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:sm,type:e,key:a,ref:c,props:l,_owner:fm.current}}$l.Fragment=um;$l.jsx=cd;$l.jsxs=cd;ed.exports=$l;var m=ed.exports,fs={},fd={exports:{}},Dt={},dd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,he){var me=oe.length;oe.push(he);e:for(;0<me;){var ze=me-1>>>1,$e=oe[ze];if(0<l($e,he))oe[ze]=he,oe[me]=$e,me=ze;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var he=oe[0],me=oe.pop();if(me!==he){oe[0]=me;e:for(var ze=0,$e=oe.length,_t=$e>>>1;ze<_t;){var Pt=2*(ze+1)-1,Wt=oe[Pt],lt=Pt+1,Qt=oe[lt];if(0>l(Wt,me))lt<$e&&0>l(Qt,Wt)?(oe[ze]=Qt,oe[lt]=me,ze=lt):(oe[ze]=Wt,oe[Pt]=me,ze=Pt);else if(lt<$e&&0>l(Qt,me))oe[ze]=Qt,oe[lt]=me,ze=lt;else break e}}return he}function l(oe,he){var me=oe.sortIndex-he.sortIndex;return me!==0?me:oe.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var h=[],w=[],z=1,M=null,A=3,B=!1,$=!1,K=!1,ye=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var he=n(w);he!==null;){if(he.callback===null)r(w);else if(he.startTime<=oe)r(w),he.sortIndex=he.expirationTime,t(h,he);else break;he=n(w)}}function T(oe){if(K=!1,j(oe),!$)if(n(h)!==null)$=!0,Ht(Q);else{var he=n(w);he!==null&&nn(T,he.startTime-oe)}}function Q(oe,he){$=!1,K&&(K=!1,C(ne),ne=-1),B=!0;var me=A;try{for(j(he),M=n(h);M!==null&&(!(M.expirationTime>he)||oe&&!fe());){var ze=M.callback;if(typeof ze=="function"){M.callback=null,A=M.priorityLevel;var $e=ze(M.expirationTime<=he);he=e.unstable_now(),typeof $e=="function"?M.callback=$e:M===n(h)&&r(h),j(he)}else r(h);M=n(h)}if(M!==null)var _t=!0;else{var Pt=n(w);Pt!==null&&nn(T,Pt.startTime-he),_t=!1}return _t}finally{M=null,A=me,B=!1}}var L=!1,R=null,ne=-1,ke=5,X=-1;function fe(){return!(e.unstable_now()-X<ke)}function Pe(){if(R!==null){var oe=e.unstable_now();X=oe;var he=!0;try{he=R(!0,oe)}finally{he?ge():(L=!1,R=null)}}else L=!1}var ge;if(typeof v=="function")ge=function(){v(Pe)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,tt=Ae.port2;Ae.port1.onmessage=Pe,ge=function(){tt.postMessage(null)}}else ge=function(){ye(Pe,0)};function Ht(oe){R=oe,L||(L=!0,ge())}function nn(oe,he){ne=ye(function(){oe(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){$||B||($=!0,Ht(Q))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(oe){switch(A){case 1:case 2:case 3:var he=3;break;default:he=A}var me=A;A=he;try{return oe()}finally{A=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,he){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=A;A=oe;try{return he()}finally{A=me}},e.unstable_scheduleCallback=function(oe,he,me){var ze=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,oe){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=me+$e,oe={id:z++,callback:he,priorityLevel:oe,startTime:me,expirationTime:$e,sortIndex:-1},me>ze?(oe.sortIndex=me,t(w,oe),n(h)===null&&oe===n(w)&&(K?(C(ne),ne=-1):K=!0,nn(T,me-ze))):(oe.sortIndex=$e,t(h,oe),$||B||($=!0,Ht(Q))),oe},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(oe){var he=A;return function(){var me=A;A=he;try{return oe.apply(this,arguments)}finally{A=me}}}})(pd);dd.exports=pd;var pm=dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=Z,zt=pm;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,qo={};function br(e,t){to(e,t),to(e+"Capture",t)}function to(e,t){for(qo[e]=t,e=0;e<t.length;e++)hd.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=Object.prototype.hasOwnProperty,mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lc={},Fc={};function ym(e){return ds.call(Fc,e)?!0:ds.call(Lc,e)?!1:mm.test(e)?Fc[e]=!0:(Lc[e]=!0,!1)}function gm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vm(e,t,n,r){if(t===null||typeof t>"u"||gm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,l,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ut[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ut[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ut[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ut[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ut[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ut[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ut[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ut[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ut[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fu,du);ut[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fu,du);ut[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fu,du);ut[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ut[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ut.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ut[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pu(e,t,n,r){var l=ut.hasOwnProperty(t)?ut[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vm(t,n,l,r)&&(n=null),r||l===null?ym(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),hu=Symbol.for("react.strict_mode"),ps=Symbol.for("react.profiler"),md=Symbol.for("react.provider"),yd=Symbol.for("react.context"),mu=Symbol.for("react.forward_ref"),hs=Symbol.for("react.suspense"),ms=Symbol.for("react.suspense_list"),yu=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),gd=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Ra;function To(e){if(Ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var La=!1;function Fa(e,t){if(!e||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var l=w.stack.split(`
`),a=r.stack.split(`
`),c=l.length-1,p=a.length-1;1<=c&&0<=p&&l[c]!==a[p];)p--;for(;1<=c&&0<=p;c--,p--)if(l[c]!==a[p]){if(c!==1||p!==1)do if(c--,p--,0>p||l[c]!==a[p]){var h=`
`+l[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=p);break}}}finally{La=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?To(e):""}function wm(e){switch(e.tag){case 5:return To(e.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return e=Fa(e.type,!1),e;case 11:return e=Fa(e.type.render,!1),e;case 1:return e=Fa(e.type,!0),e;default:return""}}function ys(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Rr:return"Portal";case ps:return"Profiler";case hu:return"StrictMode";case hs:return"Suspense";case ms:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yd:return(e.displayName||"Context")+".Consumer";case md:return(e._context.displayName||"Context")+".Provider";case mu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yu:return t=e.displayName||null,t!==null?t:ys(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return ys(e(t))}catch{}}return null}function xm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ys(t);case 8:return t===hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function km(e){var t=vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qi(e){e._valueTracker||(e._valueTracker=km(e))}function wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gs(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xd(e,t){t=t.checked,t!=null&&pu(e,"checked",t,!1)}function vs(e,t){xd(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ws(e,t.type,n):t.hasOwnProperty("defaultValue")&&ws(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ws(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function xs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $c(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Io(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function kd(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ks(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_d(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hi,Sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_m=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(e){_m.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ao[t]=Ao[e]})});function Cd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ao.hasOwnProperty(e)&&Ao[e]?(""+t).trim():t+"px"}function bd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Cd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Sm=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _s(e,t){if(t){if(Sm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ss(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Gr=null,Xr=null;function qc(e){if(e=fi(e)){if(typeof bs!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Ql(t),bs(e.stateNode,e.type,t))}}function Ed(e){Gr?Xr?Xr.push(e):Xr=[e]:Gr=e}function jd(){if(Gr){var e=Gr,t=Xr;if(Xr=Gr=null,qc(e),t)for(e=0;e<t.length;e++)qc(t[e])}}function Pd(e,t){return e(t)}function Nd(){}var Ba=!1;function Md(e,t,n){if(Ba)return e(t,n);Ba=!0;try{return Pd(e,t,n)}finally{Ba=!1,(Gr!==null||Xr!==null)&&(Nd(),jd())}}function Wo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ql(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Es=!1;if(_n)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Es=!1}function Cm(e,t,n,r,l,a,c,p,h){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(z){this.onError(z)}}var Ro=!1,wl=null,xl=!1,js=null,bm={onError:function(e){Ro=!0,wl=e}};function Em(e,t,n,r,l,a,c,p,h){Ro=!1,wl=null,Cm.apply(bm,arguments)}function jm(e,t,n,r,l,a,c,p,h){if(Em.apply(this,arguments),Ro){if(Ro){var w=wl;Ro=!1,wl=null}else throw Error(q(198));xl||(xl=!0,js=w)}}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hc(e){if(Er(e)!==e)throw Error(q(188))}function Pm(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Hc(l),e;if(a===r)return Hc(l),t;a=a.sibling}throw Error(q(188))}if(n.return!==r.return)n=l,r=a;else{for(var c=!1,p=l.child;p;){if(p===n){c=!0,n=l,r=a;break}if(p===r){c=!0,r=l,n=a;break}p=p.sibling}if(!c){for(p=a.child;p;){if(p===n){c=!0,n=a,r=l;break}if(p===r){c=!0,r=a,n=l;break}p=p.sibling}if(!c)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Td(e){return e=Pm(e),e!==null?Id(e):null}function Id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Id(e);if(t!==null)return t;e=e.sibling}return null}var zd=zt.unstable_scheduleCallback,Wc=zt.unstable_cancelCallback,Nm=zt.unstable_shouldYield,Mm=zt.unstable_requestPaint,Xe=zt.unstable_now,Om=zt.unstable_getCurrentPriorityLevel,vu=zt.unstable_ImmediatePriority,Dd=zt.unstable_UserBlockingPriority,kl=zt.unstable_NormalPriority,Tm=zt.unstable_LowPriority,Ad=zt.unstable_IdlePriority,Vl=null,dn=null;function Im(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Am,zm=Math.log,Dm=Math.LN2;function Am(e){return e>>>=0,e===0?32:31-(zm(e)/Dm|0)|0}var Wi=64,Qi=4194304;function zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _l(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var p=c&~l;p!==0?r=zo(p):(a&=c,a!==0&&(r=zo(a)))}else c=n&~l,c!==0?r=zo(c):a!==0&&(r=zo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zt(t),l=1<<n,r|=e[n],t&=~l;return r}function Rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Zt(a),p=1<<c,h=l[c];h===-1?(!(p&n)||p&r)&&(l[c]=Rm(p,t)):h<=t&&(e.expiredLanes|=p),a&=~p}}function Ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rd(){var e=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),e}function Ka(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ui(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=n}function Fm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Zt(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function wu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Ie=0;function Ld(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fd,xu,Bd,Kd,Ud,Ns=!1,Yi=[],Vn=null,qn=null,Hn=null,Qo=new Map,Yo=new Map,Bn=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function bo(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=fi(t),t!==null&&xu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Km(e,t,n,r,l){switch(t){case"focusin":return Vn=bo(Vn,e,t,n,r,l),!0;case"dragenter":return qn=bo(qn,e,t,n,r,l),!0;case"mouseover":return Hn=bo(Hn,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return Qo.set(a,bo(Qo.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Yo.set(a,bo(Yo.get(a)||null,e,t,n,r,l)),!0}return!1}function $d(e){var t=mr(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=Od(n),t!==null){e.blockedOn=t,Ud(e.priority,function(){Bd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ms(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cs=r,n.target.dispatchEvent(r),Cs=null}else return t=fi(n),t!==null&&xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Yc(e,t,n){sl(e)&&n.delete(t)}function Um(){Ns=!1,Vn!==null&&sl(Vn)&&(Vn=null),qn!==null&&sl(qn)&&(qn=null),Hn!==null&&sl(Hn)&&(Hn=null),Qo.forEach(Yc),Yo.forEach(Yc)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ns||(Ns=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,Um)))}function Go(e){function t(l){return Eo(l,e)}if(0<Yi.length){Eo(Yi[0],e);for(var n=1;n<Yi.length;n++){var r=Yi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&Eo(Vn,e),qn!==null&&Eo(qn,e),Hn!==null&&Eo(Hn,e),Qo.forEach(t),Yo.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)$d(n),n.blockedOn===null&&Bn.shift()}var Jr=En.ReactCurrentBatchConfig,Sl=!0;function $m(e,t,n,r){var l=Ie,a=Jr.transition;Jr.transition=null;try{Ie=1,ku(e,t,n,r)}finally{Ie=l,Jr.transition=a}}function Vm(e,t,n,r){var l=Ie,a=Jr.transition;Jr.transition=null;try{Ie=4,ku(e,t,n,r)}finally{Ie=l,Jr.transition=a}}function ku(e,t,n,r){if(Sl){var l=Ms(e,t,n,r);if(l===null)Xa(e,t,r,Cl,n),Qc(e,r);else if(Km(l,e,t,n,r))r.stopPropagation();else if(Qc(e,r),t&4&&-1<Bm.indexOf(e)){for(;l!==null;){var a=fi(l);if(a!==null&&Fd(a),a=Ms(e,t,n,r),a===null&&Xa(e,t,r,Cl,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Xa(e,t,r,null,n)}}var Cl=null;function Ms(e,t,n,r){if(Cl=null,e=gu(r),e=mr(e),e!==null)if(t=Er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function Vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Om()){case vu:return 1;case Dd:return 4;case kl:case Tm:return 16;case Ad:return 536870912;default:return 16}default:return 16}}var Un=null,_u=null,ul=null;function qd(){if(ul)return ul;var e,t=_u,n=t.length,r,l="value"in Un?Un.value:Un.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===l[a-r];r++);return ul=l.slice(e,1<r?1-r:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Gc(){return!1}function At(e){function t(n,r,l,a,c){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gi:Gc,this.isPropagationStopped=Gc,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=At(uo),ci=He({},uo,{view:0,detail:0}),qm=At(ci),Ua,$a,jo,ql=He({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(Ua=e.screenX-jo.screenX,$a=e.screenY-jo.screenY):$a=Ua=0,jo=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),Xc=At(ql),Hm=He({},ql,{dataTransfer:0}),Wm=At(Hm),Qm=He({},ci,{relatedTarget:0}),Va=At(Qm),Ym=He({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=At(Ym),Xm=He({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jm=At(Xm),Zm=He({},uo,{data:0}),Jc=At(Zm),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ny[e])?!!t[e]:!1}function Cu(){return ry}var oy=He({},ci,{key:function(e){if(e.key){var t=ey[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ty[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iy=At(oy),ly=He({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=At(ly),ay=He({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),sy=At(ay),uy=He({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=At(uy),fy=He({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=At(fy),py=[9,13,27,32],bu=_n&&"CompositionEvent"in window,Lo=null;_n&&"documentMode"in document&&(Lo=document.documentMode);var hy=_n&&"TextEvent"in window&&!Lo,Hd=_n&&(!bu||Lo&&8<Lo&&11>=Lo),ef=" ",tf=!1;function Wd(e,t){switch(e){case"keyup":return py.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function my(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function yy(e,t){if(Fr)return e==="compositionend"||!bu&&Wd(e,t)?(e=qd(),ul=_u=Un=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hd&&t.locale!=="ko"?null:t.data;default:return null}}var gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gy[e.type]:t==="textarea"}function Yd(e,t,n,r){Ed(r),t=bl(t,"onChange"),0<t.length&&(n=new Su("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fo=null,Xo=null;function vy(e){lp(e,0)}function Hl(e){var t=Ur(e);if(wd(t))return e}function wy(e,t){if(e==="change")return t}var Gd=!1;if(_n){var qa;if(_n){var Ha="oninput"in document;if(!Ha){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Ha=typeof rf.oninput=="function"}qa=Ha}else qa=!1;Gd=qa&&(!document.documentMode||9<document.documentMode)}function of(){Fo&&(Fo.detachEvent("onpropertychange",Xd),Xo=Fo=null)}function Xd(e){if(e.propertyName==="value"&&Hl(Xo)){var t=[];Yd(t,Xo,e,gu(e)),Md(vy,t)}}function xy(e,t,n){e==="focusin"?(of(),Fo=t,Xo=n,Fo.attachEvent("onpropertychange",Xd)):e==="focusout"&&of()}function ky(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(Xo)}function _y(e,t){if(e==="click")return Hl(t)}function Sy(e,t){if(e==="input"||e==="change")return Hl(t)}function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:Cy;function Jo(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ds.call(t,l)||!tn(e[l],t[l]))return!1}return!0}function lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function af(e,t){var n=lf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lf(n)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zd(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function by(e){var t=Zd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jd(n.ownerDocument.documentElement,n)){if(r!==null&&Eu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=af(n,a);var c=af(n,r);l&&c&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ey=_n&&"documentMode"in document&&11>=document.documentMode,Br=null,Os=null,Bo=null,Ts=!1;function sf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ts||Br==null||Br!==vl(r)||(r=Br,"selectionStart"in r&&Eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&Jo(Bo,r)||(Bo=r,r=bl(Os,"onSelect"),0<r.length&&(t=new Su("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function Xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},Wa={},ep={};_n&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Wl(e){if(Wa[e])return Wa[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ep)return Wa[e]=t[n];return e}var tp=Wl("animationend"),np=Wl("animationiteration"),rp=Wl("animationstart"),op=Wl("transitionend"),ip=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){ip.set(e,t),br(t,[e])}for(var Qa=0;Qa<uf.length;Qa++){var Ya=uf[Qa],jy=Ya.toLowerCase(),Py=Ya[0].toUpperCase()+Ya.slice(1);tr(jy,"on"+Py)}tr(tp,"onAnimationEnd");tr(np,"onAnimationIteration");tr(rp,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(op,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function cf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jm(r,t,void 0,e),e.currentTarget=null}function lp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var p=r[c],h=p.instance,w=p.currentTarget;if(p=p.listener,h!==a&&l.isPropagationStopped())break e;cf(l,p,w),a=h}else for(c=0;c<r.length;c++){if(p=r[c],h=p.instance,w=p.currentTarget,p=p.listener,h!==a&&l.isPropagationStopped())break e;cf(l,p,w),a=h}}}if(xl)throw e=js,xl=!1,js=null,e}function Fe(e,t){var n=t[Rs];n===void 0&&(n=t[Rs]=new Set);var r=e+"__bubble";n.has(r)||(ap(t,e,2,!1),n.add(r))}function Ga(e,t,n){var r=0;t&&(r|=4),ap(n,e,r,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[Ji]){e[Ji]=!0,hd.forEach(function(n){n!=="selectionchange"&&(Ny.has(n)||Ga(n,!1,e),Ga(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,Ga("selectionchange",!1,t))}}function ap(e,t,n,r){switch(Vd(t)){case 1:var l=$m;break;case 4:l=Vm;break;default:l=ku}n=l.bind(null,t,n,e),l=void 0,!Es||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Xa(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var p=r.stateNode.containerInfo;if(p===l||p.nodeType===8&&p.parentNode===l)break;if(c===4)for(c=r.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===l||h.nodeType===8&&h.parentNode===l))return;c=c.return}for(;p!==null;){if(c=mr(p),c===null)return;if(h=c.tag,h===5||h===6){r=a=c;continue e}p=p.parentNode}}r=r.return}Md(function(){var w=a,z=gu(n),M=[];e:{var A=ip.get(e);if(A!==void 0){var B=Su,$=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":B=iy;break;case"focusin":$="focus",B=Va;break;case"focusout":$="blur",B=Va;break;case"beforeblur":case"afterblur":B=Va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=sy;break;case tp:case np:case rp:B=Gm;break;case op:B=cy;break;case"scroll":B=qm;break;case"wheel":B=dy;break;case"copy":case"cut":case"paste":B=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Zc}var K=(t&4)!==0,ye=!K&&e==="scroll",C=K?A!==null?A+"Capture":null:A;K=[];for(var v=w,j;v!==null;){j=v;var T=j.stateNode;if(j.tag===5&&T!==null&&(j=T,C!==null&&(T=Wo(v,C),T!=null&&K.push(ei(v,T,j)))),ye)break;v=v.return}0<K.length&&(A=new B(A,$,null,n,z),M.push({event:A,listeners:K}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",A&&n!==Cs&&($=n.relatedTarget||n.fromElement)&&(mr($)||$[Sn]))break e;if((B||A)&&(A=z.window===z?z:(A=z.ownerDocument)?A.defaultView||A.parentWindow:window,B?($=n.relatedTarget||n.toElement,B=w,$=$?mr($):null,$!==null&&(ye=Er($),$!==ye||$.tag!==5&&$.tag!==6)&&($=null)):(B=null,$=w),B!==$)){if(K=Xc,T="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(K=Zc,T="onPointerLeave",C="onPointerEnter",v="pointer"),ye=B==null?A:Ur(B),j=$==null?A:Ur($),A=new K(T,v+"leave",B,n,z),A.target=ye,A.relatedTarget=j,T=null,mr(z)===w&&(K=new K(C,v+"enter",$,n,z),K.target=j,K.relatedTarget=ye,T=K),ye=T,B&&$)t:{for(K=B,C=$,v=0,j=K;j;j=Ar(j))v++;for(j=0,T=C;T;T=Ar(T))j++;for(;0<v-j;)K=Ar(K),v--;for(;0<j-v;)C=Ar(C),j--;for(;v--;){if(K===C||C!==null&&K===C.alternate)break t;K=Ar(K),C=Ar(C)}K=null}else K=null;B!==null&&ff(M,A,B,K,!1),$!==null&&ye!==null&&ff(M,ye,$,K,!0)}}e:{if(A=w?Ur(w):window,B=A.nodeName&&A.nodeName.toLowerCase(),B==="select"||B==="input"&&A.type==="file")var Q=wy;else if(nf(A))if(Gd)Q=Sy;else{Q=ky;var L=xy}else(B=A.nodeName)&&B.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(Q=_y);if(Q&&(Q=Q(e,w))){Yd(M,Q,n,z);break e}L&&L(e,A,w),e==="focusout"&&(L=A._wrapperState)&&L.controlled&&A.type==="number"&&ws(A,"number",A.value)}switch(L=w?Ur(w):window,e){case"focusin":(nf(L)||L.contentEditable==="true")&&(Br=L,Os=w,Bo=null);break;case"focusout":Bo=Os=Br=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,sf(M,n,z);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":sf(M,n,z)}var R;if(bu)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Fr?Wd(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(Hd&&n.locale!=="ko"&&(Fr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Fr&&(R=qd()):(Un=z,_u="value"in Un?Un.value:Un.textContent,Fr=!0)),L=bl(w,ne),0<L.length&&(ne=new Jc(ne,e,null,n,z),M.push({event:ne,listeners:L}),R?ne.data=R:(R=Qd(n),R!==null&&(ne.data=R)))),(R=hy?my(e,n):yy(e,n))&&(w=bl(w,"onBeforeInput"),0<w.length&&(z=new Jc("onBeforeInput","beforeinput",null,n,z),M.push({event:z,listeners:w}),z.data=R))}lp(M,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Wo(e,n),a!=null&&r.unshift(ei(e,a,l)),a=Wo(e,t),a!=null&&r.push(ei(e,a,l))),e=e.return}return r}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ff(e,t,n,r,l){for(var a=t._reactName,c=[];n!==null&&n!==r;){var p=n,h=p.alternate,w=p.stateNode;if(h!==null&&h===r)break;p.tag===5&&w!==null&&(p=w,l?(h=Wo(n,a),h!=null&&c.unshift(ei(n,h,p))):l||(h=Wo(n,a),h!=null&&c.push(ei(n,h,p)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var My=/\r\n?/g,Oy=/\u0000|\uFFFD/g;function df(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Oy,"")}function Zi(e,t,n){if(t=df(t),df(e)!==t&&n)throw Error(q(425))}function El(){}var Is=null,zs=null;function Ds(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var As=typeof setTimeout=="function"?setTimeout:void 0,Ty=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,Iy=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(e){return pf.resolve(null).then(e).catch(zy)}:As;function zy(e){setTimeout(function(){throw e})}function Ja(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Go(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Go(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var co=Math.random().toString(36).slice(2),fn="__reactFiber$"+co,ti="__reactProps$"+co,Sn="__reactContainer$"+co,Rs="__reactEvents$"+co,Dy="__reactListeners$"+co,Ay="__reactHandles$"+co;function mr(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hf(e);e!==null;){if(n=e[fn])return n;e=hf(e)}return t}e=n,n=e.parentNode}return null}function fi(e){return e=e[fn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Ql(e){return e[ti]||null}var Ls=[],$r=-1;function nr(e){return{current:e}}function Be(e){0>$r||(e.current=Ls[$r],Ls[$r]=null,$r--)}function Le(e,t){$r++,Ls[$r]=e.current,e.current=t}var Zn={},yt=nr(Zn),bt=nr(!1),xr=Zn;function no(e,t){var n=e.type.contextTypes;if(!n)return Zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Et(e){return e=e.childContextTypes,e!=null}function jl(){Be(bt),Be(yt)}function mf(e,t,n){if(yt.current!==Zn)throw Error(q(168));Le(yt,t),Le(bt,n)}function sp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(q(108,xm(e)||"Unknown",l));return He({},n,r)}function Pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,xr=yt.current,Le(yt,e),Le(bt,bt.current),!0}function yf(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=sp(e,t,xr),r.__reactInternalMemoizedMergedChildContext=e,Be(bt),Be(yt),Le(yt,e)):Be(bt),Le(bt,n)}var vn=null,Yl=!1,Za=!1;function up(e){vn===null?vn=[e]:vn.push(e)}function Ry(e){Yl=!0,up(e)}function rr(){if(!Za&&vn!==null){Za=!0;var e=0,t=Ie;try{var n=vn;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vn=null,Yl=!1}catch(l){throw vn!==null&&(vn=vn.slice(e+1)),zd(vu,rr),l}finally{Ie=t,Za=!1}}return null}var Vr=[],qr=0,Nl=null,Ml=0,Bt=[],Kt=0,kr=null,wn=1,xn="";function pr(e,t){Vr[qr++]=Ml,Vr[qr++]=Nl,Nl=e,Ml=t}function cp(e,t,n){Bt[Kt++]=wn,Bt[Kt++]=xn,Bt[Kt++]=kr,kr=e;var r=wn;e=xn;var l=32-Zt(r)-1;r&=~(1<<l),n+=1;var a=32-Zt(t)+l;if(30<a){var c=l-l%5;a=(r&(1<<c)-1).toString(32),r>>=c,l-=c,wn=1<<32-Zt(t)+l|n<<l|r,xn=a+e}else wn=1<<a|n<<l|r,xn=e}function ju(e){e.return!==null&&(pr(e,1),cp(e,1,0))}function Pu(e){for(;e===Nl;)Nl=Vr[--qr],Vr[qr]=null,Ml=Vr[--qr],Vr[qr]=null;for(;e===kr;)kr=Bt[--Kt],Bt[Kt]=null,xn=Bt[--Kt],Bt[Kt]=null,wn=Bt[--Kt],Bt[Kt]=null}var It=null,Tt=null,Ue=!1,Jt=null;function fp(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Tt=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:wn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Tt=null,!0):!1;default:return!1}}function Fs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bs(e){if(Ue){var t=Tt;if(t){var n=t;if(!gf(e,t)){if(Fs(e))throw Error(q(418));t=Wn(n.nextSibling);var r=It;t&&gf(e,t)?fp(r,n):(e.flags=e.flags&-4097|2,Ue=!1,It=e)}}else{if(Fs(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ue=!1,It=e}}}function vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function el(e){if(e!==It)return!1;if(!Ue)return vf(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ds(e.type,e.memoizedProps)),t&&(t=Tt)){if(Fs(e))throw dp(),Error(q(418));for(;t;)fp(e,t),t=Wn(t.nextSibling)}if(vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=It?Wn(e.stateNode.nextSibling):null;return!0}function dp(){for(var e=Tt;e;)e=Wn(e.nextSibling)}function ro(){Tt=It=null,Ue=!1}function Nu(e){Jt===null?Jt=[e]:Jt.push(e)}var Ly=En.ReactCurrentBatchConfig;function Po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var p=l.refs;c===null?delete p[a]:p[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function tl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wf(e){var t=e._init;return t(e._payload)}function pp(e){function t(C,v){if(e){var j=C.deletions;j===null?(C.deletions=[v],C.flags|=16):j.push(v)}}function n(C,v){if(!e)return null;for(;v!==null;)t(C,v),v=v.sibling;return null}function r(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function l(C,v){return C=Xn(C,v),C.index=0,C.sibling=null,C}function a(C,v,j){return C.index=j,e?(j=C.alternate,j!==null?(j=j.index,j<v?(C.flags|=2,v):j):(C.flags|=2,v)):(C.flags|=1048576,v)}function c(C){return e&&C.alternate===null&&(C.flags|=2),C}function p(C,v,j,T){return v===null||v.tag!==6?(v=ls(j,C.mode,T),v.return=C,v):(v=l(v,j),v.return=C,v)}function h(C,v,j,T){var Q=j.type;return Q===Lr?z(C,v,j.props.children,T,j.key):v!==null&&(v.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ln&&wf(Q)===v.type)?(T=l(v,j.props),T.ref=Po(C,v,j),T.return=C,T):(T=gl(j.type,j.key,j.props,null,C.mode,T),T.ref=Po(C,v,j),T.return=C,T)}function w(C,v,j,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=as(j,C.mode,T),v.return=C,v):(v=l(v,j.children||[]),v.return=C,v)}function z(C,v,j,T,Q){return v===null||v.tag!==7?(v=wr(j,C.mode,T,Q),v.return=C,v):(v=l(v,j),v.return=C,v)}function M(C,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ls(""+v,C.mode,j),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vi:return j=gl(v.type,v.key,v.props,null,C.mode,j),j.ref=Po(C,null,v),j.return=C,j;case Rr:return v=as(v,C.mode,j),v.return=C,v;case Ln:var T=v._init;return M(C,T(v._payload),j)}if(Io(v)||So(v))return v=wr(v,C.mode,j,null),v.return=C,v;tl(C,v)}return null}function A(C,v,j,T){var Q=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Q!==null?null:p(C,v,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vi:return j.key===Q?h(C,v,j,T):null;case Rr:return j.key===Q?w(C,v,j,T):null;case Ln:return Q=j._init,A(C,v,Q(j._payload),T)}if(Io(j)||So(j))return Q!==null?null:z(C,v,j,T,null);tl(C,j)}return null}function B(C,v,j,T,Q){if(typeof T=="string"&&T!==""||typeof T=="number")return C=C.get(j)||null,p(v,C,""+T,Q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vi:return C=C.get(T.key===null?j:T.key)||null,h(v,C,T,Q);case Rr:return C=C.get(T.key===null?j:T.key)||null,w(v,C,T,Q);case Ln:var L=T._init;return B(C,v,j,L(T._payload),Q)}if(Io(T)||So(T))return C=C.get(j)||null,z(v,C,T,Q,null);tl(v,T)}return null}function $(C,v,j,T){for(var Q=null,L=null,R=v,ne=v=0,ke=null;R!==null&&ne<j.length;ne++){R.index>ne?(ke=R,R=null):ke=R.sibling;var X=A(C,R,j[ne],T);if(X===null){R===null&&(R=ke);break}e&&R&&X.alternate===null&&t(C,R),v=a(X,v,ne),L===null?Q=X:L.sibling=X,L=X,R=ke}if(ne===j.length)return n(C,R),Ue&&pr(C,ne),Q;if(R===null){for(;ne<j.length;ne++)R=M(C,j[ne],T),R!==null&&(v=a(R,v,ne),L===null?Q=R:L.sibling=R,L=R);return Ue&&pr(C,ne),Q}for(R=r(C,R);ne<j.length;ne++)ke=B(R,C,ne,j[ne],T),ke!==null&&(e&&ke.alternate!==null&&R.delete(ke.key===null?ne:ke.key),v=a(ke,v,ne),L===null?Q=ke:L.sibling=ke,L=ke);return e&&R.forEach(function(fe){return t(C,fe)}),Ue&&pr(C,ne),Q}function K(C,v,j,T){var Q=So(j);if(typeof Q!="function")throw Error(q(150));if(j=Q.call(j),j==null)throw Error(q(151));for(var L=Q=null,R=v,ne=v=0,ke=null,X=j.next();R!==null&&!X.done;ne++,X=j.next()){R.index>ne?(ke=R,R=null):ke=R.sibling;var fe=A(C,R,X.value,T);if(fe===null){R===null&&(R=ke);break}e&&R&&fe.alternate===null&&t(C,R),v=a(fe,v,ne),L===null?Q=fe:L.sibling=fe,L=fe,R=ke}if(X.done)return n(C,R),Ue&&pr(C,ne),Q;if(R===null){for(;!X.done;ne++,X=j.next())X=M(C,X.value,T),X!==null&&(v=a(X,v,ne),L===null?Q=X:L.sibling=X,L=X);return Ue&&pr(C,ne),Q}for(R=r(C,R);!X.done;ne++,X=j.next())X=B(R,C,ne,X.value,T),X!==null&&(e&&X.alternate!==null&&R.delete(X.key===null?ne:X.key),v=a(X,v,ne),L===null?Q=X:L.sibling=X,L=X);return e&&R.forEach(function(Pe){return t(C,Pe)}),Ue&&pr(C,ne),Q}function ye(C,v,j,T){if(typeof j=="object"&&j!==null&&j.type===Lr&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Vi:e:{for(var Q=j.key,L=v;L!==null;){if(L.key===Q){if(Q=j.type,Q===Lr){if(L.tag===7){n(C,L.sibling),v=l(L,j.props.children),v.return=C,C=v;break e}}else if(L.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ln&&wf(Q)===L.type){n(C,L.sibling),v=l(L,j.props),v.ref=Po(C,L,j),v.return=C,C=v;break e}n(C,L);break}else t(C,L);L=L.sibling}j.type===Lr?(v=wr(j.props.children,C.mode,T,j.key),v.return=C,C=v):(T=gl(j.type,j.key,j.props,null,C.mode,T),T.ref=Po(C,v,j),T.return=C,C=T)}return c(C);case Rr:e:{for(L=j.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){n(C,v.sibling),v=l(v,j.children||[]),v.return=C,C=v;break e}else{n(C,v);break}else t(C,v);v=v.sibling}v=as(j,C.mode,T),v.return=C,C=v}return c(C);case Ln:return L=j._init,ye(C,v,L(j._payload),T)}if(Io(j))return $(C,v,j,T);if(So(j))return K(C,v,j,T);tl(C,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(n(C,v.sibling),v=l(v,j),v.return=C,C=v):(n(C,v),v=ls(j,C.mode,T),v.return=C,C=v),c(C)):n(C,v)}return ye}var oo=pp(!0),hp=pp(!1),Ol=nr(null),Tl=null,Hr=null,Mu=null;function Ou(){Mu=Hr=Tl=null}function Tu(e){var t=Ol.current;Be(Ol),e._currentValue=t}function Ks(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){Tl=e,Mu=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ct=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(Tl===null)throw Error(q(308));Hr=e,Tl.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var yr=null;function Iu(e){yr===null?yr=[e]:yr.push(e)}function mp(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Iu(t)):(n.next=l.next,l.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Cn(e,n)}return l=r.interleaved,l===null?(t.next=t,Iu(r)):(t.next=l.next,l.next=t),r.interleaved=t,Cn(e,n)}function fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wu(e,n)}}function xf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Il(e,t,n,r){var l=e.updateQueue;Fn=!1;var a=l.firstBaseUpdate,c=l.lastBaseUpdate,p=l.shared.pending;if(p!==null){l.shared.pending=null;var h=p,w=h.next;h.next=null,c===null?a=w:c.next=w,c=h;var z=e.alternate;z!==null&&(z=z.updateQueue,p=z.lastBaseUpdate,p!==c&&(p===null?z.firstBaseUpdate=w:p.next=w,z.lastBaseUpdate=h))}if(a!==null){var M=l.baseState;c=0,z=w=h=null,p=a;do{var A=p.lane,B=p.eventTime;if((r&A)===A){z!==null&&(z=z.next={eventTime:B,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var $=e,K=p;switch(A=t,B=n,K.tag){case 1:if($=K.payload,typeof $=="function"){M=$.call(B,M,A);break e}M=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=K.payload,A=typeof $=="function"?$.call(B,M,A):$,A==null)break e;M=He({},M,A);break e;case 2:Fn=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,A=l.effects,A===null?l.effects=[p]:A.push(p))}else B={eventTime:B,lane:A,tag:p.tag,payload:p.payload,callback:p.callback,next:null},z===null?(w=z=B,h=M):z=z.next=B,c|=A;if(p=p.next,p===null){if(p=l.shared.pending,p===null)break;A=p,p=A.next,A.next=null,l.lastBaseUpdate=A,l.shared.pending=null}}while(!0);if(z===null&&(h=M),l.baseState=h,l.firstBaseUpdate=w,l.lastBaseUpdate=z,t=l.shared.interleaved,t!==null){l=t;do c|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Sr|=c,e.lanes=c,e.memoizedState=M}}function kf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(q(191,l));l.call(r)}}}var di={},pn=nr(di),ni=nr(di),ri=nr(di);function gr(e){if(e===di)throw Error(q(174));return e}function Du(e,t){switch(Le(ri,t),Le(ni,e),Le(pn,di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ks(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ks(t,e)}Be(pn),Le(pn,t)}function io(){Be(pn),Be(ni),Be(ri)}function gp(e){gr(ri.current);var t=gr(pn.current),n=ks(t,e.type);t!==n&&(Le(ni,e),Le(pn,n))}function Au(e){ni.current===e&&(Be(pn),Be(ni))}var Ve=nr(0);function zl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var es=[];function Ru(){for(var e=0;e<es.length;e++)es[e]._workInProgressVersionPrimary=null;es.length=0}var dl=En.ReactCurrentDispatcher,ts=En.ReactCurrentBatchConfig,_r=0,qe=null,Ze=null,ot=null,Dl=!1,Ko=!1,oi=0,Fy=0;function pt(){throw Error(q(321))}function Lu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Fu(e,t,n,r,l,a){if(_r=a,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?$y:Vy,e=n(r,l),Ko){a=0;do{if(Ko=!1,oi=0,25<=a)throw Error(q(301));a+=1,ot=Ze=null,t.updateQueue=null,dl.current=qy,e=n(r,l)}while(Ko)}if(dl.current=Al,t=Ze!==null&&Ze.next!==null,_r=0,ot=Ze=qe=null,Dl=!1,t)throw Error(q(300));return e}function Bu(){var e=oi!==0;return oi=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=e:ot=ot.next=e,ot}function qt(){if(Ze===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=ot===null?qe.memoizedState:ot.next;if(t!==null)ot=t,Ze=e;else{if(e===null)throw Error(q(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ot===null?qe.memoizedState=ot=e:ot=ot.next=e}return ot}function ii(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=qt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Ze,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var c=l.next;l.next=a.next,a.next=c}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var p=c=null,h=null,w=a;do{var z=w.lane;if((_r&z)===z)h!==null&&(h=h.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var M={lane:z,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};h===null?(p=h=M,c=r):h=h.next=M,qe.lanes|=z,Sr|=z}w=w.next}while(w!==null&&w!==a);h===null?c=r:h.next=p,tn(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,qe.lanes|=a,Sr|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rs(e){var t=qt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var c=l=l.next;do a=e(a,c.action),c=c.next;while(c!==l);tn(a,t.memoizedState)||(Ct=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vp(){}function wp(e,t){var n=qe,r=qt(),l=t(),a=!tn(r.memoizedState,l);if(a&&(r.memoizedState=l,Ct=!0),r=r.queue,Ku(_p.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,li(9,kp.bind(null,n,r,l,t),void 0,null),it===null)throw Error(q(349));_r&30||xp(n,t,l)}return l}function xp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kp(e,t,n,r){t.value=n,t.getSnapshot=r,Sp(t)&&Cp(e)}function _p(e,t,n){return n(function(){Sp(t)&&Cp(e)})}function Sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Cp(e){var t=Cn(e,1);t!==null&&en(t,e,1,-1)}function _f(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},t.queue=e,e=e.dispatch=Uy.bind(null,qe,e),[t.memoizedState,e]}function li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bp(){return qt().memoizedState}function pl(e,t,n,r){var l=un();qe.flags|=e,l.memoizedState=li(1|t,n,void 0,r===void 0?null:r)}function Gl(e,t,n,r){var l=qt();r=r===void 0?null:r;var a=void 0;if(Ze!==null){var c=Ze.memoizedState;if(a=c.destroy,r!==null&&Lu(r,c.deps)){l.memoizedState=li(t,n,a,r);return}}qe.flags|=e,l.memoizedState=li(1|t,n,a,r)}function Sf(e,t){return pl(8390656,8,e,t)}function Ku(e,t){return Gl(2048,8,e,t)}function Ep(e,t){return Gl(4,2,e,t)}function jp(e,t){return Gl(4,4,e,t)}function Pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Np(e,t,n){return n=n!=null?n.concat([e]):null,Gl(4,4,Pp.bind(null,t,e),n)}function Uu(){}function Mp(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Op(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tp(e,t,n){return _r&21?(tn(n,t)||(n=Rd(),qe.lanes|=n,Sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n)}function By(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=ts.transition;ts.transition={};try{e(!1),t()}finally{Ie=n,ts.transition=r}}function Ip(){return qt().memoizedState}function Ky(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zp(e))Dp(t,n);else if(n=mp(e,t,n,r),n!==null){var l=wt();en(n,e,r,l),Ap(n,t,r)}}function Uy(e,t,n){var r=Gn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zp(e))Dp(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,p=a(c,n);if(l.hasEagerState=!0,l.eagerState=p,tn(p,c)){var h=t.interleaved;h===null?(l.next=l,Iu(t)):(l.next=h.next,h.next=l),t.interleaved=l;return}}catch{}finally{}n=mp(e,t,l,r),n!==null&&(l=wt(),en(n,e,r,l),Ap(n,t,r))}}function zp(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Dp(e,t){Ko=Dl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ap(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wu(e,n)}}var Al={readContext:Vt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},$y={readContext:Vt,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Sf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pl(4194308,4,Pp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return pl(4,2,e,t)},useMemo:function(e,t){var n=un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=un();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ky.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:_f,useDebugValue:Uu,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=_f(!1),t=e[0];return e=By.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qe,l=un();if(Ue){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),it===null)throw Error(q(349));_r&30||xp(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Sf(_p.bind(null,r,a,e),[e]),r.flags|=2048,li(9,kp.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=un(),t=it.identifierPrefix;if(Ue){var n=xn,r=wn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vy={readContext:Vt,useCallback:Mp,useContext:Vt,useEffect:Ku,useImperativeHandle:Np,useInsertionEffect:Ep,useLayoutEffect:jp,useMemo:Op,useReducer:ns,useRef:bp,useState:function(){return ns(ii)},useDebugValue:Uu,useDeferredValue:function(e){var t=qt();return Tp(t,Ze.memoizedState,e)},useTransition:function(){var e=ns(ii)[0],t=qt().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:wp,useId:Ip,unstable_isNewReconciler:!1},qy={readContext:Vt,useCallback:Mp,useContext:Vt,useEffect:Ku,useImperativeHandle:Np,useInsertionEffect:Ep,useLayoutEffect:jp,useMemo:Op,useReducer:rs,useRef:bp,useState:function(){return rs(ii)},useDebugValue:Uu,useDeferredValue:function(e){var t=qt();return Ze===null?t.memoizedState=e:Tp(t,Ze.memoizedState,e)},useTransition:function(){var e=rs(ii)[0],t=qt().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:wp,useId:Ip,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Us(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xl={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),l=Gn(e),a=kn(r,l);a.payload=t,n!=null&&(a.callback=n),t=Qn(e,a,l),t!==null&&(en(t,e,l,r),fl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),l=Gn(e),a=kn(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qn(e,a,l),t!==null&&(en(t,e,l,r),fl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=Gn(e),l=kn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Qn(e,l,r),t!==null&&(en(t,e,r,n),fl(t,e,r))}};function Cf(e,t,n,r,l,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Jo(n,r)||!Jo(l,a):!0}function Rp(e,t,n){var r=!1,l=Zn,a=t.contextType;return typeof a=="object"&&a!==null?a=Vt(a):(l=Et(t)?xr:yt.current,r=t.contextTypes,a=(r=r!=null)?no(e,l):Zn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function bf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function $s(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},zu(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Vt(a):(a=Et(t)?xr:yt.current,l.context=no(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Us(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Xl.enqueueReplaceState(l,l.state,null),Il(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do n+=wm(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hy=typeof WeakMap=="function"?WeakMap:Map;function Lp(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,eu=r),Vs(e,t)},n}function Fp(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Vs(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Vs(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function Ef(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hy;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=lg.bind(null,e,t,n),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pf(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var Wy=En.ReactCurrentOwner,Ct=!1;function vt(e,t,n,r){t.child=e===null?hp(t,null,n,r):oo(t,e.child,n,r)}function Nf(e,t,n,r,l){n=n.render;var a=t.ref;return Zr(t,l),r=Fu(e,t,n,r,a,l),n=Bu(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bn(e,t,l)):(Ue&&n&&ju(t),t.flags|=1,vt(e,t,r,l),t.child)}function Mf(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Gu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Bp(e,t,a,r,l)):(e=gl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Jo,n(c,r)&&e.ref===t.ref)return bn(e,t,l)}return t.flags|=1,e=Xn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Bp(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(Jo(a,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,bn(e,t,l)}return qs(e,t,n,r,l)}function Kp(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Qr,Ot),Ot|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Qr,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Le(Qr,Ot),Ot|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Le(Qr,Ot),Ot|=r;return vt(e,t,l,n),t.child}function Up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qs(e,t,n,r,l){var a=Et(n)?xr:yt.current;return a=no(t,a),Zr(t,l),n=Fu(e,t,n,r,a,l),r=Bu(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bn(e,t,l)):(Ue&&r&&ju(t),t.flags|=1,vt(e,t,n,l),t.child)}function Of(e,t,n,r,l){if(Et(n)){var a=!0;Pl(t)}else a=!1;if(Zr(t,l),t.stateNode===null)hl(e,t),Rp(t,n,r),$s(t,n,r,l),r=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var h=c.context,w=n.contextType;typeof w=="object"&&w!==null?w=Vt(w):(w=Et(n)?xr:yt.current,w=no(t,w));var z=n.getDerivedStateFromProps,M=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function";M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==r||h!==w)&&bf(t,c,r,w),Fn=!1;var A=t.memoizedState;c.state=A,Il(t,r,c,l),h=t.memoizedState,p!==r||A!==h||bt.current||Fn?(typeof z=="function"&&(Us(t,n,z,r),h=t.memoizedState),(p=Fn||Cf(t,n,p,r,A,h,w))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),c.props=r,c.state=h,c.context=w,r=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,yp(e,t),p=t.memoizedProps,w=t.type===t.elementType?p:Gt(t.type,p),c.props=w,M=t.pendingProps,A=c.context,h=n.contextType,typeof h=="object"&&h!==null?h=Vt(h):(h=Et(n)?xr:yt.current,h=no(t,h));var B=n.getDerivedStateFromProps;(z=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==M||A!==h)&&bf(t,c,r,h),Fn=!1,A=t.memoizedState,c.state=A,Il(t,r,c,l);var $=t.memoizedState;p!==M||A!==$||bt.current||Fn?(typeof B=="function"&&(Us(t,n,B,r),$=t.memoizedState),(w=Fn||Cf(t,n,w,r,A,$,h)||!1)?(z||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,$,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,$,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=$),c.props=r,c.state=$,c.context=h,r=w):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return Hs(e,t,n,r,a,l)}function Hs(e,t,n,r,l,a){Up(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return l&&yf(t,n,!1),bn(e,t,a);r=t.stateNode,Wy.current=t;var p=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=oo(t,e.child,null,a),t.child=oo(t,null,p,a)):vt(e,t,p,a),t.memoizedState=r.state,l&&yf(t,n,!0),t.child}function $p(e){var t=e.stateNode;t.pendingContext?mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mf(e,t.context,!1),Du(e,t.containerInfo)}function Tf(e,t,n,r,l){return ro(),Nu(l),t.flags|=256,vt(e,t,n,r),t.child}var Ws={dehydrated:null,treeContext:null,retryLane:0};function Qs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vp(e,t,n){var r=t.pendingProps,l=Ve.current,a=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(l&2)!==0),p?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Le(Ve,l&1),e===null)return Bs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=ea(c,r,0,null),e=wr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Qs(n),t.memoizedState=Ws,e):$u(t,c));if(l=e.memoizedState,l!==null&&(p=l.dehydrated,p!==null))return Qy(e,t,c,r,p,l,n);if(a){a=r.fallback,c=t.mode,l=e.child,p=l.sibling;var h={mode:"hidden",children:r.children};return!(c&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Xn(l,h),r.subtreeFlags=l.subtreeFlags&14680064),p!==null?a=Xn(p,a):(a=wr(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?Qs(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ws,r}return a=e.child,e=a.sibling,r=Xn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $u(e,t){return t=ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nl(e,t,n,r){return r!==null&&Nu(r),oo(t,e.child,null,n),e=$u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qy(e,t,n,r,l,a,c){if(n)return t.flags&256?(t.flags&=-257,r=os(Error(q(422))),nl(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=ea({mode:"visible",children:r.children},l,0,null),a=wr(a,l,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&oo(t,e.child,null,c),t.child.memoizedState=Qs(c),t.memoizedState=Ws,a);if(!(t.mode&1))return nl(e,t,c,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var p=r.dgst;return r=p,a=Error(q(419)),r=os(a,r,void 0),nl(e,t,c,r)}if(p=(c&e.childLanes)!==0,Ct||p){if(r=it,r!==null){switch(c&-c){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|c)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Cn(e,l),en(r,e,l,-1))}return Yu(),r=os(Error(q(421))),nl(e,t,c,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=ag.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Tt=Wn(l.nextSibling),It=t,Ue=!0,Jt=null,e!==null&&(Bt[Kt++]=wn,Bt[Kt++]=xn,Bt[Kt++]=kr,wn=e.id,xn=e.overflow,kr=t),t=$u(t,r.children),t.flags|=4096,t)}function If(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ks(e.return,t,n)}function is(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function qp(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(vt(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&If(e,n,t);else if(e.tag===19)If(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&zl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),is(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&zl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}is(t,!0,n,null,a);break;case"together":is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yy(e,t,n){switch(t.tag){case 3:$p(t),ro();break;case 5:gp(t);break;case 1:Et(t.type)&&Pl(t);break;case 4:Du(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Le(Ol,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?Vp(e,t,n):(Le(Ve,Ve.current&1),e=bn(e,t,n),e!==null?e.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Le(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Kp(e,t,n)}return bn(e,t,n)}var Hp,Ys,Wp,Qp;Hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ys=function(){};Wp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,gr(pn.current);var a=null;switch(n){case"input":l=gs(e,l),r=gs(e,r),a=[];break;case"select":l=He({},l,{value:void 0}),r=He({},r,{value:void 0}),a=[];break;case"textarea":l=xs(e,l),r=xs(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=El)}_s(n,r);var c;n=null;for(w in l)if(!r.hasOwnProperty(w)&&l.hasOwnProperty(w)&&l[w]!=null)if(w==="style"){var p=l[w];for(c in p)p.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(qo.hasOwnProperty(w)?a||(a=[]):(a=a||[]).push(w,null));for(w in r){var h=r[w];if(p=l!=null?l[w]:void 0,r.hasOwnProperty(w)&&h!==p&&(h!=null||p!=null))if(w==="style")if(p){for(c in p)!p.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in h)h.hasOwnProperty(c)&&p[c]!==h[c]&&(n||(n={}),n[c]=h[c])}else n||(a||(a=[]),a.push(w,n)),n=h;else w==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,p=p?p.__html:void 0,h!=null&&p!==h&&(a=a||[]).push(w,h)):w==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(w,""+h):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(qo.hasOwnProperty(w)?(h!=null&&w==="onScroll"&&Fe("scroll",e),a||p===h||(a=[])):(a=a||[]).push(w,h))}n&&(a=a||[]).push("style",n);var w=a;(t.updateQueue=w)&&(t.flags|=4)}};Qp=function(e,t,n,r){n!==r&&(t.flags|=4)};function No(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gy(e,t,n){var r=t.pendingProps;switch(Pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Et(t.type)&&jl(),ht(t),null;case 3:return r=t.stateNode,io(),Be(bt),Be(yt),Ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(el(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(ru(Jt),Jt=null))),Ys(e,t),ht(t),null;case 5:Au(t);var l=gr(ri.current);if(n=t.type,e!==null&&t.stateNode!=null)Wp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return ht(t),null}if(e=gr(pn.current),el(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fn]=t,r[ti]=a,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(l=0;l<Do.length;l++)Fe(Do[l],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Kc(r,a),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fe("invalid",r);break;case"textarea":$c(r,a),Fe("invalid",r)}_s(n,a),l=null;for(var c in a)if(a.hasOwnProperty(c)){var p=a[c];c==="children"?typeof p=="string"?r.textContent!==p&&(a.suppressHydrationWarning!==!0&&Zi(r.textContent,p,e),l=["children",p]):typeof p=="number"&&r.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&Zi(r.textContent,p,e),l=["children",""+p]):qo.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Fe("scroll",r)}switch(n){case"input":qi(r),Uc(r,a,!0);break;case"textarea":qi(r),Vc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=El)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_d(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fn]=t,e[ti]=r,Hp(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ss(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),l=r;break;case"iframe":case"object":case"embed":Fe("load",e),l=r;break;case"video":case"audio":for(l=0;l<Do.length;l++)Fe(Do[l],e);l=r;break;case"source":Fe("error",e),l=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),l=r;break;case"details":Fe("toggle",e),l=r;break;case"input":Kc(e,r),l=gs(e,r),Fe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=He({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":$c(e,r),l=xs(e,r),Fe("invalid",e);break;default:l=r}_s(n,l),p=l;for(a in p)if(p.hasOwnProperty(a)){var h=p[a];a==="style"?bd(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Sd(e,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ho(e,h):typeof h=="number"&&Ho(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qo.hasOwnProperty(a)?h!=null&&a==="onScroll"&&Fe("scroll",e):h!=null&&pu(e,a,h,c))}switch(n){case"input":qi(e),Uc(e,r,!1);break;case"textarea":qi(e),Vc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Yr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)Qp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=gr(ri.current),gr(pn.current),el(t)){if(r=t.stateNode,n=t.memoizedProps,r[fn]=t,(a=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:Zi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=t,t.stateNode=r}return ht(t),null;case 13:if(Be(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Tt!==null&&t.mode&1&&!(t.flags&128))dp(),ro(),t.flags|=98560,a=!1;else if(a=el(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[fn]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),a=!1}else Jt!==null&&(ru(Jt),Jt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?et===0&&(et=3):Yu())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return io(),Ys(e,t),e===null&&Zo(t.stateNode.containerInfo),ht(t),null;case 10:return Tu(t.type._context),ht(t),null;case 17:return Et(t.type)&&jl(),ht(t),null;case 19:if(Be(Ve),a=t.memoizedState,a===null)return ht(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)No(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=zl(e),c!==null){for(t.flags|=128,No(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ve,Ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Xe()>ao&&(t.flags|=128,r=!0,No(a,!1),t.lanes=4194304)}else{if(!r)if(e=zl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),No(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!Ue)return ht(t),null}else 2*Xe()-a.renderingStartTime>ao&&n!==1073741824&&(t.flags|=128,r=!0,No(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Ve.current,Le(Ve,r?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return Qu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Xy(e,t){switch(Pu(t),t.tag){case 1:return Et(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return io(),Be(bt),Be(yt),Ru(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Au(t),null;case 13:if(Be(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ve),null;case 4:return io(),null;case 10:return Tu(t.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var rl=!1,mt=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function Gs(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var zf=!1;function Zy(e,t){if(Is=Sl,e=Zd(),Eu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,p=-1,h=-1,w=0,z=0,M=e,A=null;t:for(;;){for(var B;M!==n||l!==0&&M.nodeType!==3||(p=c+l),M!==a||r!==0&&M.nodeType!==3||(h=c+r),M.nodeType===3&&(c+=M.nodeValue.length),(B=M.firstChild)!==null;)A=M,M=B;for(;;){if(M===e)break t;if(A===n&&++w===l&&(p=c),A===a&&++z===r&&(h=c),(B=M.nextSibling)!==null)break;M=A,A=M.parentNode}M=B}n=p===-1||h===-1?null:{start:p,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(zs={focusedElem:e,selectionRange:n},Sl=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var $=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if($!==null){var K=$.memoizedProps,ye=$.memoizedState,C=t.stateNode,v=C.getSnapshotBeforeUpdate(t.elementType===t.type?K:Gt(t.type,K),ye);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(T){Qe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return $=zf,zf=!1,$}function Uo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Gs(t,n,a)}l=l.next}while(l!==r)}}function Jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yp(e){var t=e.alternate;t!==null&&(e.alternate=null,Yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[ti],delete t[Rs],delete t[Dy],delete t[Ay])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gp(e){return e.tag===5||e.tag===3||e.tag===4}function Df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=El));else if(r!==4&&(e=e.child,e!==null))for(Js(e,t,n),e=e.sibling;e!==null;)Js(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zs(e,t,n),e=e.sibling;e!==null;)Zs(e,t,n),e=e.sibling}var at=null,Xt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Xp(e,t,n),n=n.sibling}function Xp(e,t,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Vl,n)}catch{}switch(n.tag){case 5:mt||Wr(n,t);case 6:var r=at,l=Xt;at=null,Rn(e,t,n),at=r,Xt=l,at!==null&&(Xt?(e=at,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(Xt?(e=at,n=n.stateNode,e.nodeType===8?Ja(e.parentNode,n):e.nodeType===1&&Ja(e,n),Go(e)):Ja(at,n.stateNode));break;case 4:r=at,l=Xt,at=n.stateNode.containerInfo,Xt=!0,Rn(e,t,n),at=r,Xt=l;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Gs(n,t,c),l=l.next}while(l!==r)}Rn(e,t,n);break;case 1:if(!mt&&(Wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(p){Qe(n,t,p)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,Rn(e,t,n),mt=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function Af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jy),t.forEach(function(r){var l=sg.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:at=p.stateNode,Xt=!1;break e;case 3:at=p.stateNode.containerInfo,Xt=!0;break e;case 4:at=p.stateNode.containerInfo,Xt=!0;break e}p=p.return}if(at===null)throw Error(q(160));Xp(a,c,l),at=null,Xt=!1;var h=l.alternate;h!==null&&(h.return=null),l.return=null}catch(w){Qe(l,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jp(t,e),t=t.sibling}function Jp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),sn(e),r&4){try{Uo(3,e,e.return),Jl(3,e)}catch(K){Qe(e,e.return,K)}try{Uo(5,e,e.return)}catch(K){Qe(e,e.return,K)}}break;case 1:Yt(t,e),sn(e),r&512&&n!==null&&Wr(n,n.return);break;case 5:if(Yt(t,e),sn(e),r&512&&n!==null&&Wr(n,n.return),e.flags&32){var l=e.stateNode;try{Ho(l,"")}catch(K){Qe(e,e.return,K)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,p=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&xd(l,a),Ss(p,c);var w=Ss(p,a);for(c=0;c<h.length;c+=2){var z=h[c],M=h[c+1];z==="style"?bd(l,M):z==="dangerouslySetInnerHTML"?Sd(l,M):z==="children"?Ho(l,M):pu(l,z,M,w)}switch(p){case"input":vs(l,a);break;case"textarea":kd(l,a);break;case"select":var A=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var B=a.value;B!=null?Yr(l,!!a.multiple,B,!1):A!==!!a.multiple&&(a.defaultValue!=null?Yr(l,!!a.multiple,a.defaultValue,!0):Yr(l,!!a.multiple,a.multiple?[]:"",!1))}l[ti]=a}catch(K){Qe(e,e.return,K)}}break;case 6:if(Yt(t,e),sn(e),r&4){if(e.stateNode===null)throw Error(q(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(K){Qe(e,e.return,K)}}break;case 3:if(Yt(t,e),sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Go(t.containerInfo)}catch(K){Qe(e,e.return,K)}break;case 4:Yt(t,e),sn(e);break;case 13:Yt(t,e),sn(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Hu=Xe())),r&4&&Af(e);break;case 22:if(z=n!==null&&n.memoizedState!==null,e.mode&1?(mt=(w=mt)||z,Yt(t,e),mt=w):Yt(t,e),sn(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!z&&e.mode&1)for(ce=e,z=e.child;z!==null;){for(M=ce=z;ce!==null;){switch(A=ce,B=A.child,A.tag){case 0:case 11:case 14:case 15:Uo(4,A,A.return);break;case 1:Wr(A,A.return);var $=A.stateNode;if(typeof $.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,$.props=t.memoizedProps,$.state=t.memoizedState,$.componentWillUnmount()}catch(K){Qe(r,n,K)}}break;case 5:Wr(A,A.return);break;case 22:if(A.memoizedState!==null){Lf(M);continue}}B!==null?(B.return=A,ce=B):Lf(M)}z=z.sibling}e:for(z=null,M=e;;){if(M.tag===5){if(z===null){z=M;try{l=M.stateNode,w?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=M.stateNode,h=M.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,p.style.display=Cd("display",c))}catch(K){Qe(e,e.return,K)}}}else if(M.tag===6){if(z===null)try{M.stateNode.nodeValue=w?"":M.memoizedProps}catch(K){Qe(e,e.return,K)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;z===M&&(z=null),M=M.return}z===M&&(z=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Yt(t,e),sn(e),r&4&&Af(e);break;case 21:break;default:Yt(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gp(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ho(l,""),r.flags&=-33);var a=Df(e);Zs(e,a,l);break;case 3:case 4:var c=r.stateNode.containerInfo,p=Df(e);Js(e,p,c);break;default:throw Error(q(161))}}catch(h){Qe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eg(e,t,n){ce=e,Zp(e)}function Zp(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var l=ce,a=l.child;if(l.tag===22&&r){var c=l.memoizedState!==null||rl;if(!c){var p=l.alternate,h=p!==null&&p.memoizedState!==null||mt;p=rl;var w=mt;if(rl=c,(mt=h)&&!w)for(ce=l;ce!==null;)c=ce,h=c.child,c.tag===22&&c.memoizedState!==null?Ff(l):h!==null?(h.return=c,ce=h):Ff(l);for(;a!==null;)ce=a,Zp(a),a=a.sibling;ce=l,rl=p,mt=w}Rf(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,ce=a):Rf(e)}}function Rf(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||Jl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kf(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kf(t,c,n)}break;case 5:var p=t.stateNode;if(n===null&&t.flags&4){n=p;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var z=w.memoizedState;if(z!==null){var M=z.dehydrated;M!==null&&Go(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}mt||t.flags&512&&Xs(t)}catch(A){Qe(t,t.return,A)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Lf(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Ff(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jl(4,t)}catch(h){Qe(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(h){Qe(t,l,h)}}var a=t.return;try{Xs(t)}catch(h){Qe(t,a,h)}break;case 5:var c=t.return;try{Xs(t)}catch(h){Qe(t,c,h)}}}catch(h){Qe(t,t.return,h)}if(t===e){ce=null;break}var p=t.sibling;if(p!==null){p.return=t.return,ce=p;break}ce=t.return}}var tg=Math.ceil,Rl=En.ReactCurrentDispatcher,Vu=En.ReactCurrentOwner,$t=En.ReactCurrentBatchConfig,Me=0,it=null,Je=null,st=0,Ot=0,Qr=nr(0),et=0,ai=null,Sr=0,Zl=0,qu=0,$o=null,St=null,Hu=0,ao=1/0,gn=null,Ll=!1,eu=null,Yn=null,ol=!1,$n=null,Fl=0,Vo=0,tu=null,ml=-1,yl=0;function wt(){return Me&6?Xe():ml!==-1?ml:ml=Xe()}function Gn(e){return e.mode&1?Me&2&&st!==0?st&-st:Ly.transition!==null?(yl===0&&(yl=Rd()),yl):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Vd(e.type)),e):1}function en(e,t,n,r){if(50<Vo)throw Vo=0,tu=null,Error(q(185));ui(e,n,r),(!(Me&2)||e!==it)&&(e===it&&(!(Me&2)&&(Zl|=n),et===4&&Kn(e,st)),jt(e,r),n===1&&Me===0&&!(t.mode&1)&&(ao=Xe()+500,Yl&&rr()))}function jt(e,t){var n=e.callbackNode;Lm(e,t);var r=_l(e,e===it?st:0);if(r===0)n!==null&&Wc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wc(n),t===1)e.tag===0?Ry(Bf.bind(null,e)):up(Bf.bind(null,e)),Iy(function(){!(Me&6)&&rr()}),n=null;else{switch(Ld(r)){case 1:n=vu;break;case 4:n=Dd;break;case 16:n=kl;break;case 536870912:n=Ad;break;default:n=kl}n=ah(n,eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eh(e,t){if(ml=-1,yl=0,Me&6)throw Error(q(327));var n=e.callbackNode;if(eo()&&e.callbackNode!==n)return null;var r=_l(e,e===it?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bl(e,r);else{t=r;var l=Me;Me|=2;var a=nh();(it!==e||st!==t)&&(gn=null,ao=Xe()+500,vr(e,t));do try{og();break}catch(p){th(e,p)}while(!0);Ou(),Rl.current=a,Me=l,Je!==null?t=0:(it=null,st=0,t=et)}if(t!==0){if(t===2&&(l=Ps(e),l!==0&&(r=l,t=nu(e,l))),t===1)throw n=ai,vr(e,0),Kn(e,r),jt(e,Xe()),n;if(t===6)Kn(e,r);else{if(l=e.current.alternate,!(r&30)&&!ng(l)&&(t=Bl(e,r),t===2&&(a=Ps(e),a!==0&&(r=a,t=nu(e,a))),t===1))throw n=ai,vr(e,0),Kn(e,r),jt(e,Xe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:hr(e,St,gn);break;case 3:if(Kn(e,r),(r&130023424)===r&&(t=Hu+500-Xe(),10<t)){if(_l(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=As(hr.bind(null,e,St,gn),t);break}hr(e,St,gn);break;case 4:if(Kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var c=31-Zt(r);a=1<<c,c=t[c],c>l&&(l=c),r&=~a}if(r=l,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tg(r/1960))-r,10<r){e.timeoutHandle=As(hr.bind(null,e,St,gn),r);break}hr(e,St,gn);break;case 5:hr(e,St,gn);break;default:throw Error(q(329))}}}return jt(e,Xe()),e.callbackNode===n?eh.bind(null,e):null}function nu(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=St,St=n,t!==null&&ru(t)),e}function ru(e){St===null?St=e:St.push.apply(St,e)}function ng(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!tn(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~qu,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zt(t),r=1<<n;e[n]=-1,t&=~r}}function Bf(e){if(Me&6)throw Error(q(327));eo();var t=_l(e,0);if(!(t&1))return jt(e,Xe()),null;var n=Bl(e,t);if(e.tag!==0&&n===2){var r=Ps(e);r!==0&&(t=r,n=nu(e,r))}if(n===1)throw n=ai,vr(e,0),Kn(e,t),jt(e,Xe()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,St,gn),jt(e,Xe()),null}function Wu(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(ao=Xe()+500,Yl&&rr())}}function Cr(e){$n!==null&&$n.tag===0&&!(Me&6)&&eo();var t=Me;Me|=1;var n=$t.transition,r=Ie;try{if($t.transition=null,Ie=1,e)return e()}finally{Ie=r,$t.transition=n,Me=t,!(Me&6)&&rr()}}function Qu(){Ot=Qr.current,Be(Qr)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ty(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Pu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:io(),Be(bt),Be(yt),Ru();break;case 5:Au(r);break;case 4:io();break;case 13:Be(Ve);break;case 19:Be(Ve);break;case 10:Tu(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(it=e,Je=e=Xn(e.current,null),st=Ot=t,et=0,ai=null,qu=Zl=Sr=0,St=$o=null,yr!==null){for(t=0;t<yr.length;t++)if(n=yr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=l,r.next=c}n.pending=r}yr=null}return e}function th(e,t){do{var n=Je;try{if(Ou(),dl.current=Al,Dl){for(var r=qe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Dl=!1}if(_r=0,ot=Ze=qe=null,Ko=!1,oi=0,Vu.current=null,n===null||n.return===null){et=1,ai=t,Je=null;break}e:{var a=e,c=n.return,p=n,h=t;if(t=st,p.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var w=h,z=p,M=z.tag;if(!(z.mode&1)&&(M===0||M===11||M===15)){var A=z.alternate;A?(z.updateQueue=A.updateQueue,z.memoizedState=A.memoizedState,z.lanes=A.lanes):(z.updateQueue=null,z.memoizedState=null)}var B=jf(c);if(B!==null){B.flags&=-257,Pf(B,c,p,a,t),B.mode&1&&Ef(a,w,t),t=B,h=w;var $=t.updateQueue;if($===null){var K=new Set;K.add(h),t.updateQueue=K}else $.add(h);break e}else{if(!(t&1)){Ef(a,w,t),Yu();break e}h=Error(q(426))}}else if(Ue&&p.mode&1){var ye=jf(c);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),Pf(ye,c,p,a,t),Nu(lo(h,p));break e}}a=h=lo(h,p),et!==4&&(et=2),$o===null?$o=[a]:$o.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var C=Lp(a,h,t);xf(a,C);break e;case 1:p=h;var v=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Yn===null||!Yn.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=Fp(a,p,t);xf(a,T);break e}}a=a.return}while(a!==null)}oh(n)}catch(Q){t=Q,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function nh(){var e=Rl.current;return Rl.current=Al,e===null?Al:e}function Yu(){(et===0||et===3||et===2)&&(et=4),it===null||!(Sr&268435455)&&!(Zl&268435455)||Kn(it,st)}function Bl(e,t){var n=Me;Me|=2;var r=nh();(it!==e||st!==t)&&(gn=null,vr(e,t));do try{rg();break}catch(l){th(e,l)}while(!0);if(Ou(),Me=n,Rl.current=r,Je!==null)throw Error(q(261));return it=null,st=0,et}function rg(){for(;Je!==null;)rh(Je)}function og(){for(;Je!==null&&!Nm();)rh(Je)}function rh(e){var t=lh(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?oh(e):Je=t,Vu.current=null}function oh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xy(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Je=null;return}}else if(n=Gy(n,t,Ot),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);et===0&&(et=5)}function hr(e,t,n){var r=Ie,l=$t.transition;try{$t.transition=null,Ie=1,ig(e,t,n,r)}finally{$t.transition=l,Ie=r}return null}function ig(e,t,n,r){do eo();while($n!==null);if(Me&6)throw Error(q(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Fm(e,a),e===it&&(Je=it=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,ah(kl,function(){return eo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$t.transition,$t.transition=null;var c=Ie;Ie=1;var p=Me;Me|=4,Vu.current=null,Zy(e,n),Jp(n,e),by(zs),Sl=!!Is,zs=Is=null,e.current=n,eg(n),Mm(),Me=p,Ie=c,$t.transition=a}else e.current=n;if(ol&&(ol=!1,$n=e,Fl=l),a=e.pendingLanes,a===0&&(Yn=null),Im(n.stateNode),jt(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ll)throw Ll=!1,e=eu,eu=null,e;return Fl&1&&e.tag!==0&&eo(),a=e.pendingLanes,a&1?e===tu?Vo++:(Vo=0,tu=e):Vo=0,rr(),null}function eo(){if($n!==null){var e=Ld(Fl),t=$t.transition,n=Ie;try{if($t.transition=null,Ie=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,Fl=0,Me&6)throw Error(q(331));var l=Me;for(Me|=4,ce=e.current;ce!==null;){var a=ce,c=a.child;if(ce.flags&16){var p=a.deletions;if(p!==null){for(var h=0;h<p.length;h++){var w=p[h];for(ce=w;ce!==null;){var z=ce;switch(z.tag){case 0:case 11:case 15:Uo(8,z,a)}var M=z.child;if(M!==null)M.return=z,ce=M;else for(;ce!==null;){z=ce;var A=z.sibling,B=z.return;if(Yp(z),z===w){ce=null;break}if(A!==null){A.return=B,ce=A;break}ce=B}}}var $=a.alternate;if($!==null){var K=$.child;if(K!==null){$.child=null;do{var ye=K.sibling;K.sibling=null,K=ye}while(K!==null)}}ce=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,ce=c;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Uo(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,ce=C;break e}ce=a.return}}var v=e.current;for(ce=v;ce!==null;){c=ce;var j=c.child;if(c.subtreeFlags&2064&&j!==null)j.return=c,ce=j;else e:for(c=v;ce!==null;){if(p=ce,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Jl(9,p)}}catch(Q){Qe(p,p.return,Q)}if(p===c){ce=null;break e}var T=p.sibling;if(T!==null){T.return=p.return,ce=T;break e}ce=p.return}}if(Me=l,rr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Vl,e)}catch{}r=!0}return r}finally{Ie=n,$t.transition=t}}return!1}function Kf(e,t,n){t=lo(n,t),t=Lp(e,t,1),e=Qn(e,t,1),t=wt(),e!==null&&(ui(e,1,t),jt(e,t))}function Qe(e,t,n){if(e.tag===3)Kf(e,e,n);else for(;t!==null;){if(t.tag===3){Kf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=lo(n,e),e=Fp(t,e,1),t=Qn(t,e,1),e=wt(),t!==null&&(ui(t,1,e),jt(t,e));break}}t=t.return}}function lg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(st&n)===n&&(et===4||et===3&&(st&130023424)===st&&500>Xe()-Hu?vr(e,0):qu|=n),jt(e,t)}function ih(e,t){t===0&&(e.mode&1?(t=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):t=1);var n=wt();e=Cn(e,t),e!==null&&(ui(e,t,n),jt(e,n))}function ag(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ih(e,n)}function sg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),ih(e,n)}var lh;lh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)Ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ct=!1,Yy(e,t,n);Ct=!!(e.flags&131072)}else Ct=!1,Ue&&t.flags&1048576&&cp(t,Ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hl(e,t),e=t.pendingProps;var l=no(t,yt.current);Zr(t,n),l=Fu(null,t,r,e,l,n);var a=Bu();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(a=!0,Pl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,zu(t),l.updater=Xl,t.stateNode=l,l._reactInternals=t,$s(t,r,e,n),t=Hs(null,t,r,!0,a,n)):(t.tag=0,Ue&&a&&ju(t),vt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=cg(r),e=Gt(r,e),l){case 0:t=qs(null,t,r,e,n);break e;case 1:t=Of(null,t,r,e,n);break e;case 11:t=Nf(null,t,r,e,n);break e;case 14:t=Mf(null,t,r,Gt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Gt(r,l),qs(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Gt(r,l),Of(e,t,r,l,n);case 3:e:{if($p(t),e===null)throw Error(q(387));r=t.pendingProps,a=t.memoizedState,l=a.element,yp(e,t),Il(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=lo(Error(q(423)),t),t=Tf(e,t,r,n,l);break e}else if(r!==l){l=lo(Error(q(424)),t),t=Tf(e,t,r,n,l);break e}else for(Tt=Wn(t.stateNode.containerInfo.firstChild),It=t,Ue=!0,Jt=null,n=hp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===l){t=bn(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return gp(t),e===null&&Bs(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,c=l.children,Ds(r,l)?c=null:a!==null&&Ds(r,a)&&(t.flags|=32),Up(e,t),vt(e,t,c,n),t.child;case 6:return e===null&&Bs(t),null;case 13:return Vp(e,t,n);case 4:return Du(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=oo(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Gt(r,l),Nf(e,t,r,l,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,c=l.value,Le(Ol,r._currentValue),r._currentValue=c,a!==null)if(tn(a.value,c)){if(a.children===l.children&&!bt.current){t=bn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var p=a.dependencies;if(p!==null){c=a.child;for(var h=p.firstContext;h!==null;){if(h.context===r){if(a.tag===1){h=kn(-1,n&-n),h.tag=2;var w=a.updateQueue;if(w!==null){w=w.shared;var z=w.pending;z===null?h.next=h:(h.next=z.next,z.next=h),w.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),Ks(a.return,n,t),p.lanes|=n;break}h=h.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(q(341));c.lanes|=n,p=c.alternate,p!==null&&(p.lanes|=n),Ks(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}vt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Zr(t,n),l=Vt(l),r=r(l),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,l=Gt(r,t.pendingProps),l=Gt(r.type,l),Mf(e,t,r,l,n);case 15:return Bp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Gt(r,l),hl(e,t),t.tag=1,Et(r)?(e=!0,Pl(t)):e=!1,Zr(t,n),Rp(t,r,l),$s(t,r,l,n),Hs(null,t,r,!0,e,n);case 19:return qp(e,t,n);case 22:return Kp(e,t,n)}throw Error(q(156,t.tag))};function ah(e,t){return zd(e,t)}function ug(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new ug(e,t,n,r)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cg(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mu)return 11;if(e===yu)return 14}return 2}function Xn(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gl(e,t,n,r,l,a){var c=2;if(r=e,typeof e=="function")Gu(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Lr:return wr(n.children,l,a,t);case hu:c=8,l|=8;break;case ps:return e=Ut(12,n,t,l|2),e.elementType=ps,e.lanes=a,e;case hs:return e=Ut(13,n,t,l),e.elementType=hs,e.lanes=a,e;case ms:return e=Ut(19,n,t,l),e.elementType=ms,e.lanes=a,e;case gd:return ea(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case md:c=10;break e;case yd:c=9;break e;case mu:c=11;break e;case yu:c=14;break e;case Ln:c=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Ut(c,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function wr(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function ea(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=gd,e.lanes=n,e.stateNode={isHidden:!1},e}function ls(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function as(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r,l,a,c,p,h){return e=new fg(e,t,n,p,h),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ut(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(a),e}function dg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sh(e){if(!e)return Zn;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Et(n))return sp(e,n,t)}return t}function uh(e,t,n,r,l,a,c,p,h){return e=Xu(n,r,!0,e,l,a,c,p,h),e.context=sh(null),n=e.current,r=wt(),l=Gn(n),a=kn(r,l),a.callback=t??null,Qn(n,a,l),e.current.lanes=l,ui(e,l,r),jt(e,r),e}function ta(e,t,n,r){var l=t.current,a=wt(),c=Gn(l);return n=sh(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(l,t,c),e!==null&&(en(e,l,c,a),fl(e,l,c)),c}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){Uf(e,t),(e=e.alternate)&&Uf(e,t)}function pg(){return null}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}na.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));ta(e,t,null,null)};na.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){ta(null,e,null,null)}),t[Sn]=null}};function na(e){this._internalRoot=e}na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&$d(e)}};function ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $f(){}function hg(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var w=Kl(c);a.call(w)}}var c=uh(t,r,e,0,null,!1,!1,"",$f);return e._reactRootContainer=c,e[Sn]=c.current,Zo(e.nodeType===8?e.parentNode:e),Cr(),c}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var p=r;r=function(){var w=Kl(h);p.call(w)}}var h=Xu(e,0,!1,null,null,!1,!1,"",$f);return e._reactRootContainer=h,e[Sn]=h.current,Zo(e.nodeType===8?e.parentNode:e),Cr(function(){ta(t,h,n,r)}),h}function oa(e,t,n,r,l){var a=n._reactRootContainer;if(a){var c=a;if(typeof l=="function"){var p=l;l=function(){var h=Kl(c);p.call(h)}}ta(t,c,e,l)}else c=hg(n,t,e,l,r);return Kl(c)}Fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zo(t.pendingLanes);n!==0&&(wu(t,n|1),jt(t,Xe()),!(Me&6)&&(ao=Xe()+500,rr()))}break;case 13:Cr(function(){var r=Cn(e,1);if(r!==null){var l=wt();en(r,e,1,l)}}),Ju(e,1)}};xu=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=wt();en(t,e,134217728,n)}Ju(e,134217728)}};Bd=function(e){if(e.tag===13){var t=Gn(e),n=Cn(e,t);if(n!==null){var r=wt();en(n,e,t,r)}Ju(e,t)}};Kd=function(){return Ie};Ud=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};bs=function(e,t,n){switch(t){case"input":if(vs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ql(r);if(!l)throw Error(q(90));wd(r),vs(r,l)}}}break;case"textarea":kd(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};Pd=Wu;Nd=Cr;var mg={usingClientEntryPoint:!1,Events:[fi,Ur,Ql,Ed,jd,Wu]},Mo={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yg={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Td(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{Vl=il.inject(yg),dn=il}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mg;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(t))throw Error(q(200));return dg(e,t,null,n)};Dt.createRoot=function(e,t){if(!ec(e))throw Error(q(299));var n=!1,r="",l=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Xu(e,1,!1,null,null,n,!1,r,l),e[Sn]=t.current,Zo(e.nodeType===8?e.parentNode:e),new Zu(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Td(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Cr(e)};Dt.hydrate=function(e,t,n){if(!ra(t))throw Error(q(200));return oa(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!ec(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",c=ch;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=uh(t,null,e,1,n??null,l,!1,a,c),e[Sn]=t.current,Zo(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new na(t)};Dt.render=function(e,t,n){if(!ra(t))throw Error(q(200));return oa(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!ra(e))throw Error(q(40));return e._reactRootContainer?(Cr(function(){oa(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};Dt.unstable_batchedUpdates=Wu;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ra(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return oa(e,t,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fh)}catch(e){console.error(e)}}fh(),fd.exports=Dt;var gg=fd.exports,Vf=gg;fs.createRoot=Vf.createRoot,fs.hydrateRoot=Vf.hydrateRoot;const vg="modulepreload",wg=function(e){return"/ALQ_INV/"+e},qf={},Rt=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));l=Promise.allSettled(n.map(h=>{if(h=wg(h),h in qf)return;qf[h]=!0;const w=h.endsWith(".css"),z=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${z}`))return;const M=document.createElement("link");if(M.rel=w?"stylesheet":vg,w||(M.as="script"),M.crossOrigin="",M.href=h,p&&M.setAttribute("nonce",p),document.head.appendChild(M),w)return new Promise((A,B)=>{M.addEventListener("load",A),M.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return l.then(c=>{for(const p of c||[])p.status==="rejected"&&a(p.reason);return t().catch(a)})};var dh={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zc,function(){var n=function(o,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(s[f]=u[f])})(o,i)},r=function(){return(r=Object.assign||function(o){for(var i,s=1,u=arguments.length;s<u;s++)for(var f in i=arguments[s])Object.prototype.hasOwnProperty.call(i,f)&&(o[f]=i[f]);return o}).apply(this,arguments)};function l(o,i,s){for(var u,f=0,d=i.length;f<d;f++)!u&&f in i||((u=u||Array.prototype.slice.call(i,0,f))[f]=i[f]);return o.concat(u||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:zc,c=Object.keys,p=Array.isArray;function h(o,i){return typeof i!="object"||c(i).forEach(function(s){o[s]=i[s]}),o}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var w=Object.getPrototypeOf,z={}.hasOwnProperty;function M(o,i){return z.call(o,i)}function A(o,i){typeof i=="function"&&(i=i(w(o))),(typeof Reflect>"u"?c:Reflect.ownKeys)(i).forEach(function(s){$(o,s,i[s])})}var B=Object.defineProperty;function $(o,i,s,u){B(o,i,h(s&&M(s,"get")&&typeof s.get=="function"?{get:s.get,set:s.set,configurable:!0}:{value:s,configurable:!0,writable:!0},u))}function K(o){return{from:function(i){return o.prototype=Object.create(i.prototype),$(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var ye=Object.getOwnPropertyDescriptor,C=[].slice;function v(o,i,s){return C.call(o,i,s)}function j(o,i){return i(o)}function T(o){if(!o)throw new Error("Assertion Failed")}function Q(o){a.setImmediate?setImmediate(o):setTimeout(o,0)}function L(o,i){if(typeof i=="string"&&M(o,i))return o[i];if(!i)return o;if(typeof i!="string"){for(var s=[],u=0,f=i.length;u<f;++u){var d=L(o,i[u]);s.push(d)}return s}var y=i.indexOf(".");if(y!==-1){var g=o[i.substr(0,y)];return g==null?void 0:L(g,i.substr(y+1))}}function R(o,i,s){if(o&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof i!="string"&&"length"in i){T(typeof s!="string"&&"length"in s);for(var u=0,f=i.length;u<f;++u)R(o,i[u],s[u])}else{var d,y,g=i.indexOf(".");g!==-1?(d=i.substr(0,g),(y=i.substr(g+1))===""?s===void 0?p(o)&&!isNaN(parseInt(d))?o.splice(d,1):delete o[d]:o[d]=s:R(g=!(g=o[d])||!M(o,d)?o[d]={}:g,y,s)):s===void 0?p(o)&&!isNaN(parseInt(i))?o.splice(i,1):delete o[i]:o[i]=s}}function ne(o){var i,s={};for(i in o)M(o,i)&&(s[i]=o[i]);return s}var ke=[].concat;function X(o){return ke.apply([],o)}var ae="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(X([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(i){return i+o+"Array"})}))).filter(function(o){return a[o]}),fe=new Set(ae.map(function(o){return a[o]})),Pe=null;function ge(o){return Pe=new WeakMap,o=function i(s){if(!s||typeof s!="object")return s;var u=Pe.get(s);if(u)return u;if(p(s)){u=[],Pe.set(s,u);for(var f=0,d=s.length;f<d;++f)u.push(i(s[f]))}else if(fe.has(s.constructor))u=s;else{var y,g=w(s);for(y in u=g===Object.prototype?{}:Object.create(g),Pe.set(s,u),s)M(s,y)&&(u[y]=i(s[y]))}return u}(o),Pe=null,o}var Ae={}.toString;function tt(o){return Ae.call(o).slice(8,-1)}var Ht=typeof Symbol<"u"?Symbol.iterator:"@@iterator",nn=typeof Ht=="symbol"?function(o){var i;return o!=null&&(i=o[Ht])&&i.apply(o)}:function(){return null};function oe(o,i){return i=o.indexOf(i),0<=i&&o.splice(i,1),0<=i}var he={};function me(o){var i,s,u,f;if(arguments.length===1){if(p(o))return o.slice();if(this===he&&typeof o=="string")return[o];if(f=nn(o)){for(s=[];!(u=f.next()).done;)s.push(u.value);return s}if(o==null)return[o];if(typeof(i=o.length)!="number")return[o];for(s=new Array(i);i--;)s[i]=o[i];return s}for(i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return s}var ze=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ee=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ft=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ee),$e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _t(o,i){this.name=o,this.message=i}function Pt(o,i){return o+". Errors: "+Object.keys(i).map(function(s){return i[s].toString()}).filter(function(s,u,f){return f.indexOf(s)===u}).join(`
`)}function Wt(o,i,s,u){this.failures=i,this.failedKeys=u,this.successCount=s,this.message=Pt(o,i)}function lt(o,i){this.name="BulkError",this.failures=Object.keys(i).map(function(s){return i[s]}),this.failuresByPos=i,this.message=Pt(o,this.failures)}K(_t).from(Error).extend({toString:function(){return this.name+": "+this.message}}),K(Wt).from(_t),K(lt).from(_t);var Qt=Ft.reduce(function(o,i){return o[i]=i+"Error",o},{}),pi=_t,pe=Ft.reduce(function(o,i){var s=i+"Error";function u(f,d){this.name=s,f?typeof f=="string"?(this.message="".concat(f).concat(d?`
 `+d:""),this.inner=d||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=$e[i]||s,this.inner=null)}return K(u).from(pi),o[i]=u,o},{});pe.Syntax=SyntaxError,pe.Type=TypeError,pe.Range=RangeError;var fo=ee.reduce(function(o,i){return o[i+"Error"]=pe[i],o},{}),or=Ft.reduce(function(o,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(o[i+"Error"]=pe[i]),o},{});function Te(){}function Pn(o){return o}function hi(o,i){return o==null||o===Pn?i:function(s){return i(o(s))}}function rn(o,i){return function(){o.apply(this,arguments),i.apply(this,arguments)}}function mi(o,i){return o===Te?i:function(){var s=o.apply(this,arguments);s!==void 0&&(arguments[0]=s);var u=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var d=i.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?rn(u,this.onsuccess):u),f&&(this.onerror=this.onerror?rn(f,this.onerror):f),d!==void 0?d:s}}function yi(o,i){return o===Te?i:function(){o.apply(this,arguments);var s=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?rn(s,this.onsuccess):s),u&&(this.onerror=this.onerror?rn(u,this.onerror):u)}}function gi(o,i){return o===Te?i:function(s){var u=o.apply(this,arguments);h(s,u);var f=this.onsuccess,d=this.onerror;return this.onsuccess=null,this.onerror=null,s=i.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?rn(f,this.onsuccess):f),d&&(this.onerror=this.onerror?rn(d,this.onerror):d),u===void 0?s===void 0?void 0:s:h(u,s)}}function vi(o,i){return o===Te?i:function(){return i.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function jr(o,i){return o===Te?i:function(){var s=o.apply(this,arguments);if(s&&typeof s.then=="function"){for(var u=this,f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];return s.then(function(){return i.apply(u,d)})}return i.apply(this,arguments)}}or.ModifyError=Wt,or.DexieError=_t,or.BulkError=lt;var Lt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Y(o){Lt=o}var ie={},se=100,ae=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,w(o),o];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,w(i),o]}(),ee=ae[0],Ft=ae[1],ae=ae[2],Ft=Ft&&Ft.then,Se=ee&&ee.constructor,De=!!ae,Ee=function(o,i){po.push([o,i]),We&&(queueMicrotask(_h),We=!1)},ve=!0,We=!0,on=[],Nn=[],ir=Pn,Mn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Te,pgp:!1,env:{},finalize:Te},de=Mn,po=[],lr=0,wi=[];function le(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=de;if(typeof o!="function"){if(o!==ie)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&la(this,this._value))}this._state=null,this._value=null,++i.ref,function s(u,f){try{f(function(d){if(u._state===null){if(d===u)throw new TypeError("A promise cannot be resolved with itself.");var y=u._lib&&Pr();d&&typeof d.then=="function"?s(u,function(g,k){d instanceof le?d._then(g,k):d.then(g,k)}):(u._state=!0,u._value=d,nc(u)),y&&Nr()}},la.bind(null,u))}catch(d){la(u,d)}}(this,o)}var ia={get:function(){var o=de,i=Si;function s(u,f){var d=this,y=!o.global&&(o!==de||i!==Si),g=y&&!Tn(),k=new le(function(_,P){aa(d,new tc(oc(u,o,y,g),oc(f,o,y,g),_,P,o))});return this._consoleTask&&(k._consoleTask=this._consoleTask),k}return s.prototype=ie,s},set:function(o){$(this,"then",o&&o.prototype===ie?ia:{get:function(){return o},set:ia.set})}};function tc(o,i,s,u,f){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof i=="function"?i:null,this.resolve=s,this.reject=u,this.psd=f}function la(o,i){var s,u;Nn.push(i),o._state===null&&(s=o._lib&&Pr(),i=ir(i),o._state=!1,o._value=i,u=o,on.some(function(f){return f._value===u._value})||on.push(u),nc(o),s&&Nr())}function nc(o){var i=o._listeners;o._listeners=[];for(var s=0,u=i.length;s<u;++s)aa(o,i[s]);var f=o._PSD;--f.ref||f.finalize(),lr===0&&(++lr,Ee(function(){--lr==0&&sa()},[]))}function aa(o,i){if(o._state!==null){var s=o._state?i.onFulfilled:i.onRejected;if(s===null)return(o._state?i.resolve:i.reject)(o._value);++i.psd.ref,++lr,Ee(kh,[s,o,i])}else o._listeners.push(i)}function kh(o,i,s){try{var u,f=i._value;!i._state&&Nn.length&&(Nn=[]),u=Lt&&i._consoleTask?i._consoleTask.run(function(){return o(f)}):o(f),i._state||Nn.indexOf(f)!==-1||function(d){for(var y=on.length;y;)if(on[--y]._value===d._value)return on.splice(y,1)}(i),s.resolve(u)}catch(d){s.reject(d)}finally{--lr==0&&sa(),--s.psd.ref||s.psd.finalize()}}function _h(){ar(Mn,function(){Pr()&&Nr()})}function Pr(){var o=ve;return We=ve=!1,o}function Nr(){var o,i,s;do for(;0<po.length;)for(o=po,po=[],s=o.length,i=0;i<s;++i){var u=o[i];u[0].apply(null,u[1])}while(0<po.length);We=ve=!0}function sa(){var o=on;on=[],o.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var i=wi.slice(0),s=i.length;s;)i[--s]()}function xi(o){return new le(ie,!1,o)}function Ke(o,i){var s=de;return function(){var u=Pr(),f=de;try{return In(s,!0),o.apply(this,arguments)}catch(d){i&&i(d)}finally{In(f,!1),u&&Nr()}}}A(le.prototype,{then:ia,_then:function(o,i){aa(this,new tc(null,null,o,i,de))},catch:function(o){if(arguments.length===1)return this.then(null,o);var i=o,s=arguments[1];return typeof i=="function"?this.then(null,function(u){return(u instanceof i?s:xi)(u)}):this.then(null,function(u){return(u&&u.name===i?s:xi)(u)})},finally:function(o){return this.then(function(i){return le.resolve(o()).then(function(){return i})},function(i){return le.resolve(o()).then(function(){return xi(i)})})},timeout:function(o,i){var s=this;return o<1/0?new le(function(u,f){var d=setTimeout(function(){return f(new pe.Timeout(i))},o);s.then(u,f).finally(clearTimeout.bind(null,d))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(le.prototype,Symbol.toStringTag,"Dexie.Promise"),Mn.env=rc(),A(le,{all:function(){var o=me.apply(null,arguments).map(Ci);return new le(function(i,s){o.length===0&&i([]);var u=o.length;o.forEach(function(f,d){return le.resolve(f).then(function(y){o[d]=y,--u||i(o)},s)})})},resolve:function(o){return o instanceof le?o:o&&typeof o.then=="function"?new le(function(i,s){o.then(i,s)}):new le(ie,!0,o)},reject:xi,race:function(){var o=me.apply(null,arguments).map(Ci);return new le(function(i,s){o.map(function(u){return le.resolve(u).then(i,s)})})},PSD:{get:function(){return de},set:function(o){return de=o}},totalEchoes:{get:function(){return Si}},newPSD:On,usePSD:ar,scheduler:{get:function(){return Ee},set:function(o){Ee=o}},rejectionMapper:{get:function(){return ir},set:function(o){ir=o}},follow:function(o,i){return new le(function(s,u){return On(function(f,d){var y=de;y.unhandleds=[],y.onunhandled=d,y.finalize=rn(function(){var g,k=this;g=function(){k.unhandleds.length===0?f():d(k.unhandleds[0])},wi.push(function _(){g(),wi.splice(wi.indexOf(_),1)}),++lr,Ee(function(){--lr==0&&sa()},[])},y.finalize),o()},i,s,u)})}}),Se&&(Se.allSettled&&$(le,"allSettled",function(){var o=me.apply(null,arguments).map(Ci);return new le(function(i){o.length===0&&i([]);var s=o.length,u=new Array(s);o.forEach(function(f,d){return le.resolve(f).then(function(y){return u[d]={status:"fulfilled",value:y}},function(y){return u[d]={status:"rejected",reason:y}}).then(function(){return--s||i(u)})})})}),Se.any&&typeof AggregateError<"u"&&$(le,"any",function(){var o=me.apply(null,arguments).map(Ci);return new le(function(i,s){o.length===0&&s(new AggregateError([]));var u=o.length,f=new Array(u);o.forEach(function(d,y){return le.resolve(d).then(function(g){return i(g)},function(g){f[y]=g,--u||s(new AggregateError(f))})})})}),Se.withResolvers&&(le.withResolvers=Se.withResolvers));var nt={awaits:0,echoes:0,id:0},Sh=0,ki=[],_i=0,Si=0,Ch=0;function On(o,i,s,u){var f=de,d=Object.create(f);return d.parent=f,d.ref=0,d.global=!1,d.id=++Ch,Mn.env,d.env=De?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject}:{},i&&h(d,i),++f.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()},u=ar(d,o,s,u),d.ref===0&&d.finalize(),u}function Mr(){return nt.id||(nt.id=++Sh),++nt.awaits,nt.echoes+=se,nt.id}function Tn(){return!!nt.awaits&&(--nt.awaits==0&&(nt.id=0),nt.echoes=nt.awaits*se,!0)}function Ci(o){return nt.echoes&&o&&o.constructor===Se?(Mr(),o.then(function(i){return Tn(),i},function(i){return Tn(),Ye(i)})):o}function bh(){var o=ki[ki.length-1];ki.pop(),In(o,!1)}function In(o,i){var s,u=de;(i?!nt.echoes||_i++&&o===de:!_i||--_i&&o===de)||queueMicrotask(i?(function(f){++Si,nt.echoes&&--nt.echoes!=0||(nt.echoes=nt.awaits=nt.id=0),ki.push(de),In(f,!0)}).bind(null,o):bh),o!==de&&(de=o,u===Mn&&(Mn.env=rc()),De&&(s=Mn.env.Promise,i=o.env,(u.global||o.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),s.all=i.all,s.race=i.race,s.resolve=i.resolve,s.reject=i.reject,i.allSettled&&(s.allSettled=i.allSettled),i.any&&(s.any=i.any))))}function rc(){var o=a.Promise;return De?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function ar(o,i,s,u,f){var d=de;try{return In(o,!0),i(s,u,f)}finally{In(d,!1)}}function oc(o,i,s,u){return typeof o!="function"?o:function(){var f=de;s&&Mr(),In(i,!0);try{return o.apply(this,arguments)}finally{In(f,!1),u&&queueMicrotask(Tn)}}}function ua(o){Promise===Se&&nt.echoes===0?_i===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Ft).indexOf("[native code]")===-1&&(Mr=Tn=Te);var Ye=le.reject,sr="",hn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ic="String expected.",Or=[],bi="__dbnames",ca="readonly",fa="readwrite";function ur(o,i){return o?i?function(){return o.apply(this,arguments)&&i.apply(this,arguments)}:o:i}var lc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ei(o){return typeof o!="string"||/\./.test(o)?function(i){return i}:function(i){return i[o]===void 0&&o in i&&delete(i=ge(i))[o],i}}function ac(){throw pe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ne(o,i){try{var s=sc(o),u=sc(i);if(s!==u)return s==="Array"?1:u==="Array"?-1:s==="binary"?1:u==="binary"?-1:s==="string"?1:u==="string"?-1:s==="Date"?1:u!=="Date"?NaN:-1;switch(s){case"number":case"Date":case"string":return i<o?1:o<i?-1:0;case"binary":return function(f,d){for(var y=f.length,g=d.length,k=y<g?y:g,_=0;_<k;++_)if(f[_]!==d[_])return f[_]<d[_]?-1:1;return y===g?0:y<g?-1:1}(uc(o),uc(i));case"Array":return function(f,d){for(var y=f.length,g=d.length,k=y<g?y:g,_=0;_<k;++_){var P=Ne(f[_],d[_]);if(P!==0)return P}return y===g?0:y<g?-1:1}(o,i)}}catch{}return NaN}function sc(o){var i=typeof o;return i!="object"?i:ArrayBuffer.isView(o)?"binary":(o=tt(o),o==="ArrayBuffer"?"binary":o)}function uc(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function ji(o,i,s){var u=o.schema.yProps;return u?(i&&0<s.numFailures&&(i=i.filter(function(f,d){return!s.failures[d]})),Promise.all(u.map(function(f){return f=f.updatesTable,i?o.db.table(f).where("k").anyOf(i).delete():o.db.table(f).clear()})).then(function(){return s})):s}var ho=(cc.prototype.execute=function(o){var i=this["@@propmod"];if(i.add!==void 0){var s=i.add;if(p(s))return l(l([],p(o)?o:[],!0),s).sort();if(typeof s=="number")return(Number(o)||0)+s;if(typeof s=="bigint")try{return BigInt(o)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(i.remove!==void 0){var u=i.remove;if(p(u))return p(o)?o.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(o)-u;if(typeof u=="bigint")try{return BigInt(o)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return s=(s=i.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof o=="string"&&o.startsWith(s)?i.replacePrefix[1]+o.substring(s.length):o},cc);function cc(o){this["@@propmod"]=o}function fc(o,i){for(var s=c(i),u=s.length,f=!1,d=0;d<u;++d){var y=s[d],g=i[y],k=L(o,y);g instanceof ho?(R(o,y,g.execute(k)),f=!0):k!==g&&(R(o,y,g),f=!0)}return f}var dc=(Re.prototype._trans=function(o,i,s){var u=this._tx||de.trans,f=this.name,d=Lt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function y(_,P,x){if(!x.schema[f])throw new pe.NotFound("Table "+f+" not part of transaction");return i(x.idbtrans,x)}var g=Pr();try{var k=u&&u.db._novip===this.db._novip?u===de.trans?u._promise(o,y,s):On(function(){return u._promise(o,y,s)},{trans:u,transless:de.transless||de}):function _(P,x,O,S){if(P.idbdb&&(P._state.openComplete||de.letThrough||P._vip)){var b=P._createTransaction(x,O,P._dbSchema);try{b.create(),P._state.PR1398_maxLoop=3}catch(E){return E.name===Qt.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return _(P,x,O,S)})):Ye(E)}return b._promise(x,function(E,N){return On(function(){return de.trans=b,S(E,N,b)})}).then(function(E){if(x==="readwrite")try{b.idbtrans.commit()}catch{}return x==="readonly"?E:b._completion.then(function(){return E})})}if(P._state.openComplete)return Ye(new pe.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._state.autoOpen)return Ye(new pe.DatabaseClosed);P.open().catch(Te)}return P._state.dbReadyPromise.then(function(){return _(P,x,O,S)})}(this.db,o,[this.name],y);return d&&(k._consoleTask=d,k=k.catch(function(_){return console.trace(_),Ye(_)})),k}finally{g&&Nr()}},Re.prototype.get=function(o,i){var s=this;return o&&o.constructor===Object?this.where(o).first(i):o==null?Ye(new pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return s.core.get({trans:u,key:o}).then(function(f){return s.hook.reading.fire(f)})}).then(i)},Re.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(p(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var i=c(o);if(i.length===1)return this.where(i[0]).equals(o[i[0]]);var s=this.schema.indexes.concat(this.schema.primKey).filter(function(g){if(g.compound&&i.every(function(_){return 0<=g.keyPath.indexOf(_)})){for(var k=0;k<i.length;++k)if(i.indexOf(g.keyPath[k])===-1)return!1;return!0}return!1}).sort(function(g,k){return g.keyPath.length-k.keyPath.length})[0];if(s&&this.db._maxKey!==sr){var d=s.keyPath.slice(0,i.length);return this.where(d).equals(d.map(function(k){return o[k]}))}!s&&Lt&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var u=this.schema.idxByName;function f(g,k){return Ne(g,k)===0}var y=i.reduce(function(x,k){var _=x[0],P=x[1],x=u[k],O=o[k];return[_||x,_||!x?ur(P,x&&x.multi?function(S){return S=L(S,k),p(S)&&S.some(function(b){return f(O,b)})}:function(S){return f(O,L(S,k))}):P]},[null,null]),d=y[0],y=y[1];return d?this.where(d.name).equals(o[d.keyPath]).filter(y):s?this.filter(y):this.where(i).equals("")},Re.prototype.filter=function(o){return this.toCollection().and(o)},Re.prototype.count=function(o){return this.toCollection().count(o)},Re.prototype.offset=function(o){return this.toCollection().offset(o)},Re.prototype.limit=function(o){return this.toCollection().limit(o)},Re.prototype.each=function(o){return this.toCollection().each(o)},Re.prototype.toArray=function(o){return this.toCollection().toArray(o)},Re.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Re.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,p(o)?"[".concat(o.join("+"),"]"):o))},Re.prototype.reverse=function(){return this.toCollection().reverse()},Re.prototype.mapToClass=function(o){var i,s=this.db,u=this.name;function f(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof ac&&(function(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function P(){this.constructor=k}n(k,_),k.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P)}(f,i=o),Object.defineProperty(f.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),f.prototype.table=function(){return u},o=f);for(var d=new Set,y=o.prototype;y;y=w(y))Object.getOwnPropertyNames(y).forEach(function(k){return d.add(k)});function g(k){if(!k)return k;var _,P=Object.create(o.prototype);for(_ in k)if(!d.has(_))try{P[_]=k[_]}catch{}return P}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=g,this.hook("reading",g),o},Re.prototype.defineClass=function(){return this.mapToClass(function(o){h(this,o)})},Re.prototype.add=function(o,i){var s=this,u=this.schema.primKey,f=u.auto,d=u.keyPath,y=o;return d&&f&&(y=Ei(d)(o)),this._trans("readwrite",function(g){return s.core.mutate({trans:g,type:"add",keys:i!=null?[i]:null,values:[y]})}).then(function(g){return g.numFailures?le.reject(g.failures[0]):g.lastResult}).then(function(g){if(d)try{R(o,d,g)}catch{}return g})},Re.prototype.upsert=function(o,i){var s=this,u=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return s.core.get({trans:f,key:o}).then(function(d){var y=d??{};return fc(y,i),u&&R(y,u,o),s.core.mutate({trans:f,type:"put",values:[y],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[i]}}).then(function(g){return g.numFailures?le.reject(g.failures[0]):!!d})})})},Re.prototype.update=function(o,i){return typeof o!="object"||p(o)?this.where(":id").equals(o).modify(i):(o=L(o,this.schema.primKey.keyPath),o===void 0?Ye(new pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(i))},Re.prototype.put=function(o,i){var s=this,u=this.schema.primKey,f=u.auto,d=u.keyPath,y=o;return d&&f&&(y=Ei(d)(o)),this._trans("readwrite",function(g){return s.core.mutate({trans:g,type:"put",values:[y],keys:i!=null?[i]:null})}).then(function(g){return g.numFailures?le.reject(g.failures[0]):g.lastResult}).then(function(g){if(d)try{R(o,d,g)}catch{}return g})},Re.prototype.delete=function(o){var i=this;return this._trans("readwrite",function(s){return i.core.mutate({trans:s,type:"delete",keys:[o]}).then(function(u){return ji(i,[o],u)}).then(function(u){return u.numFailures?le.reject(u.failures[0]):void 0})})},Re.prototype.clear=function(){var o=this;return this._trans("readwrite",function(i){return o.core.mutate({trans:i,type:"deleteRange",range:lc}).then(function(s){return ji(o,null,s)})}).then(function(i){return i.numFailures?le.reject(i.failures[0]):void 0})},Re.prototype.bulkGet=function(o){var i=this;return this._trans("readonly",function(s){return i.core.getMany({keys:o,trans:s}).then(function(u){return u.map(function(f){return i.hook.reading.fire(f)})})})},Re.prototype.bulkAdd=function(o,i,s){var u=this,f=Array.isArray(i)?i:void 0,d=(s=s||(f?void 0:i))?s.allKeys:void 0;return this._trans("readwrite",function(y){var _=u.schema.primKey,g=_.auto,_=_.keyPath;if(_&&f)throw new pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==o.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var k=o.length,_=_&&g?o.map(Ei(_)):o;return u.core.mutate({trans:y,type:"add",keys:f,values:_,wantResults:d}).then(function(b){var x=b.numFailures,O=b.results,S=b.lastResult,b=b.failures;if(x===0)return d?O:S;throw new lt("".concat(u.name,".bulkAdd(): ").concat(x," of ").concat(k," operations failed"),b)})})},Re.prototype.bulkPut=function(o,i,s){var u=this,f=Array.isArray(i)?i:void 0,d=(s=s||(f?void 0:i))?s.allKeys:void 0;return this._trans("readwrite",function(y){var _=u.schema.primKey,g=_.auto,_=_.keyPath;if(_&&f)throw new pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==o.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var k=o.length,_=_&&g?o.map(Ei(_)):o;return u.core.mutate({trans:y,type:"put",keys:f,values:_,wantResults:d}).then(function(b){var x=b.numFailures,O=b.results,S=b.lastResult,b=b.failures;if(x===0)return d?O:S;throw new lt("".concat(u.name,".bulkPut(): ").concat(x," of ").concat(k," operations failed"),b)})})},Re.prototype.bulkUpdate=function(o){var i=this,s=this.core,u=o.map(function(y){return y.key}),f=o.map(function(y){return y.changes}),d=[];return this._trans("readwrite",function(y){return s.getMany({trans:y,keys:u,cache:"clone"}).then(function(g){var k=[],_=[];o.forEach(function(x,O){var S=x.key,b=x.changes,E=g[O];if(E){for(var N=0,I=Object.keys(b);N<I.length;N++){var D=I[N],F=b[D];if(D===i.schema.primKey.keyPath){if(Ne(F,S)!==0)throw new pe.Constraint("Cannot update primary key in bulkUpdate()")}else R(E,D,F)}d.push(O),k.push(S),_.push(E)}});var P=k.length;return s.mutate({trans:y,type:"put",keys:k,values:_,updates:{keys:u,changeSpecs:f}}).then(function(x){var O=x.numFailures,S=x.failures;if(O===0)return P;for(var b=0,E=Object.keys(S);b<E.length;b++){var N,I=E[b],D=d[Number(I)];D!=null&&(N=S[I],delete S[I],S[D]=N)}throw new lt("".concat(i.name,".bulkUpdate(): ").concat(O," of ").concat(P," operations failed"),S)})})})},Re.prototype.bulkDelete=function(o){var i=this,s=o.length;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:o}).then(function(f){return ji(i,o,f)})}).then(function(y){var f=y.numFailures,d=y.lastResult,y=y.failures;if(f===0)return d;throw new lt("".concat(i.name,".bulkDelete(): ").concat(f," of ").concat(s," operations failed"),y)})},Re);function Re(){}function mo(o){function i(y,g){if(g){for(var k=arguments.length,_=new Array(k-1);--k;)_[k-1]=arguments[k];return s[y].subscribe.apply(null,_),o}if(typeof y=="string")return s[y]}var s={};i.addEventType=d;for(var u=1,f=arguments.length;u<f;++u)d(arguments[u]);return i;function d(y,g,k){if(typeof y!="object"){var _;g=g||vi;var P={subscribers:[],fire:k=k||Te,subscribe:function(x){P.subscribers.indexOf(x)===-1&&(P.subscribers.push(x),P.fire=g(P.fire,x))},unsubscribe:function(x){P.subscribers=P.subscribers.filter(function(O){return O!==x}),P.fire=P.subscribers.reduce(g,k)}};return s[y]=i[y]=P}c(_=y).forEach(function(x){var O=_[x];if(p(O))d(x,_[x][0],_[x][1]);else{if(O!=="asap")throw new pe.InvalidArgument("Invalid event config");var S=d(x,Pn,function(){for(var b=arguments.length,E=new Array(b);b--;)E[b]=arguments[b];S.subscribers.forEach(function(N){Q(function(){N.apply(null,E)})})})}})}}function yo(o,i){return K(i).from({prototype:o}),i}function Tr(o,i){return!(o.filter||o.algorithm||o.or)&&(i?o.justLimit:!o.replayFilter)}function da(o,i){o.filter=ur(o.filter,i)}function pa(o,i,s){var u=o.replayFilter;o.replayFilter=u?function(){return ur(u(),i())}:i,o.justLimit=s&&!u}function Pi(o,i){if(o.isPrimKey)return i.primaryKey;var s=i.getIndexByKeyPath(o.index);if(!s)throw new pe.Schema("KeyPath "+o.index+" on object store "+i.name+" is not indexed");return s}function pc(o,i,s){var u=Pi(o,i.schema);return i.openCursor({trans:s,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:u,range:o.range}})}function Ni(o,i,s,u){var f=o.replayFilter?ur(o.filter,o.replayFilter()):o.filter;if(o.or){var d={},y=function(g,k,_){var P,x;f&&!f(k,_,function(O){return k.stop(O)},function(O){return k.fail(O)})||((x=""+(P=k.primaryKey))=="[object ArrayBuffer]"&&(x=""+new Uint8Array(P)),M(d,x)||(d[x]=!0,i(g,k,_)))};return Promise.all([o.or._iterate(y,s),hc(pc(o,u,s),o.algorithm,y,!o.keysOnly&&o.valueMapper)])}return hc(pc(o,u,s),ur(o.algorithm,f),i,!o.keysOnly&&o.valueMapper)}function hc(o,i,s,u){var f=Ke(u?function(d,y,g){return s(u(d),y,g)}:s);return o.then(function(d){if(d)return d.start(function(){var y=function(){return d.continue()};i&&!i(d,function(g){return y=g},function(g){d.stop(g),y=Te},function(g){d.fail(g),y=Te})||f(d.value,d,function(g){return y=g}),y()})})}var Eh=(Oe.prototype._read=function(o,i){var s=this._ctx;return s.error?s.table._trans(null,Ye.bind(null,s.error)):s.table._trans("readonly",o).then(i)},Oe.prototype._write=function(o){var i=this._ctx;return i.error?i.table._trans(null,Ye.bind(null,i.error)):i.table._trans("readwrite",o,"locked")},Oe.prototype._addAlgorithm=function(o){var i=this._ctx;i.algorithm=ur(i.algorithm,o)},Oe.prototype._iterate=function(o,i){return Ni(this._ctx,o,i,this._ctx.table.core)},Oe.prototype.clone=function(o){var i=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return o&&h(s,o),i._ctx=s,i},Oe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Oe.prototype.each=function(o){var i=this._ctx;return this._read(function(s){return Ni(i,o,s,i.table.core)})},Oe.prototype.count=function(o){var i=this;return this._read(function(s){var u=i._ctx,f=u.table.core;if(Tr(u,!0))return f.count({trans:s,query:{index:Pi(u,f.schema),range:u.range}}).then(function(y){return Math.min(y,u.limit)});var d=0;return Ni(u,function(){return++d,!1},s,f).then(function(){return d})}).then(o)},Oe.prototype.sortBy=function(o,i){var s=o.split(".").reverse(),u=s[0],f=s.length-1;function d(k,_){return _?d(k[s[_]],_-1):k[u]}var y=this._ctx.dir==="next"?1:-1;function g(k,_){return Ne(d(k,f),d(_,f))*y}return this.toArray(function(k){return k.sort(g)}).then(i)},Oe.prototype.toArray=function(o){var i=this;return this._read(function(s){var u=i._ctx;if(u.dir==="next"&&Tr(u,!0)&&0<u.limit){var f=u.valueMapper,d=Pi(u,u.table.core.schema);return u.table.core.query({trans:s,limit:u.limit,values:!0,query:{index:d,range:u.range}}).then(function(g){return g=g.result,f?g.map(f):g})}var y=[];return Ni(u,function(g){return y.push(g)},s,u.table.core).then(function(){return y})},o)},Oe.prototype.offset=function(o){var i=this._ctx;return o<=0||(i.offset+=o,Tr(i)?pa(i,function(){var s=o;return function(u,f){return s===0||(s===1?--s:f(function(){u.advance(s),s=0}),!1)}}):pa(i,function(){var s=o;return function(){return--s<0}})),this},Oe.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),pa(this._ctx,function(){var i=o;return function(s,u,f){return--i<=0&&u(f),0<=i}},!0),this},Oe.prototype.until=function(o,i){return da(this._ctx,function(s,u,f){return!o(s.value)||(u(f),i)}),this},Oe.prototype.first=function(o){return this.limit(1).toArray(function(i){return i[0]}).then(o)},Oe.prototype.last=function(o){return this.reverse().first(o)},Oe.prototype.filter=function(o){var i;return da(this._ctx,function(s){return o(s.value)}),(i=this._ctx).isMatch=ur(i.isMatch,o),this},Oe.prototype.and=function(o){return this.filter(o)},Oe.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},Oe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Oe.prototype.desc=function(){return this.reverse()},Oe.prototype.eachKey=function(o){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(s,u){o(u.key,u)})},Oe.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},Oe.prototype.eachPrimaryKey=function(o){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(s,u){o(u.primaryKey,u)})},Oe.prototype.keys=function(o){var i=this._ctx;i.keysOnly=!i.isMatch;var s=[];return this.each(function(u,f){s.push(f.key)}).then(function(){return s}).then(o)},Oe.prototype.primaryKeys=function(o){var i=this._ctx;if(i.dir==="next"&&Tr(i,!0)&&0<i.limit)return this._read(function(u){var f=Pi(i,i.table.core.schema);return i.table.core.query({trans:u,values:!1,limit:i.limit,query:{index:f,range:i.range}})}).then(function(u){return u.result}).then(o);i.keysOnly=!i.isMatch;var s=[];return this.each(function(u,f){s.push(f.primaryKey)}).then(function(){return s}).then(o)},Oe.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},Oe.prototype.firstKey=function(o){return this.limit(1).keys(function(i){return i[0]}).then(o)},Oe.prototype.lastKey=function(o){return this.reverse().firstKey(o)},Oe.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var i={};return da(this._ctx,function(f){var u=f.primaryKey.toString(),f=M(i,u);return i[u]=!0,!f}),this},Oe.prototype.modify=function(o){var i=this,s=this._ctx;return this._write(function(u){var f=typeof o=="function"?o:function(E){return fc(E,o)},d=s.table.core,_=d.schema.primaryKey,y=_.outbound,g=_.extractKey,k=200,_=i.db._options.modifyChunkSize;_&&(k=typeof _=="object"?_[d.name]||_["*"]||200:_);function P(E,D){var I=D.failures,D=D.numFailures;O+=E-D;for(var F=0,U=c(I);F<U.length;F++){var W=U[F];x.push(I[W])}}var x=[],O=0,S=[],b=o===mc;return i.clone().primaryKeys().then(function(E){function N(D){var F=Math.min(k,E.length-D),U=E.slice(D,D+F);return(b?Promise.resolve([]):d.getMany({trans:u,keys:U,cache:"immutable"})).then(function(W){var te=[],H=[],G=y?[]:null,re=b?U:[];if(!b)for(var J=0;J<F;++J){var ue=W[J],_e={value:ge(ue),primKey:E[D+J]};f.call(_e,_e.value,_e)!==!1&&(_e.value==null?re.push(E[D+J]):y||Ne(g(ue),g(_e.value))===0?(H.push(_e.value),y&&G.push(E[D+J])):(re.push(E[D+J]),te.push(_e.value)))}return Promise.resolve(0<te.length&&d.mutate({trans:u,type:"add",values:te}).then(function(Ce){for(var be in Ce.failures)re.splice(parseInt(be),1);P(te.length,Ce)})).then(function(){return(0<H.length||I&&typeof o=="object")&&d.mutate({trans:u,type:"put",keys:G,values:H,criteria:I,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<D}).then(function(Ce){return P(H.length,Ce)})}).then(function(){return(0<re.length||I&&b)&&d.mutate({trans:u,type:"delete",keys:re,criteria:I,isAdditionalChunk:0<D}).then(function(Ce){return ji(s.table,re,Ce)}).then(function(Ce){return P(re.length,Ce)})}).then(function(){return E.length>D+F&&N(D+k)})})}var I=Tr(s)&&s.limit===1/0&&(typeof o!="function"||b)&&{index:s.index,range:s.range};return N(0).then(function(){if(0<x.length)throw new Wt("Error modifying one or more objects",x,O,S);return E.length})})})},Oe.prototype.delete=function(){var o=this._ctx,i=o.range;return!Tr(o)||o.table.schema.yProps||!o.isPrimKey&&i.type!==3?this.modify(mc):this._write(function(s){var u=o.table.core.schema.primaryKey,f=i;return o.table.core.count({trans:s,query:{index:u,range:f}}).then(function(d){return o.table.core.mutate({trans:s,type:"deleteRange",range:f}).then(function(k){var g=k.failures,k=k.numFailures;if(k)throw new Wt("Could not delete some values",Object.keys(g).map(function(_){return g[_]}),d-k);return d-k})})})},Oe);function Oe(){}var mc=function(o,i){return i.value=null};function jh(o,i){return o<i?-1:o===i?0:1}function Ph(o,i){return i<o?-1:o===i?0:1}function Nt(o,i,s){return o=o instanceof gc?new o.Collection(o):o,o._ctx.error=new(s||TypeError)(i),o}function Ir(o){return new o.Collection(o,function(){return yc("")}).limit(0)}function Mi(o,i,s,u){var f,d,y,g,k,_,P,x=s.length;if(!s.every(function(b){return typeof b=="string"}))return Nt(o,ic);function O(b){f=b==="next"?function(N){return N.toUpperCase()}:function(N){return N.toLowerCase()},d=b==="next"?function(N){return N.toLowerCase()}:function(N){return N.toUpperCase()},y=b==="next"?jh:Ph;var E=s.map(function(N){return{lower:d(N),upper:f(N)}}).sort(function(N,I){return y(N.lower,I.lower)});g=E.map(function(N){return N.upper}),k=E.map(function(N){return N.lower}),P=(_=b)==="next"?"":u}O("next"),o=new o.Collection(o,function(){return zn(g[0],k[x-1]+u)}),o._ondirectionchange=function(b){O(b)};var S=0;return o._addAlgorithm(function(b,E,N){var I=b.key;if(typeof I!="string")return!1;var D=d(I);if(i(D,k,S))return!0;for(var F=null,U=S;U<x;++U){var W=function(te,H,G,re,J,ue){for(var _e=Math.min(te.length,re.length),Ce=-1,be=0;be<_e;++be){var Mt=H[be];if(Mt!==re[be])return J(te[be],G[be])<0?te.substr(0,be)+G[be]+G.substr(be+1):J(te[be],re[be])<0?te.substr(0,be)+re[be]+G.substr(be+1):0<=Ce?te.substr(0,Ce)+H[Ce]+G.substr(Ce+1):null;J(te[be],Mt)<0&&(Ce=be)}return _e<re.length&&ue==="next"?te+G.substr(te.length):_e<te.length&&ue==="prev"?te.substr(0,G.length):Ce<0?null:te.substr(0,Ce)+re[Ce]+G.substr(Ce+1)}(I,D,g[U],k[U],y,_);W===null&&F===null?S=U+1:(F===null||0<y(F,W))&&(F=W)}return E(F!==null?function(){b.continue(F+P)}:N),!1}),o}function zn(o,i,s,u){return{type:2,lower:o,upper:i,lowerOpen:s,upperOpen:u}}function yc(o){return{type:1,lower:o,upper:o}}var gc=(Object.defineProperty(rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),rt.prototype.between=function(o,i,s,u){s=s!==!1,u=u===!0;try{return 0<this._cmp(o,i)||this._cmp(o,i)===0&&(s||u)&&(!s||!u)?Ir(this):new this.Collection(this,function(){return zn(o,i,!s,!u)})}catch{return Nt(this,hn)}},rt.prototype.equals=function(o){return o==null?Nt(this,hn):new this.Collection(this,function(){return yc(o)})},rt.prototype.above=function(o){return o==null?Nt(this,hn):new this.Collection(this,function(){return zn(o,void 0,!0)})},rt.prototype.aboveOrEqual=function(o){return o==null?Nt(this,hn):new this.Collection(this,function(){return zn(o,void 0,!1)})},rt.prototype.below=function(o){return o==null?Nt(this,hn):new this.Collection(this,function(){return zn(void 0,o,!1,!0)})},rt.prototype.belowOrEqual=function(o){return o==null?Nt(this,hn):new this.Collection(this,function(){return zn(void 0,o)})},rt.prototype.startsWith=function(o){return typeof o!="string"?Nt(this,ic):this.between(o,o+sr,!0,!0)},rt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Mi(this,function(i,s){return i.indexOf(s[0])===0},[o],sr)},rt.prototype.equalsIgnoreCase=function(o){return Mi(this,function(i,s){return i===s[0]},[o],"")},rt.prototype.anyOfIgnoreCase=function(){var o=me.apply(he,arguments);return o.length===0?Ir(this):Mi(this,function(i,s){return s.indexOf(i)!==-1},o,"")},rt.prototype.startsWithAnyOfIgnoreCase=function(){var o=me.apply(he,arguments);return o.length===0?Ir(this):Mi(this,function(i,s){return s.some(function(u){return i.indexOf(u)===0})},o,sr)},rt.prototype.anyOf=function(){var o=this,i=me.apply(he,arguments),s=this._cmp;try{i.sort(s)}catch{return Nt(this,hn)}if(i.length===0)return Ir(this);var u=new this.Collection(this,function(){return zn(i[0],i[i.length-1])});u._ondirectionchange=function(d){s=d==="next"?o._ascending:o._descending,i.sort(s)};var f=0;return u._addAlgorithm(function(d,y,g){for(var k=d.key;0<s(k,i[f]);)if(++f===i.length)return y(g),!1;return s(k,i[f])===0||(y(function(){d.continue(i[f])}),!1)}),u},rt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},rt.prototype.noneOf=function(){var o=me.apply(he,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Nt(this,hn)}var i=o.reduce(function(s,u){return s?s.concat([[s[s.length-1][1],u]]):[[-1/0,u]]},null);return i.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},rt.prototype.inAnyRange=function(I,i){var s=this,u=this._cmp,f=this._ascending,d=this._descending,y=this._min,g=this._max;if(I.length===0)return Ir(this);if(!I.every(function(D){return D[0]!==void 0&&D[1]!==void 0&&f(D[0],D[1])<=0}))return Nt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pe.InvalidArgument);var k=!i||i.includeLowers!==!1,_=i&&i.includeUppers===!0,P,x=f;function O(D,F){return x(D[0],F[0])}try{(P=I.reduce(function(D,F){for(var U=0,W=D.length;U<W;++U){var te=D[U];if(u(F[0],te[1])<0&&0<u(F[1],te[0])){te[0]=y(te[0],F[0]),te[1]=g(te[1],F[1]);break}}return U===W&&D.push(F),D},[])).sort(O)}catch{return Nt(this,hn)}var S=0,b=_?function(D){return 0<f(D,P[S][1])}:function(D){return 0<=f(D,P[S][1])},E=k?function(D){return 0<d(D,P[S][0])}:function(D){return 0<=d(D,P[S][0])},N=b,I=new this.Collection(this,function(){return zn(P[0][0],P[P.length-1][1],!k,!_)});return I._ondirectionchange=function(D){x=D==="next"?(N=b,f):(N=E,d),P.sort(O)},I._addAlgorithm(function(D,F,U){for(var W,te=D.key;N(te);)if(++S===P.length)return F(U),!1;return!b(W=te)&&!E(W)||(s._cmp(te,P[S][1])===0||s._cmp(te,P[S][0])===0||F(function(){x===f?D.continue(P[S][0]):D.continue(P[S][1])}),!1)}),I},rt.prototype.startsWithAnyOf=function(){var o=me.apply(he,arguments);return o.every(function(i){return typeof i=="string"})?o.length===0?Ir(this):this.inAnyRange(o.map(function(i){return[i,i+sr]})):Nt(this,"startsWithAnyOf() only works with strings")},rt);function rt(){}function ln(o){return Ke(function(i){return go(i),o(i.target.error),!1})}function go(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var vo="storagemutated",ha="x-storagemutated-1",Dn=mo(null,vo),Nh=(an.prototype._lock=function(){return T(!de.global),++this._reculock,this._reculock!==1||de.global||(de.lockOwnerFor=this),this},an.prototype._unlock=function(){if(T(!de.global),--this._reculock==0)for(de.global||(de.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{ar(o[1],o[0])}catch{}}return this},an.prototype._locked=function(){return this._reculock&&de.lockOwnerFor!==this},an.prototype.create=function(o){var i=this;if(!this.mode)return this;var s=this.db.idbdb,u=this.db._state.dbOpenError;if(T(!this.idbtrans),!o&&!s)switch(u&&u.name){case"DatabaseClosedError":throw new pe.DatabaseClosed(u);case"MissingAPIError":throw new pe.MissingAPI(u.message,u);default:throw new pe.OpenFailed(u)}if(!this.active)throw new pe.TransactionInactive;return T(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||s).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ke(function(f){go(f),i._reject(o.error)}),o.onabort=Ke(function(f){go(f),i.active&&i._reject(new pe.Abort(o.error)),i.active=!1,i.on("abort").fire(f)}),o.oncomplete=Ke(function(){i.active=!1,i._resolve(),"mutatedParts"in o&&Dn.storagemutated.fire(o.mutatedParts)}),this},an.prototype._promise=function(o,i,s){var u=this;if(o==="readwrite"&&this.mode!=="readwrite")return Ye(new pe.ReadOnly("Transaction is readonly"));if(!this.active)return Ye(new pe.TransactionInactive);if(this._locked())return new le(function(d,y){u._blockedFuncs.push([function(){u._promise(o,i,s).then(d,y)},de])});if(s)return On(function(){var d=new le(function(y,g){u._lock();var k=i(y,g,u);k&&k.then&&k.then(y,g)});return d.finally(function(){return u._unlock()}),d._lib=!0,d});var f=new le(function(d,y){var g=i(d,y,u);g&&g.then&&g.then(d,y)});return f._lib=!0,f},an.prototype._root=function(){return this.parent?this.parent._root():this},an.prototype.waitFor=function(o){var i,s=this._root(),u=le.resolve(o);s._waitingFor?s._waitingFor=s._waitingFor.then(function(){return u}):(s._waitingFor=u,s._waitingQueue=[],i=s.idbtrans.objectStore(s.storeNames[0]),function d(){for(++s._spinCount;s._waitingQueue.length;)s._waitingQueue.shift()();s._waitingFor&&(i.get(-1/0).onsuccess=d)}());var f=s._waitingFor;return new le(function(d,y){u.then(function(g){return s._waitingQueue.push(Ke(d.bind(null,g)))},function(g){return s._waitingQueue.push(Ke(y.bind(null,g)))}).finally(function(){s._waitingFor===f&&(s._waitingFor=null)})})},an.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pe.Abort))},an.prototype.table=function(o){var i=this._memoizedTables||(this._memoizedTables={});if(M(i,o))return i[o];var s=this.schema[o];if(!s)throw new pe.NotFound("Table "+o+" not part of transaction");return s=new this.db.Table(o,s,this),s.core=this.db.core.table(o),i[o]=s},an);function an(){}function ma(o,i,s,u,f,d,y,g){return{name:o,keyPath:i,unique:s,multi:u,auto:f,compound:d,src:(s&&!y?"&":"")+(u?"*":"")+(f?"++":"")+vc(i),type:g}}function vc(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function ya(o,i,s){return{name:o,primKey:i,indexes:s,mappedClass:null,idxByName:(u=function(f){return[f.name,f]},s.reduce(function(f,d,y){return y=u(d,y),y&&(f[y[0]]=y[1]),f},{}))};var u}var wo=function(o){try{return o.only([[]]),wo=function(){return[[]]},[[]]}catch{return wo=function(){return sr},sr}};function ga(o){return o==null?function(){}:typeof o=="string"?(i=o).split(".").length===1?function(s){return s[i]}:function(s){return L(s,i)}:function(s){return L(s,o)};var i}function wc(o){return[].slice.call(o)}var Mh=0;function xo(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Oh(o,i,k){function u(N){if(N.type===3)return null;if(N.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=N.lower,b=N.upper,E=N.lowerOpen,N=N.upperOpen;return S===void 0?b===void 0?null:i.upperBound(b,!!N):b===void 0?i.lowerBound(S,!!E):i.bound(S,b,!!E,!!N)}function f(O){var S,b=O.name;return{name:b,schema:O,mutate:function(E){var N=E.trans,I=E.type,D=E.keys,F=E.values,U=E.range;return new Promise(function(W,te){W=Ke(W);var H=N.objectStore(b),G=H.keyPath==null,re=I==="put"||I==="add";if(!re&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var J,ue=(D||F||{length:1}).length;if(D&&F&&D.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(ue===0)return W({numFailures:0,failures:{},results:[],lastResult:void 0});function _e(gt){++Mt,go(gt)}var Ce=[],be=[],Mt=0;if(I==="deleteRange"){if(U.type===4)return W({numFailures:Mt,failures:be,results:[],lastResult:void 0});U.type===3?Ce.push(J=H.clear()):Ce.push(J=H.delete(u(U)))}else{var G=re?G?[F,D]:[F,null]:[D,null],we=G[0],ft=G[1];if(re)for(var dt=0;dt<ue;++dt)Ce.push(J=ft&&ft[dt]!==void 0?H[I](we[dt],ft[dt]):H[I](we[dt])),J.onerror=_e;else for(dt=0;dt<ue;++dt)Ce.push(J=H[I](we[dt])),J.onerror=_e}function Ui(gt){gt=gt.target.result,Ce.forEach(function(dr,Da){return dr.error!=null&&(be[Da]=dr.error)}),W({numFailures:Mt,failures:be,results:I==="delete"?D:Ce.map(function(dr){return dr.result}),lastResult:gt})}J.onerror=function(gt){_e(gt),Ui(gt)},J.onsuccess=Ui})},getMany:function(E){var N=E.trans,I=E.keys;return new Promise(function(D,F){D=Ke(D);for(var U,W=N.objectStore(b),te=I.length,H=new Array(te),G=0,re=0,J=function(Ce){Ce=Ce.target,H[Ce._pos]=Ce.result,++re===G&&D(H)},ue=ln(F),_e=0;_e<te;++_e)I[_e]!=null&&((U=W.get(I[_e]))._pos=_e,U.onsuccess=J,U.onerror=ue,++G);G===0&&D(H)})},get:function(E){var N=E.trans,I=E.key;return new Promise(function(D,F){D=Ke(D);var U=N.objectStore(b).get(I);U.onsuccess=function(W){return D(W.target.result)},U.onerror=ln(F)})},query:(S=_,function(E){return new Promise(function(N,I){N=Ke(N);var D,F,U,G=E.trans,W=E.values,te=E.limit,J=E.query,H=te===1/0?void 0:te,re=J.index,J=J.range,G=G.objectStore(b),re=re.isPrimaryKey?G:G.index(re.name),J=u(J);if(te===0)return N({result:[]});S?((H=W?re.getAll(J,H):re.getAllKeys(J,H)).onsuccess=function(ue){return N({result:ue.target.result})},H.onerror=ln(I)):(D=0,F=!W&&"openKeyCursor"in re?re.openKeyCursor(J):re.openCursor(J),U=[],F.onsuccess=function(ue){var _e=F.result;return _e?(U.push(W?_e.value:_e.primaryKey),++D===te?N({result:U}):void _e.continue()):N({result:U})},F.onerror=ln(I))})}),openCursor:function(E){var N=E.trans,I=E.values,D=E.query,F=E.reverse,U=E.unique;return new Promise(function(W,te){W=Ke(W);var re=D.index,H=D.range,G=N.objectStore(b),G=re.isPrimaryKey?G:G.index(re.name),re=F?U?"prevunique":"prev":U?"nextunique":"next",J=!I&&"openKeyCursor"in G?G.openKeyCursor(u(H),re):G.openCursor(u(H),re);J.onerror=ln(te),J.onsuccess=Ke(function(ue){var _e,Ce,be,Mt,we=J.result;we?(we.___id=++Mh,we.done=!1,_e=we.continue.bind(we),Ce=(Ce=we.continuePrimaryKey)&&Ce.bind(we),be=we.advance.bind(we),Mt=function(){throw new Error("Cursor not stopped")},we.trans=N,we.stop=we.continue=we.continuePrimaryKey=we.advance=function(){throw new Error("Cursor not started")},we.fail=Ke(te),we.next=function(){var ft=this,dt=1;return this.start(function(){return dt--?ft.continue():ft.stop()}).then(function(){return ft})},we.start=function(ft){function dt(){if(J.result)try{ft()}catch(gt){we.fail(gt)}else we.done=!0,we.start=function(){throw new Error("Cursor behind last entry")},we.stop()}var Ui=new Promise(function(gt,dr){gt=Ke(gt),J.onerror=ln(dr),we.fail=dr,we.stop=function(Da){we.stop=we.continue=we.continuePrimaryKey=we.advance=Mt,gt(Da)}});return J.onsuccess=Ke(function(gt){J.onsuccess=dt,dt()}),we.continue=_e,we.continuePrimaryKey=Ce,we.advance=be,dt(),Ui},W(we)):W(null)},te)})},count:function(E){var N=E.query,I=E.trans,D=N.index,F=N.range;return new Promise(function(U,W){var te=I.objectStore(b),H=D.isPrimaryKey?te:te.index(D.name),te=u(F),H=te?H.count(te):H.count();H.onsuccess=Ke(function(G){return U(G.target.result)}),H.onerror=ln(W)})}}}var d,y,g,P=(y=k,g=wc((d=o).objectStoreNames),{schema:{name:d.name,tables:g.map(function(O){return y.objectStore(O)}).map(function(O){var S=O.keyPath,N=O.autoIncrement,b=p(S),E={},N={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:b,keyPath:S,autoIncrement:N,unique:!0,extractKey:ga(S)},indexes:wc(O.indexNames).map(function(I){return O.index(I)}).map(function(U){var D=U.name,F=U.unique,W=U.multiEntry,U=U.keyPath,W={name:D,compound:p(U),keyPath:U,unique:F,multiEntry:W,extractKey:ga(U)};return E[xo(U)]=W}),getIndexByKeyPath:function(I){return E[xo(I)]}};return E[":id"]=N.primaryKey,S!=null&&(E[xo(S)]=N.primaryKey),N})},hasGetAll:0<g.length&&"getAll"in y.objectStore(g[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),k=P.schema,_=P.hasGetAll,P=k.tables.map(f),x={};return P.forEach(function(O){return x[O.name]=O}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(O){if(!x[O])throw new Error("Table '".concat(O,"' not found"));return x[O]},MIN_KEY:-1/0,MAX_KEY:wo(i),schema:k}}function Th(o,i,s,u){var f=s.IDBKeyRange;return s.indexedDB,{dbcore:(u=Oh(i,f,u),o.dbcore.reduce(function(d,y){return y=y.create,r(r({},d),y(d))},u))}}function Oi(o,u){var s=u.db,u=Th(o._middlewares,s,o._deps,u);o.core=u.dbcore,o.tables.forEach(function(f){var d=f.name;o.core.schema.tables.some(function(y){return y.name===d})&&(f.core=o.core.table(d),o[d]instanceof o.Table&&(o[d].core=f.core))})}function Ti(o,i,s,u){s.forEach(function(f){var d=u[f];i.forEach(function(y){var g=function k(_,P){return ye(_,P)||(_=w(_))&&k(_,P)}(y,f);(!g||"value"in g&&g.value===void 0)&&(y===o.Transaction.prototype||y instanceof o.Transaction?$(y,f,{get:function(){return this.table(f)},set:function(k){B(this,f,{value:k,writable:!0,configurable:!0,enumerable:!0})}}):y[f]=new o.Table(f,d))})})}function va(o,i){i.forEach(function(s){for(var u in s)s[u]instanceof o.Table&&delete s[u]})}function Ih(o,i){return o._cfg.version-i._cfg.version}function zh(o,i,s,u){var f=o._dbSchema;s.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=ya("$meta",kc("")[0],[]),o._storeNames.push("$meta"));var d=o._createTransaction("readwrite",o._storeNames,f);d.create(s),d._completion.catch(u);var y=d._reject.bind(d),g=de.transless||de;On(function(){return de.trans=d,de.transless=g,i!==0?(Oi(o,s),_=i,((k=d).storeNames.includes("$meta")?k.table("$meta").get("version").then(function(P){return P??_}):le.resolve(_)).then(function(P){return O=P,S=d,b=s,E=[],P=(x=o)._versions,N=x._dbSchema=zi(0,x.idbdb,b),(P=P.filter(function(I){return I._cfg.version>=O})).length!==0?(P.forEach(function(I){E.push(function(){var D=N,F=I._cfg.dbschema;Di(x,D,b),Di(x,F,b),N=x._dbSchema=F;var U=wa(D,F);U.add.forEach(function(re){xa(b,re[0],re[1].primKey,re[1].indexes)}),U.change.forEach(function(re){if(re.recreate)throw new pe.Upgrade("Not yet support for changing primary key");var J=b.objectStore(re.name);re.add.forEach(function(ue){return Ii(J,ue)}),re.change.forEach(function(ue){J.deleteIndex(ue.name),Ii(J,ue)}),re.del.forEach(function(ue){return J.deleteIndex(ue)})});var W=I._cfg.contentUpgrade;if(W&&I._cfg.version>O){Oi(x,b),S._memoizedTables={};var te=ne(F);U.del.forEach(function(re){te[re]=D[re]}),va(x,[x.Transaction.prototype]),Ti(x,[x.Transaction.prototype],c(te),te),S.schema=te;var H,G=ze(W);return G&&Mr(),U=le.follow(function(){var re;(H=W(S))&&G&&(re=Tn.bind(null,null),H.then(re,re))}),H&&typeof H.then=="function"?le.resolve(H):U.then(function(){return H})}}),E.push(function(D){var F,U,W=I._cfg.dbschema;F=W,U=D,[].slice.call(U.db.objectStoreNames).forEach(function(te){return F[te]==null&&U.db.deleteObjectStore(te)}),va(x,[x.Transaction.prototype]),Ti(x,[x.Transaction.prototype],x._storeNames,x._dbSchema),S.schema=x._dbSchema}),E.push(function(D){x.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(x.idbdb.version/10)===I._cfg.version?(x.idbdb.deleteObjectStore("$meta"),delete x._dbSchema.$meta,x._storeNames=x._storeNames.filter(function(F){return F!=="$meta"})):D.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return E.length?le.resolve(E.shift()(S.idbtrans)).then(I):le.resolve()}().then(function(){xc(N,b)})):le.resolve();var x,O,S,b,E,N}).catch(y)):(c(f).forEach(function(P){xa(s,P,f[P].primKey,f[P].indexes)}),Oi(o,s),void le.follow(function(){return o.on.populate.fire(d)}).catch(y));var k,_})}function Dh(o,i){xc(o._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var s=zi(0,o.idbdb,i);Di(o,o._dbSchema,i);for(var u=0,f=wa(s,o._dbSchema).change;u<f.length;u++){var d=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var g=i.objectStore(y.name);y.add.forEach(function(k){Lt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(k.src)),Ii(g,k)})}(f[u]);if(typeof d=="object")return d.value}}function wa(o,i){var s,u={del:[],add:[],change:[]};for(s in o)i[s]||u.del.push(s);for(s in i){var f=o[s],d=i[s];if(f){var y={name:s,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||f.primKey.auto!==d.primKey.auto)y.recreate=!0,u.change.push(y);else{var g=f.idxByName,k=d.idxByName,_=void 0;for(_ in g)k[_]||y.del.push(_);for(_ in k){var P=g[_],x=k[_];P?P.src!==x.src&&y.change.push(x):y.add.push(x)}(0<y.del.length||0<y.add.length||0<y.change.length)&&u.change.push(y)}}else u.add.push([s,d])}return u}function xa(o,i,s,u){var f=o.db.createObjectStore(i,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return u.forEach(function(d){return Ii(f,d)}),f}function xc(o,i){c(o).forEach(function(s){i.db.objectStoreNames.contains(s)||(Lt&&console.debug("Dexie: Creating missing table",s),xa(i,s,o[s].primKey,o[s].indexes))})}function Ii(o,i){o.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function zi(o,i,s){var u={};return v(i.objectStoreNames,0).forEach(function(f){for(var d=s.objectStore(f),y=ma(vc(_=d.keyPath),_||"",!0,!1,!!d.autoIncrement,_&&typeof _!="string",!0),g=[],k=0;k<d.indexNames.length;++k){var P=d.index(d.indexNames[k]),_=P.keyPath,P=ma(P.name,_,!!P.unique,!!P.multiEntry,!1,_&&typeof _!="string",!1);g.push(P)}u[f]=ya(f,y,g)}),u}function Di(o,i,s){for(var u=s.db.objectStoreNames,f=0;f<u.length;++f){var d=u[f],y=s.objectStore(d);o._hasGetAll="getAll"in y;for(var g=0;g<y.indexNames.length;++g){var k=y.indexNames[g],_=y.index(k).keyPath,P=typeof _=="string"?_:"["+v(_).join("+")+"]";!i[d]||(_=i[d].idxByName[P])&&(_.name=k,delete i[d].idxByName[P],i[d].idxByName[k]=_)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function kc(o){return o.split(",").map(function(i,s){var d=i.split(":"),u=(f=d[1])===null||f===void 0?void 0:f.trim(),f=(i=d[0].trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return ma(f,d||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),p(d),s===0,u)})}var Ah=(zr.prototype._createTableSchema=ya,zr.prototype._parseIndexSyntax=kc,zr.prototype._parseStoresSpec=function(o,i){var s=this;c(o).forEach(function(u){if(o[u]!==null){var f=s._parseIndexSyntax(o[u]),d=f.shift();if(!d)throw new pe.Schema("Invalid schema for table "+u+": "+o[u]);if(d.unique=!0,d.multi)throw new pe.Schema("Primary key cannot be multiEntry*");f.forEach(function(y){if(y.auto)throw new pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new pe.Schema("Index must have a name and cannot be an empty string")}),f=s._createTableSchema(u,d,f),i[u]=f}})},zr.prototype.stores=function(s){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,s):s;var s=i._versions,u={},f={};return s.forEach(function(d){h(u,d._cfg.storesSource),f=d._cfg.dbschema={},d._parseStoresSpec(u,f)}),i._dbSchema=f,va(i,[i._allTables,i,i.Transaction.prototype]),Ti(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],c(f),f),i._storeNames=c(f),this},zr.prototype.upgrade=function(o){return this._cfg.contentUpgrade=jr(this._cfg.contentUpgrade||Te,o),this},zr);function zr(){}function ka(o,i){var s=o._dbNamesDB;return s||(s=o._dbNamesDB=new mn(bi,{addons:[],indexedDB:o,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),s.table("dbnames")}function _a(o){return o&&typeof o.databases=="function"}function Sa(o){return On(function(){return de.letThrough=!0,o()})}function Ca(o){return!("from"in o)}var ct=function(o,i){if(!this){var s=new ct;return o&&"d"in o&&h(s,o),s}h(this,arguments.length?{d:1,from:o,to:1<arguments.length?i:o}:{d:0})};function ko(o,i,s){var u=Ne(i,s);if(!isNaN(u)){if(0<u)throw RangeError();if(Ca(o))return h(o,{from:i,to:s,d:1});var f=o.l,u=o.r;if(Ne(s,o.from)<0)return f?ko(f,i,s):o.l={from:i,to:s,d:1,l:null,r:null},Sc(o);if(0<Ne(i,o.to))return u?ko(u,i,s):o.r={from:i,to:s,d:1,l:null,r:null},Sc(o);Ne(i,o.from)<0&&(o.from=i,o.l=null,o.d=u?u.d+1:1),0<Ne(s,o.to)&&(o.to=s,o.r=null,o.d=o.l?o.l.d+1:1),s=!o.r,f&&!o.l&&_o(o,f),u&&s&&_o(o,u)}}function _o(o,i){Ca(i)||function s(u,k){var d=k.from,y=k.to,g=k.l,k=k.r;ko(u,d,y),g&&s(u,g),k&&s(u,k)}(o,i)}function _c(o,i){var s=Ai(i),u=s.next();if(u.done)return!1;for(var f=u.value,d=Ai(o),y=d.next(f.from),g=y.value;!u.done&&!y.done;){if(Ne(g.from,f.to)<=0&&0<=Ne(g.to,f.from))return!0;Ne(f.from,g.from)<0?f=(u=s.next(g.from)).value:g=(y=d.next(f.from)).value}return!1}function Ai(o){var i=Ca(o)?null:{s:0,n:o};return{next:function(s){for(var u=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,u)for(;i.n.l&&Ne(s,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!u||Ne(s,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Sc(o){var i,s,u=(((i=o.r)===null||i===void 0?void 0:i.d)||0)-(((s=o.l)===null||s===void 0?void 0:s.d)||0),f=1<u?"r":u<-1?"l":"";f&&(i=f=="r"?"l":"r",s=r({},o),u=o[f],o.from=u.from,o.to=u.to,o[f]=u[f],s[f]=u[i],(o[i]=s).d=Cc(s)),o.d=Cc(o)}function Cc(s){var i=s.r,s=s.l;return(i?s?Math.max(i.d,s.d):i.d:s?s.d:0)+1}function Ri(o,i){return c(i).forEach(function(s){o[s]?_o(o[s],i[s]):o[s]=function u(f){var d,y,g={};for(d in f)M(f,d)&&(y=f[d],g[d]=!y||typeof y!="object"||fe.has(y.constructor)?y:u(y));return g}(i[s])}),o}function ba(o,i){return o.all||i.all||Object.keys(o).some(function(s){return i[s]&&_c(i[s],o[s])})}A(ct.prototype,((Ft={add:function(o){return _o(this,o),this},addKey:function(o){return ko(this,o,o),this},addKeys:function(o){var i=this;return o.forEach(function(s){return ko(i,s,s)}),this},hasKey:function(o){var i=Ai(this).next(o).value;return i&&Ne(i.from,o)<=0&&0<=Ne(i.to,o)}})[Ht]=function(){return Ai(this)},Ft));var cr={},Ea={},ja=!1;function Li(o){Ri(Ea,o),ja||(ja=!0,setTimeout(function(){ja=!1,Pa(Ea,!(Ea={}))},0))}function Pa(o,i){i===void 0&&(i=!1);var s=new Set;if(o.all)for(var u=0,f=Object.values(cr);u<f.length;u++)bc(y=f[u],o,s,i);else for(var d in o){var y,g=/^idb\:\/\/(.*)\/(.*)\//.exec(d);g&&(d=g[1],g=g[2],(y=cr["idb://".concat(d,"/").concat(g)])&&bc(y,o,s,i))}s.forEach(function(k){return k()})}function bc(o,i,s,u){for(var f=[],d=0,y=Object.entries(o.queries.query);d<y.length;d++){for(var g=y[d],k=g[0],_=[],P=0,x=g[1];P<x.length;P++){var O=x[P];ba(i,O.obsSet)?O.subscribers.forEach(function(N){return s.add(N)}):u&&_.push(O)}u&&f.push([k,_])}if(u)for(var S=0,b=f;S<b.length;S++){var E=b[S],k=E[0],_=E[1];o.queries.query[k]=_}}function Rh(o){var i=o._state,s=o._deps.indexedDB;if(i.isBeingOpened||o.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Ye(i.dbOpenError):o});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var u=i.openCanceller,f=Math.round(10*o.verno),d=!1;function y(){if(i.openCanceller!==u)throw new pe.DatabaseClosed("db.open() was cancelled")}function g(){return new le(function(O,S){if(y(),!s)throw new pe.MissingAPI;var b=o.name,E=i.autoSchema||!f?s.open(b):s.open(b,f);if(!E)throw new pe.MissingAPI;E.onerror=ln(S),E.onblocked=Ke(o._fireOnBlocked),E.onupgradeneeded=Ke(function(N){var I;P=E.transaction,i.autoSchema&&!o._options.allowEmptyDB?(E.onerror=go,P.abort(),E.result.close(),(I=s.deleteDatabase(b)).onsuccess=I.onerror=Ke(function(){S(new pe.NoSuchDatabase("Database ".concat(b," doesnt exist")))})):(P.onerror=ln(S),N=N.oldVersion>Math.pow(2,62)?0:N.oldVersion,x=N<1,o.idbdb=E.result,d&&Dh(o,P),zh(o,N/10,P,S))},S),E.onsuccess=Ke(function(){P=null;var N,I,D,F,U,W=o.idbdb=E.result,te=v(W.objectStoreNames);if(0<te.length)try{var H=W.transaction((F=te).length===1?F[0]:F,"readonly");if(i.autoSchema)I=W,D=H,(N=o).verno=I.version/10,D=N._dbSchema=zi(0,I,D),N._storeNames=v(I.objectStoreNames,0),Ti(N,[N._allTables],c(D),D);else if(Di(o,o._dbSchema,H),((U=wa(zi(0,(U=o).idbdb,H),U._dbSchema)).add.length||U.change.some(function(G){return G.add.length||G.change.length}))&&!d)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),W.close(),f=W.version+1,d=!0,O(g());Oi(o,H)}catch{}Or.push(o),W.onversionchange=Ke(function(G){i.vcFired=!0,o.on("versionchange").fire(G)}),W.onclose=Ke(function(){o.close({disableAutoOpen:!1})}),x&&(U=o._deps,H=b,W=U.indexedDB,U=U.IDBKeyRange,_a(W)||H===bi||ka(W,U).put({name:H}).catch(Te)),O()},S)}).catch(function(O){switch(O==null?void 0:O.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),g();break;case"VersionError":if(0<f)return f=0,g()}return le.reject(O)})}var k,_=i.dbReadyResolve,P=null,x=!1;return le.race([u,(typeof navigator>"u"?le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(O){function S(){return indexedDB.databases().finally(O)}k=setInterval(S,100),S()}).finally(function(){return clearInterval(k)}):Promise.resolve()).then(g)]).then(function(){return y(),i.onReadyBeingFired=[],le.resolve(Sa(function(){return o.on.ready.fire(o.vip)})).then(function O(){if(0<i.onReadyBeingFired.length){var S=i.onReadyBeingFired.reduce(jr,Te);return i.onReadyBeingFired=[],le.resolve(Sa(function(){return S(o.vip)})).then(O)}})}).finally(function(){i.openCanceller===u&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(O){i.dbOpenError=O;try{P&&P.abort()}catch{}return u===i.openCanceller&&o._close(),Ye(O)}).finally(function(){i.openComplete=!0,_()}).then(function(){var O;return x&&(O={},o.tables.forEach(function(S){S.schema.indexes.forEach(function(b){b.name&&(O["idb://".concat(o.name,"/").concat(S.name,"/").concat(b.name)]=new ct(-1/0,[[[]]]))}),O["idb://".concat(o.name,"/").concat(S.name,"/")]=O["idb://".concat(o.name,"/").concat(S.name,"/:dels")]=new ct(-1/0,[[[]]])}),Dn(vo).fire(O),Pa(O,!0)),o})}function Na(o){function i(d){return o.next(d)}var s=f(i),u=f(function(d){return o.throw(d)});function f(d){return function(k){var g=d(k),k=g.value;return g.done?k:k&&typeof k.then=="function"?k.then(s,u):p(k)?Promise.all(k).then(s,u):s(k)}}return f(i)()}function Fi(o,i,s){for(var u=p(o)?o.slice():[o],f=0;f<s;++f)u.push(i);return u}var Lh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(i){var s=o.table(i),u=s.schema,f={},d=[];function y(x,O,S){var b=xo(x),E=f[b]=f[b]||[],N=x==null?0:typeof x=="string"?1:x.length,I=0<O,I=r(r({},S),{name:I?"".concat(b,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:I,keyTail:O,keyLength:N,extractKey:ga(x),unique:!I&&S.unique});return E.push(I),I.isPrimaryKey||d.push(I),1<N&&y(N===2?x[0]:x.slice(0,N-1),O+1,S),E.sort(function(D,F){return D.keyTail-F.keyTail}),I}i=y(u.primaryKey.keyPath,0,u.primaryKey),f[":id"]=[i];for(var g=0,k=u.indexes;g<k.length;g++){var _=k[g];y(_.keyPath,0,_)}function P(x){var O,S=x.query.index;return S.isVirtual?r(r({},x),{query:{index:S.lowLevelIndex,range:(O=x.query.range,S=S.keyTail,{type:O.type===1?2:O.type,lower:Fi(O.lower,O.lowerOpen?o.MAX_KEY:o.MIN_KEY,S),lowerOpen:!0,upper:Fi(O.upper,O.upperOpen?o.MIN_KEY:o.MAX_KEY,S),upperOpen:!0})}}):x}return r(r({},s),{schema:r(r({},u),{primaryKey:i,indexes:d,getIndexByKeyPath:function(x){return(x=f[xo(x)])&&x[0]}}),count:function(x){return s.count(P(x))},query:function(x){return s.query(P(x))},openCursor:function(x){var O=x.query.index,S=O.keyTail,b=O.isVirtual,E=O.keyLength;return b?s.openCursor(P(x)).then(function(I){return I&&N(I)}):s.openCursor(x);function N(I){return Object.create(I,{continue:{value:function(D){D!=null?I.continue(Fi(D,x.reverse?o.MAX_KEY:o.MIN_KEY,S)):x.unique?I.continue(I.key.slice(0,E).concat(x.reverse?o.MIN_KEY:o.MAX_KEY,S)):I.continue()}},continuePrimaryKey:{value:function(D,F){I.continuePrimaryKey(Fi(D,o.MAX_KEY,S),F)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var D=I.key;return E===1?D[0]:D.slice(0,E)}},value:{get:function(){return I.value}}})}}})}})}};function Ma(o,i,s,u){return s=s||{},u=u||"",c(o).forEach(function(f){var d,y,g;M(i,f)?(d=o[f],y=i[f],typeof d=="object"&&typeof y=="object"&&d&&y?(g=tt(d))!==tt(y)?s[u+f]=i[f]:g==="Object"?Ma(d,y,s,u+f+"."):d!==y&&(s[u+f]=i[f]):d!==y&&(s[u+f]=i[f])):s[u+f]=void 0}),c(i).forEach(function(f){M(o,f)||(s[u+f]=i[f])}),s}function Oa(o,i){return i.type==="delete"?i.keys:i.keys||i.values.map(o.extractKey)}var Fh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(i){var s=o.table(i),u=s.schema.primaryKey;return r(r({},s),{mutate:function(f){var d=de.trans,y=d.table(i).hook,g=y.deleting,k=y.creating,_=y.updating;switch(f.type){case"add":if(k.fire===Te)break;return d._promise("readwrite",function(){return P(f)},!0);case"put":if(k.fire===Te&&_.fire===Te)break;return d._promise("readwrite",function(){return P(f)},!0);case"delete":if(g.fire===Te)break;return d._promise("readwrite",function(){return P(f)},!0);case"deleteRange":if(g.fire===Te)break;return d._promise("readwrite",function(){return function x(O,S,b){return s.query({trans:O,values:!1,query:{index:u,range:S},limit:b}).then(function(E){var N=E.result;return P({type:"delete",keys:N,trans:O}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):N.length<b?{failures:[],numFailures:0,lastResult:void 0}:x(O,r(r({},S),{lower:N[N.length-1],lowerOpen:!0}),b)})})}(f.trans,f.range,1e4)},!0)}return s.mutate(f);function P(x){var O,S,b,E=de.trans,N=x.keys||Oa(u,x);if(!N)throw new Error("Keys missing");return(x=x.type==="add"||x.type==="put"?r(r({},x),{keys:N}):r({},x)).type!=="delete"&&(x.values=l([],x.values)),x.keys&&(x.keys=l([],x.keys)),O=s,b=N,((S=x).type==="add"?Promise.resolve([]):O.getMany({trans:S.trans,keys:b,cache:"immutable"})).then(function(I){var D=N.map(function(F,U){var W,te,H,G=I[U],re={onerror:null,onsuccess:null};return x.type==="delete"?g.fire.call(re,F,G,E):x.type==="add"||G===void 0?(W=k.fire.call(re,F,x.values[U],E),F==null&&W!=null&&(x.keys[U]=F=W,u.outbound||R(x.values[U],u.keyPath,F))):(W=Ma(G,x.values[U]),(te=_.fire.call(re,W,F,G,E))&&(H=x.values[U],Object.keys(te).forEach(function(J){M(H,J)?H[J]=te[J]:R(H,J,te[J])}))),re});return s.mutate(x).then(function(F){for(var U=F.failures,W=F.results,te=F.numFailures,F=F.lastResult,H=0;H<N.length;++H){var G=(W||N)[H],re=D[H];G==null?re.onerror&&re.onerror(U[H]):re.onsuccess&&re.onsuccess(x.type==="put"&&I[H]?x.values[H]:G)}return{failures:U,results:W,numFailures:te,lastResult:F}}).catch(function(F){return D.forEach(function(U){return U.onerror&&U.onerror(F)}),Promise.reject(F)})})}}})}})}};function Ec(o,i,s){try{if(!i||i.keys.length<o.length)return null;for(var u=[],f=0,d=0;f<i.keys.length&&d<o.length;++f)Ne(i.keys[f],o[d])===0&&(u.push(s?ge(i.values[f]):i.values[f]),++d);return u.length===o.length?u:null}catch{return null}}var Bh={stack:"dbcore",level:-1,create:function(o){return{table:function(i){var s=o.table(i);return r(r({},s),{getMany:function(u){if(!u.cache)return s.getMany(u);var f=Ec(u.keys,u.trans._cache,u.cache==="clone");return f?le.resolve(f):s.getMany(u).then(function(d){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?ge(d):d},d})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),s.mutate(u)}})}}}};function jc(o,i){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function Pc(o,i){switch(o){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kh={stack:"dbcore",level:0,name:"Observability",create:function(o){var i=o.schema.name,s=new ct(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(u,f,d){if(de.subscr&&f!=="readonly")throw new pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(de.querier));return o.transaction(u,f,d)},table:function(u){var f=o.table(u),d=f.schema,y=d.primaryKey,x=d.indexes,g=y.extractKey,k=y.outbound,_=y.autoIncrement&&x.filter(function(S){return S.compound&&S.keyPath.includes(y.keyPath)}),P=r(r({},f),{mutate:function(S){function b(J){return J="idb://".concat(i,"/").concat(u,"/").concat(J),F[J]||(F[J]=new ct)}var E,N,I,D=S.trans,F=S.mutatedParts||(S.mutatedParts={}),U=b(""),W=b(":dels"),te=S.type,re=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[Oa(y,S).filter(function(J){return J}),S.values]:[],H=re[0],G=re[1],re=S.trans._cache;return p(H)?(U.addKeys(H),(re=te==="delete"||H.length===G.length?Ec(H,re):null)||W.addKeys(H),(re||G)&&(E=b,N=re,I=G,d.indexes.forEach(function(J){var ue=E(J.name||"");function _e(be){return be!=null?J.extractKey(be):null}function Ce(be){return J.multiEntry&&p(be)?be.forEach(function(Mt){return ue.addKey(Mt)}):ue.addKey(be)}(N||I).forEach(function(be,ft){var we=N&&_e(N[ft]),ft=I&&_e(I[ft]);Ne(we,ft)!==0&&(we!=null&&Ce(we),ft!=null&&Ce(ft))})}))):H?(G={from:(G=H.lower)!==null&&G!==void 0?G:o.MIN_KEY,to:(G=H.upper)!==null&&G!==void 0?G:o.MAX_KEY},W.add(G),U.add(G)):(U.add(s),W.add(s),d.indexes.forEach(function(J){return b(J.name).add(s)})),f.mutate(S).then(function(J){return!H||S.type!=="add"&&S.type!=="put"||(U.addKeys(J.results),_&&_.forEach(function(ue){for(var _e=S.values.map(function(we){return ue.extractKey(we)}),Ce=ue.keyPath.findIndex(function(we){return we===y.keyPath}),be=0,Mt=J.results.length;be<Mt;++be)_e[be][Ce]=J.results[be];b(ue.name).addKeys(_e)})),D.mutatedParts=Ri(D.mutatedParts||{},F),J})}}),x=function(b){var E=b.query,b=E.index,E=E.range;return[b,new ct((b=E.lower)!==null&&b!==void 0?b:o.MIN_KEY,(E=E.upper)!==null&&E!==void 0?E:o.MAX_KEY)]},O={get:function(S){return[y,new ct(S.key)]},getMany:function(S){return[y,new ct().addKeys(S.keys)]},count:x,query:x,openCursor:x};return c(O).forEach(function(S){P[S]=function(b){var E=de.subscr,N=!!E,I=jc(de,f)&&Pc(S,b)?b.obsSet={}:E;if(N){var D=function(G){return G="idb://".concat(i,"/").concat(u,"/").concat(G),I[G]||(I[G]=new ct)},F=D(""),U=D(":dels"),E=O[S](b),N=E[0],E=E[1];if((S==="query"&&N.isPrimaryKey&&!b.values?U:D(N.name||"")).add(E),!N.isPrimaryKey){if(S!=="count"){var W=S==="query"&&k&&b.values&&f.query(r(r({},b),{values:!1}));return f[S].apply(this,arguments).then(function(G){if(S==="query"){if(k&&b.values)return W.then(function(_e){return _e=_e.result,F.addKeys(_e),G});var re=b.values?G.result.map(g):G.result;(b.values?F:U).addKeys(re)}else if(S==="openCursor"){var J=G,ue=b.values;return J&&Object.create(J,{key:{get:function(){return U.addKey(J.primaryKey),J.key}},primaryKey:{get:function(){var _e=J.primaryKey;return U.addKey(_e),_e}},value:{get:function(){return ue&&F.addKey(J.primaryKey),J.value}}})}return G})}U.add(s)}}return f[S].apply(this,arguments)}}),P}})}};function Nc(o,i,s){if(s.numFailures===0)return i;if(i.type==="deleteRange")return null;var u=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return s.numFailures===u?null:(i=r({},i),p(i.keys)&&(i.keys=i.keys.filter(function(f,d){return!(d in s.failures)})),"values"in i&&p(i.values)&&(i.values=i.values.filter(function(f,d){return!(d in s.failures)})),i)}function Ta(o,i){return s=o,((u=i).lower===void 0||(u.lowerOpen?0<Ne(s,u.lower):0<=Ne(s,u.lower)))&&(o=o,(i=i).upper===void 0||(i.upperOpen?Ne(o,i.upper)<0:Ne(o,i.upper)<=0));var s,u}function Mc(o,i,O,u,f,d){if(!O||O.length===0)return o;var y=i.query.index,g=y.multiEntry,k=i.query.range,_=u.schema.primaryKey.extractKey,P=y.extractKey,x=(y.lowLevelIndex||y).extractKey,O=O.reduce(function(S,b){var E=S,N=[];if(b.type==="add"||b.type==="put")for(var I=new ct,D=b.values.length-1;0<=D;--D){var F,U=b.values[D],W=_(U);I.hasKey(W)||(F=P(U),(g&&p(F)?F.some(function(J){return Ta(J,k)}):Ta(F,k))&&(I.addKey(W),N.push(U)))}switch(b.type){case"add":var te=new ct().addKeys(i.values?S.map(function(ue){return _(ue)}):S),E=S.concat(i.values?N.filter(function(ue){return ue=_(ue),!te.hasKey(ue)&&(te.addKey(ue),!0)}):N.map(function(ue){return _(ue)}).filter(function(ue){return!te.hasKey(ue)&&(te.addKey(ue),!0)}));break;case"put":var H=new ct().addKeys(b.values.map(function(ue){return _(ue)}));E=S.filter(function(ue){return!H.hasKey(i.values?_(ue):ue)}).concat(i.values?N:N.map(function(ue){return _(ue)}));break;case"delete":var G=new ct().addKeys(b.keys);E=S.filter(function(ue){return!G.hasKey(i.values?_(ue):ue)});break;case"deleteRange":var re=b.range;E=S.filter(function(ue){return!Ta(_(ue),re)})}return E},o);return O===o?o:(O.sort(function(S,b){return Ne(x(S),x(b))||Ne(_(S),_(b))}),i.limit&&i.limit<1/0&&(O.length>i.limit?O.length=i.limit:o.length===i.limit&&O.length<i.limit&&(f.dirty=!0)),d?Object.freeze(O):O)}function Oc(o,i){return Ne(o.lower,i.lower)===0&&Ne(o.upper,i.upper)===0&&!!o.lowerOpen==!!i.lowerOpen&&!!o.upperOpen==!!i.upperOpen}function Uh(o,i){return function(s,u,f,d){if(s===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=Ne(s,u))===0){if(f&&d)return 0;if(f)return 1;if(d)return-1}return u}(o.lower,i.lower,o.lowerOpen,i.lowerOpen)<=0&&0<=function(s,u,f,d){if(s===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=Ne(s,u))===0){if(f&&d)return 0;if(f)return-1;if(d)return 1}return u}(o.upper,i.upper,o.upperOpen,i.upperOpen)}function $h(o,i,s,u){o.subscribers.add(s),u.addEventListener("abort",function(){var f,d;o.subscribers.delete(s),o.subscribers.size===0&&(f=o,d=i,setTimeout(function(){f.subscribers.size===0&&oe(d,f)},3e3))})}var Vh={stack:"dbcore",level:0,name:"Cache",create:function(o){var i=o.schema.name;return r(r({},o),{transaction:function(s,u,f){var d,y,g=o.transaction(s,u,f);return u==="readwrite"&&(y=(d=new AbortController).signal,f=function(k){return function(){if(d.abort(),u==="readwrite"){for(var _=new Set,P=0,x=s;P<x.length;P++){var O=x[P],S=cr["idb://".concat(i,"/").concat(O)];if(S){var b=o.table(O),E=S.optimisticOps.filter(function(ue){return ue.trans===g});if(g._explicit&&k&&g.mutatedParts)for(var N=0,I=Object.values(S.queries.query);N<I.length;N++)for(var D=0,F=(te=I[N]).slice();D<F.length;D++)ba((H=F[D]).obsSet,g.mutatedParts)&&(oe(te,H),H.subscribers.forEach(function(ue){return _.add(ue)}));else if(0<E.length){S.optimisticOps=S.optimisticOps.filter(function(ue){return ue.trans!==g});for(var U=0,W=Object.values(S.queries.query);U<W.length;U++)for(var te,H,G,re=0,J=(te=W[U]).slice();re<J.length;re++)(H=J[re]).res!=null&&g.mutatedParts&&(k&&!H.dirty?(G=Object.isFrozen(H.res),G=Mc(H.res,H.req,E,b,H,G),H.dirty?(oe(te,H),H.subscribers.forEach(function(ue){return _.add(ue)})):G!==H.res&&(H.res=G,H.promise=le.resolve({result:G}))):(H.dirty&&oe(te,H),H.subscribers.forEach(function(ue){return _.add(ue)})))}}}_.forEach(function(ue){return ue()})}}},g.addEventListener("abort",f(!1),{signal:y}),g.addEventListener("error",f(!1),{signal:y}),g.addEventListener("complete",f(!0),{signal:y})),g},table:function(s){var u=o.table(s),f=u.schema.primaryKey;return r(r({},u),{mutate:function(d){var y=de.trans;if(f.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return u.mutate(d);var g=cr["idb://".concat(i,"/").concat(s)];return g?(y=u.mutate(d),d.type!=="add"&&d.type!=="put"||!(50<=d.values.length||Oa(f,d).some(function(k){return k==null}))?(g.optimisticOps.push(d),d.mutatedParts&&Li(d.mutatedParts),y.then(function(k){0<k.numFailures&&(oe(g.optimisticOps,d),(k=Nc(0,d,k))&&g.optimisticOps.push(k),d.mutatedParts&&Li(d.mutatedParts))}),y.catch(function(){oe(g.optimisticOps,d),d.mutatedParts&&Li(d.mutatedParts)})):y.then(function(k){var _=Nc(0,r(r({},d),{values:d.values.map(function(P,x){var O;return k.failures[x]?P:(P=(O=f.keyPath)!==null&&O!==void 0&&O.includes(".")?ge(P):r({},P),R(P,f.keyPath,k.results[x]),P)})}),k);g.optimisticOps.push(_),queueMicrotask(function(){return d.mutatedParts&&Li(d.mutatedParts)})}),y):u.mutate(d)},query:function(d){if(!jc(de,u)||!Pc("query",d))return u.query(d);var y=((_=de.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",x=de,g=x.requery,k=x.signal,_=function(b,E,N,I){var D=cr["idb://".concat(b,"/").concat(E)];if(!D)return[];if(!(E=D.queries[N]))return[null,!1,D,null];var F=E[(I.query?I.query.index.name:null)||""];if(!F)return[null,!1,D,null];switch(N){case"query":var U=F.find(function(W){return W.req.limit===I.limit&&W.req.values===I.values&&Oc(W.req.query.range,I.query.range)});return U?[U,!0,D,F]:[F.find(function(W){return("limit"in W.req?W.req.limit:1/0)>=I.limit&&(!I.values||W.req.values)&&Uh(W.req.query.range,I.query.range)}),!1,D,F];case"count":return U=F.find(function(W){return Oc(W.req.query.range,I.query.range)}),[U,!!U,D,F]}}(i,s,"query",d),P=_[0],x=_[1],O=_[2],S=_[3];return P&&x?P.obsSet=d.obsSet:(x=u.query(d).then(function(b){var E=b.result;if(P&&(P.res=E),y){for(var N=0,I=E.length;N<I;++N)Object.freeze(E[N]);Object.freeze(E)}else b.result=ge(E);return b}).catch(function(b){return S&&P&&oe(S,P),Promise.reject(b)}),P={obsSet:d.obsSet,promise:x,subscribers:new Set,type:"query",req:d,dirty:!1},S?S.push(P):(S=[P],(O=O||(cr["idb://".concat(i,"/").concat(s)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=S)),$h(P,S,g,k),P.promise.then(function(b){return{result:Mc(b.result,d,O==null?void 0:O.optimisticOps,u,P,y)}})}})}})}};function Bi(o,i){return new Proxy(o,{get:function(s,u,f){return u==="db"?i:Reflect.get(s,u,f)}})}var mn=(Ge.prototype.version=function(o){if(isNaN(o)||o<.1)throw new pe.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var i=this._versions,s=i.filter(function(u){return u._cfg.version===o})[0];return s||(s=new this.Version(o),i.push(s),i.sort(Ih),s.stores({}),this._state.autoSchema=!1,s)},Ge.prototype._whenReady=function(o){var i=this;return this.idbdb&&(this._state.openComplete||de.letThrough||this._vip)?o():new le(function(s,u){if(i._state.openComplete)return u(new pe.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void u(new pe.DatabaseClosed);i.open().catch(Te)}i._state.dbReadyPromise.then(s,u)}).then(o)},Ge.prototype.use=function(o){var i=o.stack,s=o.create,u=o.level,f=o.name;return f&&this.unuse({stack:i,name:f}),o=this._middlewares[i]||(this._middlewares[i]=[]),o.push({stack:i,create:s,level:u??10,name:f}),o.sort(function(d,y){return d.level-y.level}),this},Ge.prototype.unuse=function(o){var i=o.stack,s=o.name,u=o.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(f){return u?f.create!==u:!!s&&f.name!==s})),this},Ge.prototype.open=function(){var o=this;return ar(Mn,function(){return Rh(o)})},Ge.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,i=Or.indexOf(this);if(0<=i&&Or.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new le(function(s){o.dbReadyResolve=s}),o.openCanceller=new le(function(s,u){o.cancelOpen=u}))},Ge.prototype.close=function(s){var i=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,s=this._state;i?(s.isBeingOpened&&s.cancelOpen(new pe.DatabaseClosed),this._close(),s.autoOpen=!1,s.dbOpenError=new pe.DatabaseClosed):(this._close(),s.autoOpen=this._options.autoOpen||s.isBeingOpened,s.openComplete=!1,s.dbOpenError=null)},Ge.prototype.delete=function(o){var i=this;o===void 0&&(o={disableAutoOpen:!0});var s=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new le(function(f,d){function y(){i.close(o);var g=i._deps.indexedDB.deleteDatabase(i.name);g.onsuccess=Ke(function(){var k,_,P;k=i._deps,_=i.name,P=k.indexedDB,k=k.IDBKeyRange,_a(P)||_===bi||ka(P,k).delete(_).catch(Te),f()}),g.onerror=ln(d),g.onblocked=i._fireOnBlocked}if(s)throw new pe.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(y):y()})},Ge.prototype.backendDB=function(){return this.idbdb},Ge.prototype.isOpen=function(){return this.idbdb!==null},Ge.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Ge.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ge.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ge.prototype,"tables",{get:function(){var o=this;return c(this._allTables).map(function(i){return o._allTables[i]})},enumerable:!1,configurable:!0}),Ge.prototype.transaction=function(){var o=(function(i,s,u){var f=arguments.length;if(f<2)throw new pe.InvalidArgument("Too few arguments");for(var d=new Array(f-1);--f;)d[f-1]=arguments[f];return u=d.pop(),[i,X(d),u]}).apply(this,arguments);return this._transaction.apply(this,o)},Ge.prototype._transaction=function(o,i,s){var u=this,f=de.trans;f&&f.db===this&&o.indexOf("!")===-1||(f=null);var d,y,g=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(y=i.map(function(_){if(_=_ instanceof u.Table?_.name:_,typeof _!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),o=="r"||o===ca)d=ca;else{if(o!="rw"&&o!=fa)throw new pe.InvalidArgument("Invalid transaction mode: "+o);d=fa}if(f){if(f.mode===ca&&d===fa){if(!g)throw new pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&y.forEach(function(_){if(f&&f.storeNames.indexOf(_)===-1){if(!g)throw new pe.SubTransaction("Table "+_+" not included in parent transaction.");f=null}}),g&&f&&!f.active&&(f=null)}}catch(_){return f?f._promise(null,function(P,x){x(_)}):Ye(_)}var k=(function _(P,x,O,S,b){return le.resolve().then(function(){var E=de.transless||de,N=P._createTransaction(x,O,P._dbSchema,S);if(N.explicit=!0,E={trans:N,transless:E},S)N.idbtrans=S.idbtrans;else try{N.create(),N.idbtrans._explicit=!0,P._state.PR1398_maxLoop=3}catch(F){return F.name===Qt.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return _(P,x,O,null,b)})):Ye(F)}var I,D=ze(b);return D&&Mr(),E=le.follow(function(){var F;(I=b.call(N,N))&&(D?(F=Tn.bind(null,null),I.then(F,F)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Na(I)))},E),(I&&typeof I.then=="function"?le.resolve(I).then(function(F){return N.active?F:Ye(new pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):E.then(function(){return I})).then(function(F){return S&&N._resolve(),N._completion.then(function(){return F})}).catch(function(F){return N._reject(F),Ye(F)})})}).bind(null,this,d,y,f,s);return f?f._promise(d,k,"lock"):de.trans?ar(de.transless,function(){return u._whenReady(k)}):this._whenReady(k)},Ge.prototype.table=function(o){if(!M(this._allTables,o))throw new pe.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Ge);function Ge(o,i){var s=this;this._middlewares={},this.verno=0;var u=Ge.dependencies;this._options=i=r({addons:Ge.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},u=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,d,y,g,k,_={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Te,dbReadyPromise:null,cancelOpen:Te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};_.dbReadyPromise=new le(function(x){_.dbReadyResolve=x}),_.openCanceller=new le(function(x,O){_.cancelOpen=O}),this._state=_,this.name=o,this.on=mo(this,"populate","blocked","versionchange","close",{ready:[jr,Te]}),this.once=function(x,O){var S=function(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];s.on(x).unsubscribe(S),O.apply(s,b)};return s.on(x,S)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(x){return function(O,S){Ge.vip(function(){var b,E=s._state;E.openComplete?(E.dbOpenError||le.resolve().then(O),S&&x(O)):E.onReadyBeingFired?(E.onReadyBeingFired.push(O),S&&x(O)):(x(O),b=s,S||x(function N(){b.on.ready.unsubscribe(O),b.on.ready.unsubscribe(N)}))})}}),this.Collection=(f=this,yo(Eh.prototype,function(I,N){this.db=f;var S=lc,b=null;if(N)try{S=N()}catch(D){b=D}var E=I._ctx,N=E.table,I=N.hook.reading.fire;this._ctx={table:N,index:E.index,isPrimKey:!E.index||N.schema.primKey.keyPath&&E.index===N.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:b,or:E.or,valueMapper:I!==Pn?I:null}})),this.Table=(d=this,yo(dc.prototype,function(x,O,S){this.db=d,this._tx=S,this.name=x,this.schema=O,this.hook=d._allTables[x]?d._allTables[x].hook:mo(null,{creating:[mi,Te],reading:[hi,Pn],updating:[gi,Te],deleting:[yi,Te]})})),this.Transaction=(y=this,yo(Nh.prototype,function(x,O,S,b,E){var N=this;x!=="readonly"&&O.forEach(function(I){I=(I=S[I])===null||I===void 0?void 0:I.yProps,I&&(O=O.concat(I.map(function(D){return D.updatesTable})))}),this.db=y,this.mode=x,this.storeNames=O,this.schema=S,this.chromeTransactionDurability=b,this.idbtrans=null,this.on=mo(this,"complete","error","abort"),this.parent=E||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le(function(I,D){N._resolve=I,N._reject=D}),this._completion.then(function(){N.active=!1,N.on.complete.fire()},function(I){var D=N.active;return N.active=!1,N.on.error.fire(I),N.parent?N.parent._reject(I):D&&N.idbtrans&&N.idbtrans.abort(),Ye(I)})})),this.Version=(g=this,yo(Ah.prototype,function(x){this.db=g,this._cfg={version:x,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(k=this,yo(gc.prototype,function(x,O,S){if(this.db=k,this._ctx={table:x,index:O===":id"?null:O,or:S},this._cmp=this._ascending=Ne,this._descending=function(b,E){return Ne(E,b)},this._max=function(b,E){return 0<Ne(b,E)?b:E},this._min=function(b,E){return Ne(b,E)<0?b:E},this._IDBKeyRange=k._deps.IDBKeyRange,!this._IDBKeyRange)throw new pe.MissingAPI})),this.on("versionchange",function(x){0<x.newVersion?console.warn("Another connection wants to upgrade database '".concat(s.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(s.name,"'. Closing db now to resume the delete request.")),s.close({disableAutoOpen:!1})}),this.on("blocked",function(x){!x.newVersion||x.newVersion<x.oldVersion?console.warn("Dexie.delete('".concat(s.name,"') was blocked")):console.warn("Upgrade '".concat(s.name,"' blocked by other connection holding version ").concat(x.oldVersion/10))}),this._maxKey=wo(i.IDBKeyRange),this._createTransaction=function(x,O,S,b){return new s.Transaction(x,O,S,s._options.chromeTransactionDurability,b)},this._fireOnBlocked=function(x){s.on("blocked").fire(x),Or.filter(function(O){return O.name===s.name&&O!==s&&!O._state.vcFired}).map(function(O){return O.on("versionchange").fire(x)})},this.use(Bh),this.use(Vh),this.use(Kh),this.use(Lh),this.use(Fh);var P=new Proxy(this,{get:function(x,O,S){if(O==="_vip")return!0;if(O==="table")return function(E){return Bi(s.table(E),P)};var b=Reflect.get(x,O,S);return b instanceof dc?Bi(b,P):O==="tables"?b.map(function(E){return Bi(E,P)}):O==="_createTransaction"?function(){return Bi(b.apply(this,arguments),P)}:b}});this.vip=P,u.forEach(function(x){return x(s)})}var Ki,Ft=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",qh=(Ia.prototype.subscribe=function(o,i,s){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:i,complete:s})},Ia.prototype[Ft]=function(){return this},Ia);function Ia(o){this._subscribe=o}try{Ki={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ki={indexedDB:null,IDBKeyRange:null}}function Tc(o){var i,s=!1,u=new qh(function(f){var d=ze(o),y,g=!1,k={},_={},P={get closed(){return g},unsubscribe:function(){g||(g=!0,y&&y.abort(),x&&Dn.storagemutated.unsubscribe(S))}};f.start&&f.start(P);var x=!1,O=function(){return ua(b)},S=function(E){Ri(k,E),ba(_,k)&&O()},b=function(){var E,N,I;!g&&Ki.indexedDB&&(k={},E={},y&&y.abort(),y=new AbortController,I=function(D){var F=Pr();try{d&&Mr();var U=On(o,D);return U=d?U.finally(Tn):U}finally{F&&Nr()}}(N={subscr:E,signal:y.signal,requery:O,querier:o,trans:null}),Promise.resolve(I).then(function(D){s=!0,i=D,g||N.signal.aborted||(k={},function(F){for(var U in F)if(M(F,U))return;return 1}(_=E)||x||(Dn(vo,S),x=!0),ua(function(){return!g&&f.next&&f.next(D)}))},function(D){s=!1,["DatabaseClosedError","AbortError"].includes(D==null?void 0:D.name)||g||ua(function(){g||f.error&&f.error(D)})}))};return setTimeout(O,0),P});return u.hasValue=function(){return s},u.getValue=function(){return i},u}var fr=mn;function za(o){var i=An;try{An=!0,Dn.storagemutated.fire(o),Pa(o,!0)}finally{An=i}}A(fr,r(r({},or),{delete:function(o){return new fr(o,{addons:[]}).delete()},exists:function(o){return new fr(o,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return i=fr.dependencies,s=i.indexedDB,i=i.IDBKeyRange,(_a(s)?Promise.resolve(s.databases()).then(function(u){return u.map(function(f){return f.name}).filter(function(f){return f!==bi})}):ka(s,i).toCollection().primaryKeys()).then(o)}catch{return Ye(new pe.MissingAPI)}var i,s},defineClass:function(){return function(o){h(this,o)}},ignoreTransaction:function(o){return de.trans?ar(de.transless,o):o()},vip:Sa,async:function(o){return function(){try{var i=Na(o.apply(this,arguments));return i&&typeof i.then=="function"?i:le.resolve(i)}catch(s){return Ye(s)}}},spawn:function(o,i,s){try{var u=Na(o.apply(s,i||[]));return u&&typeof u.then=="function"?u:le.resolve(u)}catch(f){return Ye(f)}},currentTransaction:{get:function(){return de.trans||null}},waitFor:function(o,i){return i=le.resolve(typeof o=="function"?fr.ignoreTransaction(o):o).timeout(i||6e4),de.trans?de.trans.waitFor(i):i},Promise:le,debug:{get:function(){return Lt},set:function(o){Y(o)}},derive:K,extend:h,props:A,override:j,Events:mo,on:Dn,liveQuery:Tc,extendObservabilitySet:Ri,getByKeyPath:L,setByKeyPath:R,delByKeyPath:function(o,i){typeof i=="string"?R(o,i,void 0):"length"in i&&[].map.call(i,function(s){R(o,s,void 0)})},shallowClone:ne,deepClone:ge,getObjectDiff:Ma,cmp:Ne,asap:Q,minKey:-1/0,addons:[],connections:Or,errnames:Qt,dependencies:Ki,cache:cr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(o){return parseInt(o)}).reduce(function(o,i,s){return o+i/Math.pow(10,2*s)})})),fr.maxKey=wo(fr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Dn(vo,function(o){An||(o=new CustomEvent(ha,{detail:o}),An=!0,dispatchEvent(o),An=!1)}),addEventListener(ha,function(o){o=o.detail,An||za(o)}));var Dr,An=!1,Ic=function(){};return typeof BroadcastChannel<"u"&&((Ic=function(){(Dr=new BroadcastChannel(ha)).onmessage=function(o){return o.data&&za(o.data)}})(),typeof Dr.unref=="function"&&Dr.unref(),Dn(vo,function(o){An||Dr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!mn.disableBfCache&&o.persisted){Lt&&console.debug("Dexie: handling persisted pagehide"),Dr!=null&&Dr.close();for(var i=0,s=Or;i<s.length;i++)s[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!mn.disableBfCache&&o.persisted&&(Lt&&console.debug("Dexie: handling persisted pageshow"),Ic(),za({all:new ct(-1/0,[[]])}))})),le.rejectionMapper=function(o,i){return!o||o instanceof _t||o instanceof TypeError||o instanceof SyntaxError||!o.name||!fo[o.name]?o:(i=new fo[o.name](i||o.message,o),"stack"in o&&$(i,"stack",{get:function(){return this.inner.stack}}),i)},Y(Lt),r(mn,Object.freeze({__proto__:null,Dexie:mn,liveQuery:Tc,Entity:ac,cmp:Ne,PropModification:ho,replacePrefix:function(o,i){return new ho({replacePrefix:[o,i]})},add:function(o){return new ho({add:o})},remove:function(o){return new ho({remove:o})},default:mn,RangeSet:ct,mergeRanges:_o,rangesOverlap:_c}),{default:mn}),mn})})(dh);var xg=dh.exports;const ou=Zf(xg),Hf=Symbol.for("Dexie"),Ul=globalThis[Hf]||(globalThis[Hf]=ou);if(ou.semVer!==Ul.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ou.semVer} and ${Ul.semVer}`);const{liveQuery:Kv,mergeRanges:Uv,rangesOverlap:$v,RangeSet:Vv,cmp:qv,Entity:Hv,PropModification:Wv,replacePrefix:Qv,add:Yv,remove:Gv,DexieYProvider:Xv}=Ul;class kg extends Ul{constructor(){super("AlquimaMizuDB"),this.version(1).stores({products:"id, category, title, *imageHint, *variants.id",preferences:"key",ignoredProductIds:"id",allCategories:"id",movements:"id, variantId, timestamp, type",manualMovements:"id, timestamp, type",auditLog:"id, timestamp, type"})}}const V=new kg,ss=["minifiguras","dibujos","stickers","tatuajes-temporales","accesorios"],yn={PRODUCTS:"alkima-mizu-products",PREFERENCES:"alkima-mizu-preferences",IGNORED_PRODUCTS:"alkima-mizu-ignored-products",CATEGORIES:"alkima-mizu-categories",MOVEMENTS:"alkima-mizu-movements",MANUAL_MOVEMENTS:"alkima-mizu-manual-movements",OMITTED_HINTS:"alkima-mizu-omitted-hints",CATALOG_SELECTED_HINTS:"alkima-mizu-catalog-hints",DATA_VERSION:"alkima-mizu-data-version",AUDIT_LOG:"alkima-mizu-audit-log"},_g={name:"Unidad",sku:"",price:0,cost:0,stock:1,itemCount:1},Jv=()=>({title:"",category:"minifiguras",description:"",details:"",imageUrls:[""],imageHint:[],variants:[{..._g,id:`new-variant-${Date.now()}`}]}),Sg={placeholderImages:[{id:"minifigura-1",category:"minifiguras",title:"Ejemplo: Guerrero Espacial",description:"Figura de construccin tipo bloque.",details:"Incluye base y accesorios. Plstico ABS de alta calidad.",imageUrls:["https://via.placeholder.com/400x400.png?text=Producto"],imageHint:["Serie Original"],variants:[{id:"minifigura-1-default",name:"nico",sku:"ALG-MF-001",price:"15.000 und",stock:10}]}]},Cg=JSON.stringify(Sg,null,2),bg=async()=>{const e=localStorage.getItem(yn.PRODUCTS);if(!e)return console.log("No localStorage data found. Skipping migration."),!0;try{if(await V.products.count()>0)return console.log("IndexedDB already populated. Cleaning up old localStorage data."),Object.values(yn).forEach(w=>localStorage.removeItem(w)),!0;console.log("Starting migration from localStorage to IndexedDB...");const n=JSON.parse(e),r=JSON.parse(localStorage.getItem(yn.PREFERENCES)||"{}"),l=JSON.parse(localStorage.getItem(yn.IGNORED_PRODUCTS)||"[]"),a=JSON.parse(localStorage.getItem(yn.CATEGORIES)||"[]"),c=JSON.parse(localStorage.getItem(yn.MOVEMENTS)||"{}"),p=JSON.parse(localStorage.getItem(yn.MANUAL_MOVEMENTS)||"[]"),h=JSON.parse(localStorage.getItem(yn.AUDIT_LOG)||"[]");return await V.transaction("rw",V.products,V.preferences,V.ignoredProductIds,V.allCategories,V.movements,V.manualMovements,V.auditLog,async()=>{n.length>0&&await V.products.bulkPut(n),await V.preferences.put({...r,key:"user"}),l.length>0&&await V.ignoredProductIds.bulkPut(l.map(z=>({id:z}))),a.length>0&&await V.allCategories.bulkPut(a.map(z=>({id:z})));const w=Object.values(c).flat();w.length>0&&await V.movements.bulkPut(w),p.length>0&&await V.manualMovements.bulkPut(p),h.length>0&&await V.auditLog.bulkPut(h)}),console.log("Migration successful. Cleaning up localStorage..."),Object.values(yn).forEach(w=>localStorage.removeItem(w)),!0}catch(t){return console.error("Data migration failed:",t),alert("Error crtico! No se pudieron migrar tus datos a la nueva base de datos. Por favor, exporta un backup de tus datos si es posible y contacta a soporte."),!1}},Eg=()=>{const[e,t]=Z.useState(null),[n,r]=Z.useState({viewMode:"grid",searchTerm:"",selectedCategory:"Todas",showAvailableOnly:!1,showIgnoredOnly:!1}),[l,a]=Z.useState([]),[c,p]=Z.useState(ss),[h,w]=Z.useState({}),[z,M]=Z.useState([]),[A,B]=Z.useState([]),[$,K]=Z.useState(!0);Z.useEffect(()=>{const T=async()=>{console.log("Loading data from IndexedDB...");const[L,R,ne,ke,X,fe,Pe]=await Promise.all([V.products.toArray(),V.preferences.get("user"),V.ignoredProductIds.toArray(),V.allCategories.toArray(),V.movements.toArray(),V.manualMovements.toArray(),V.auditLog.orderBy("timestamp").reverse().toArray()]);t(L||[]),R&&r(R),a(ne.map(Ae=>Ae.id)),ke.length>0?p(ke.map(Ae=>Ae.id)):(await V.allCategories.bulkAdd(ss.map(Ae=>({id:Ae}))),p(ss));const ge=X.reduce((Ae,tt)=>(Ae[tt.variantId]||(Ae[tt.variantId]=[]),Ae[tt.variantId].push(tt),Ae),{});w(ge),M(fe),B(Pe),console.log("Data loaded successfully.")};(async()=>{K(!0),await bg()||console.error("Migration failed. The app might not function correctly."),await T(),K(!1)})()},[]);const ye=Z.useCallback(async(T,Q)=>{const L={id:`log-${Date.now()}`,timestamp:Date.now(),type:T,message:Q};await V.auditLog.add(L),B(R=>[L,...R])},[]),C=Z.useCallback(async(T,Q)=>{const L={...Q,id:`mov-${Date.now()}-${Math.random()}`,variantId:T};await V.movements.add(L),w(R=>({...R,[T]:[...R[T]||[],L]}))},[]),v=Z.useCallback(async T=>{const Q=e?e.some(L=>L.id===T.id):!1;if(Q){ye("product_edit",`Producto editado: "${T.title}" (ID: ${T.id})`);const L=e==null?void 0:e.find(R=>R.id===T.id);if(L)for(const R of T.variants){const ne=L.variants.find(fe=>fe.id===R.id),ke=R.stock||0,X=(ne==null?void 0:ne.stock)||0;if(!ne)await C(R.id,{timestamp:Date.now(),type:"Inicial",change:ke,newStock:ke,notes:"Variante nueva aadida"});else if(X!==ke){const fe=ke-X;fe!==0&&await C(R.id,{timestamp:Date.now(),type:"Ajuste",change:fe,newStock:ke,notes:"Ajuste desde formulario"})}}}else{ye("product_add",`Producto aadido: "${T.title}"`);for(const L of T.variants){const R=L.stock||0;await C(L.id,{timestamp:Date.now(),type:"Inicial",change:R,newStock:R,notes:"Stock inicial"})}}await V.products.put(T),t(L=>Q?(L==null?void 0:L.map(R=>R.id===T.id?T:R))||null:[...L||[],T])},[e,C,ye]),j=Z.useCallback(async(T,Q)=>{await V.movements.bulkDelete(Q);const L=(await V.movements.where("variantId").equals(T).toArray()).sort((fe,Pe)=>fe.timestamp-Pe.timestamp);let R=0;const ne=L.map(fe=>(R=fe.type==="Inicial"?fe.change:R+fe.change,R=Math.max(0,R),{...fe,newStock:R}));await V.movements.bulkPut(ne);const ke=ne.length>0?ne[ne.length-1].newStock:0,X=await V.products.where("variants.id").equals(T).first();if(X){const fe={...X,variants:X.variants.map(Pe=>Pe.id===T?{...Pe,stock:ke}:Pe)};await V.products.put(fe),t(Pe=>(Pe==null?void 0:Pe.map(ge=>ge.id===fe.id?fe:ge))||null)}w(fe=>({...fe,[T]:ne}))},[]);return{products:e,setProducts:t,preferences:n,setPreferences:r,ignoredProductIds:l,setIgnoredProductIds:a,allCategories:c,setAllCategories:p,movements:h,setMovements:w,manualMovements:z,setManualMovements:M,auditLog:A,setAuditLog:B,isMigrating:$,logAction:ye,addMovement:C,handleProductSave:v,handleMultipleMovementsDelete:j}},ph=Z.createContext(null),jg=({children:e})=>{const t=Eg(),{products:n,setProducts:r,preferences:l,setPreferences:a,ignoredProductIds:c,setIgnoredProductIds:p,allCategories:h,setAllCategories:w,movements:z,setMovements:M,manualMovements:A,setManualMovements:B,auditLog:$,logAction:K,addMovement:ye,handleProductSave:C,handleMultipleMovementsDelete:v}=t,[j,T]=Z.useState(null),[Q,L]=Z.useState(null),[R,ne]=Z.useState("catalog"),[ke,X]=Z.useState(!1),[fe,Pe]=Z.useState([]),[ge,Ae]=Z.useState(new Set),[tt,Ht]=Z.useState([]),nn=Z.useCallback((Y,ie)=>{a(se=>{const ee={...se,[Y]:ie};return V.preferences.put({...ee,key:"user"}),ee})},[a]),oe=Z.useCallback(async Y=>{await V.products.bulkPut(Y);const ie=new Set(Y.map(ve=>ve.id)),se=(n||[]).filter(ve=>ie.has(ve.id)).flatMap(ve=>ve.variants.map(We=>We.id));se.length>0&&await V.movements.where("variantId").anyOf(se).delete();const ee=Y.flatMap(ve=>ve.variants.map(We=>({id:`mov-${We.id}-${Date.now()}`,variantId:We.id,timestamp:Date.now(),type:"Inicial",change:We.stock,newStock:We.stock,notes:"Carga desde JSON"})));await V.movements.bulkAdd(ee),r(Y);const ae=[...new Set(Y.map(ve=>ve.category))],Se=[...new Set([...h,...ae])];await V.allCategories.bulkPut(Se.map(ve=>({id:ve}))),w(Se);const Ee=(await V.movements.toArray()).reduce((ve,We)=>(ve[We.variantId]||(ve[We.variantId]=[]),ve[We.variantId].push(We),ve),{});M(Ee),K("text_load",`Cargados ${Y.length} productos desde texto JSON.`),T(null)},[h,n,r,w,M,K,T]),he=Z.useCallback(Y=>{if(!Y.trim()){alert("El rea de texto JSON est vaca.");return}try{const ie=JSON.parse(Y);if(ie&&Array.isArray(ie.placeholderImages)){const se=ie.placeholderImages.filter(ee=>ee&&ee.id).map(ee=>{let ae={...ee};if(ae.imageHint&&typeof ae.imageHint=="string"?ae.imageHint=[ae.imageHint]:Array.isArray(ae.imageHint)||(ae.imageHint=[]),!ae.variants){const Se=ae.hasOwnProperty("stock")?ae.stock:ae.available?1:0;ae.variants=[{id:`${ae.id}-default`,name:"nico",stock:Se??0,price:ae.price??"",sku:ae.sku??""}]}return ae});oe(se)}else alert('El formato del JSON es invlido. Asegrate de que tenga una clave "placeholderImages" con un array de productos.')}catch{alert("Error al parsear el JSON. Por favor, revisa la sintaxis.")}},[oe]),me=Z.useCallback(async Y=>{await V.transaction("rw",[V.products,V.preferences,V.ignoredProductIds,V.allCategories,V.movements,V.manualMovements,V.auditLog],async()=>{await Promise.all([V.products.clear(),V.preferences.clear(),V.ignoredProductIds.clear(),V.allCategories.clear(),V.movements.clear(),V.manualMovements.clear(),V.auditLog.clear()]),await V.products.bulkPut(Y.products),await V.preferences.put({...Y.preferences,key:"user"}),await V.ignoredProductIds.bulkPut(Y.ignoredProductIds.map(se=>({id:se}))),await V.allCategories.bulkPut(Y.categories.map(se=>({id:se})));const ie=Object.values(Y.movements||{}).flat();await V.movements.bulkPut(ie),await V.manualMovements.bulkPut(Y.manualMovements||[]),await V.auditLog.bulkPut(Y.auditLog||[])}),await K("backup_restore","La aplicacin se restaur desde un archivo de backup."),alert("Restauracin completada con xito! La aplicacin se recargar."),window.location.reload()},[K]),ze=Z.useCallback(()=>{T({type:"confirm",title:"Reiniciar Aplicacin",message:"Ests seguro de que quieres borrar todos los datos? Esta accin es irreversible y eliminar todos los productos, movimientos y configuraciones.",onConfirm:async()=>{await V.delete(),window.location.reload()},confirmText:"S, borrar todo",confirmClass:"bg-brand-red hover:bg-red-600"})},[T]),$e=Z.useCallback(Y=>{nn("showIgnoredOnly",Y)},[nn]),_t=Z.useCallback(async Y=>{const ie=n==null?void 0:n.find(ee=>ee.id===Y);if(!ie)return;const se=ie.variants.map(ee=>ee.id);await V.transaction("rw",V.products,V.movements,V.auditLog,async()=>{await V.products.delete(Y),await V.movements.where("variantId").anyOf(se).delete()}),r(ee=>(ee==null?void 0:ee.filter(ae=>ae.id!==Y))||null),M(ee=>{const ae={...ee};return se.forEach(Se=>delete ae[Se]),ae}),await K("product_delete",`Producto eliminado: "${ie.title}" (ID: ${Y})`)},[n,r,M,K]),Pt=Z.useCallback(async(Y,ie,se)=>{const ee=n==null?void 0:n.find(ve=>ve.id===Y),ae=ee==null?void 0:ee.variants.find(ve=>ve.id===ie);if(!ee||!ae)return;const Se=Math.max(0,ae.stock+se.change),De={...se,newStock:Se};await ye(ie,De);const Ee={...ee,variants:ee.variants.map(ve=>ve.id===ie?{...ve,stock:Se}:ve)};await V.products.put(Ee),r(ve=>(ve==null?void 0:ve.map(We=>We.id===Y?Ee:We))||null)},[n,r,ye]),Wt=Z.useCallback(async Y=>{const ie={...Y,id:`manual-${Date.now()}`};await V.manualMovements.add(ie),B(se=>[...se,ie]),T(null)},[B,T]),lt=Z.useCallback(async Y=>{if(c.includes(Y))return;const ie=n==null?void 0:n.find(ee=>ee.id===Y);if(!ie)return;const se=[...c,Y];await V.ignoredProductIds.add({id:Y}),p(se),await K("product_ignore",`Producto ocultado: "${ie.title}" (ID: ${Y})`)},[c,n,p,K]),Qt=Z.useCallback(async Y=>{T({type:"confirm",title:"Restaurar Producto",message:`Ests seguro de que quieres restaurar el producto "${Y.title}"?`,onConfirm:async()=>{const ie=c.filter(se=>se!==Y.id);await V.ignoredProductIds.delete(Y.id),p(ie),await K("product_restore",`Producto restaurado: "${Y.title}" (ID: ${Y.id})`),T(null)},confirmText:"Restaurar",confirmClass:"bg-yellow-500 hover:bg-yellow-600 text-white"})},[c,p,K,T]),pi=Z.useCallback(async Y=>{const ie=Y.toLowerCase().replace(/\s+/g,"-");if(!h.includes(ie)){const se=[...h,ie];await V.allCategories.add({id:ie}),w(se),await K("category_add",`Categora aadida: "${ie}"`)}T(null)},[h,w,K,T]),pe=Z.useCallback(async()=>{T({type:"confirm",title:"Descargar Backup",message:"Se generar un archivo JSON con todos tus datos (productos, movimientos, configuraciones). Gurdalo en un lugar seguro. Continuar?",onConfirm:async()=>{const Y={products:await V.products.toArray(),preferences:await V.preferences.get("user"),ignoredProductIds:(await V.ignoredProductIds.toArray()).map(ae=>ae.id),categories:(await V.allCategories.toArray()).map(ae=>ae.id),movements:z,manualMovements:await V.manualMovements.toArray(),auditLog:await V.auditLog.toArray()},ie=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),se=URL.createObjectURL(ie),ee=document.createElement("a");ee.href=se,ee.download=`alquima-mizu-backup-${new Date().toISOString().slice(0,10)}.json`,ee.click(),URL.revokeObjectURL(se),ee.remove(),T(null)},confirmText:"Continuar",confirmClass:"bg-brand-blue hover:bg-blue-600"})},[z,T]),fo=Z.useCallback(async Y=>{if(!n)return;const ie=[],se=[];await V.transaction("rw",V.products,V.movements,async()=>{for(const ee of Y){const ae=n.find(Ee=>Ee.variants.some(ve=>ve.id===ee.variantId));if(!ae)continue;let Se={...ae},De=!1;Se.variants=Se.variants.map(Ee=>{if(Ee.id===ee.variantId){let ve={...Ee};if(ee.newPrice!==void 0&&(ve.price=ee.newPrice),ee.newCost!==void 0&&(ve.cost=ee.newCost),ee.newStock!==void 0&&ee.newStock!==Ee.stock){const We=ee.newStock-Ee.stock;se.push({id:`mov-${Date.now()}-${Math.random()}`,variantId:Ee.id,timestamp:Date.now(),type:"Ajuste",change:We,newStock:ee.newStock,notes:"Actualizacin masiva desde CSV"}),ve.stock=ee.newStock}return De=!0,ve}return Ee}),De&&ie.push(Se)}ie.length>0&&await V.products.bulkPut(ie),se.length>0&&await V.movements.bulkAdd(se)}),r(ee=>{if(!ee)return null;const ae=new Map(ie.map(Se=>[Se.id,Se]));return ee.map(Se=>ae.get(Se.id)||Se)}),M(ee=>{const ae=se.reduce((De,Ee)=>(De[Ee.variantId]||(De[Ee.variantId]=[]),De[Ee.variantId].push(Ee),De),{}),Se={...ee};for(const De in ae)Se[De]=[...Se[De]||[],...ae[De]];return Se}),await K("csv_update",`Se actualizaron ${Y.length} variantes desde un archivo CSV.`),T(null)},[n,r,M,K,T]),or=Z.useCallback(async()=>{if(!n)return;const Y=new Map;n.forEach(ae=>ae.variants.forEach(Se=>Y.set(Se.id,(Y.get(Se.id)||0)+1)));const ie=Array.from(Y.entries()).filter(([,ae])=>ae>1).map(([ae])=>ae);if(ie.length===0){alert("No se encontraron IDs de variantes duplicados.");return}let se=0;const ee=n.map(ae=>{let Se=!1;const De=ae.variants.map(Ee=>{if(ie.includes(Ee.id)){const ve=`${Ee.id}-repaired-${Date.now()}-${Math.random().toString(36).substring(2,7)}`;Se=!0,se++;const on=(z[Ee.id]||[]).map(Nn=>({...Nn,variantId:ve}));return V.movements.where("variantId").equals(Ee.id).delete(),V.movements.bulkAdd(on),M(Nn=>{const ir={...Nn};return delete ir[Ee.id],ir[ve]=on,ir}),{...Ee,id:ve}}return Ee});return Se?{...ae,variants:De}:ae});await V.products.bulkPut(ee),r(ee),await K("data_repair",`Se repararon ${se} IDs de variantes duplicados.`),alert(`Reparacin completada. Se corrigieron ${se} IDs de variantes duplicados.`)},[n,z,r,M,K]),Te=Z.useCallback(async(Y,ie)=>{T({type:"confirm",title:"Fusionar Productos",message:"Ests seguro? El producto secundario ser ELIMINADO. Sus variantes, stock e historial se movern al producto principal. Esta accin es irreversible.",onConfirm:async()=>{const se=n==null?void 0:n.find(De=>De.id===Y),ee=n==null?void 0:n.find(De=>De.id===ie);if(!se||!ee)return;const ae=[...se.variants,...ee.variants],Se={...se,variants:ae};await V.transaction("rw",V.products,V.auditLog,async()=>{await V.products.put(Se),await V.products.delete(ie)}),r(De=>(De==null?void 0:De.filter(Ee=>Ee.id!==ie).map(Ee=>Ee.id===Y?Se:Ee))||null),await K("product_merge",`Se fusion "${ee.title}" en "${se.title}".`),X(!1),Pe([]),T(null)},confirmText:"S, Fusionar",confirmClass:"bg-brand-green hover:bg-green-600"})},[n,r,K,T,X,Pe]),Pn=Z.useCallback(Y=>L({images:Y,index:0}),[]),hi=Z.useCallback(Y=>{L(ie=>{if(!ie)return null;const{images:se,index:ee}=ie,ae=Y==="next"?(ee+1)%se.length:(ee-1+se.length)%se.length;return{...ie,index:ae}})},[]),rn=Z.useCallback(Y=>{Pe(ie=>ie.includes(Y)?ie.filter(se=>se!==Y):ie.length<2?[...ie,Y]:ie)},[]),mi=Z.useCallback(()=>{if(fe.length===2&&n){const Y=n.filter(ie=>fe.includes(ie.id));Y.length===2&&T({type:"fusion",products:Y})}},[fe,n,T]),yi=Z.useCallback(async Y=>{if(!n||ge.size===0)return;const ie=n.filter(se=>ge.has(se.id)).map(se=>{let ee={...se};if(Y.category&&(ee.category=Y.category),Y.hintsToAdd){const ae=new Set([...ee.imageHint||[],...Y.hintsToAdd]);ee.imageHint=Array.from(ae)}return ee});await V.products.bulkPut(ie),r(se=>{const ee=new Map(ie.map(ae=>[ae.id,ae]));return(se==null?void 0:se.map(ae=>ee.get(ae.id)||ae))||null}),await K("bulk_edit",`Se editaron ${ge.size} productos en lote.`),T(null),Ae(new Set)},[n,ge,r,K,T,Ae]),gi=Z.useCallback(()=>{T({type:"confirm",title:"Ocultar Productos",message:`Ests seguro de que quieres ocultar ${ge.size} productos seleccionados?`,onConfirm:async()=>{const Y=[...c,...Array.from(ge)];await V.ignoredProductIds.bulkPut(Array.from(ge).map(ie=>({id:ie}))),p(Y),await K("bulk_ignore",`Se ocultaron ${ge.size} productos en lote.`),T(null),Ae(new Set)},confirmText:"S, Ocultar",confirmClass:"bg-yellow-500 hover:bg-yellow-600 text-white"})},[ge,c,p,K,T,Ae]),vi=Z.useCallback(()=>{T({type:"confirm",title:"Eliminar Productos",message:`Ests seguro de que quieres eliminar ${ge.size} productos? Esta accin es irreversible.`,onConfirm:async()=>{const Y=Array.from(ge);if(!n)return;const ie=n.filter(se=>Y.includes(se.id)).flatMap(se=>se.variants.map(ee=>ee.id));await V.transaction("rw",V.products,V.movements,async()=>{await V.products.bulkDelete(Y),await V.movements.where("variantId").anyOf(ie).delete()}),r(se=>(se==null?void 0:se.filter(ee=>!Y.includes(ee.id)))||null),M(se=>{const ee={...se};return ie.forEach(ae=>delete ee[ae]),ee}),await K("bulk_delete",`Se eliminaron ${ge.size} productos en lote.`),T(null),Ae(new Set)},confirmText:"S, Eliminar",confirmClass:"bg-brand-red hover:bg-red-600"})},[ge,n,r,M,K,T,Ae]),jr=Z.useCallback(async(Y,ie)=>{T({type:"confirm",title:"Eliminar Movimientos",message:`Ests seguro de que quieres eliminar ${ie.length} registro(s)? Esta accin recalcular el stock y es irreversible.`,onConfirm:async()=>{await v(Y,ie),T(null)},confirmText:`Eliminar ${ie.length} registro(s)`})},[v,T]),Lt=Z.useMemo(()=>({...t,modal:j,setModal:T,fullscreenData:Q,setFullscreenData:L,currentView:R,setCurrentView:ne,fusionMode:ke,setFusionMode:X,selectedForFusion:fe,setSelectedForFusion:Pe,selectedProductIds:ge,setSelectedProductIds:Ae,selectedTags:tt,setSelectedTags:Ht,handleTextLoad:he,handleRestoreBackup:me,handleReset:ze,updatePreference:nn,handleIgnoredChange:$e,handleProductDelete:_t,handleSaveMovement:Pt,handleManualMovementSave:Wt,handleIgnoreProduct:lt,handleRestoreProduct:Qt,handleCategorySave:pi,handleBackupDownload:pe,handleCsvImport:fo,handleRepairDuplicateVariantIds:or,handleProductMerge:Te,handleImageClick:Pn,toggleFusionSelection:rn,startFusion:mi,handleBulkEditSave:yi,handleBulkIgnore:gi,handleBulkDelete:vi,changeFullscreenImage:hi,handleMultipleMovementsDelete:jr}),[t,j,Q,R,ke,fe,ge,tt,he,me,ze,nn,$e,_t,Pt,Wt,lt,Qt,pi,pe,fo,or,Te,Pn,rn,mi,yi,gi,vi,hi,jr]);return m.jsx(ph.Provider,{value:Lt,children:e})},jn=()=>{const e=Z.useContext(ph);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hh=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:a,iconNode:c,...p},h)=>Z.createElement("svg",{ref:h,...Ng,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:hh("lucide",l),...p},[...c.map(([w,z])=>Z.createElement(w,z)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=Z.forwardRef(({className:r,...l},a)=>Z.createElement(Mg,{ref:a,iconNode:t,className:hh(`lucide-${Pg(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=xe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=xe("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=xe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=xe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=xe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=xe("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=xe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=xe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=xe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=xe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=xe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=xe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=xe("Sheet",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=xe("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=xe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=xe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=xe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),uv=({onTextLoad:e})=>{const{setModal:t}=jn(),[n,r]=Z.useState(Cg);return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 p-4",children:m.jsxs("div",{className:"w-full max-w-2xl bg-gray-800/50 backdrop-blur-sm border border-purple-500/30 rounded-2xl shadow-2xl p-6 md:p-8 text-white",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx(lu,{className:"mx-auto h-12 w-12 text-purple-400"}),m.jsx("h1",{className:"text-3xl font-bold mt-2",children:"Alquima Mizu"}),m.jsx("p",{className:"text-purple-300",children:"Gestor de Catlogo"})]}),m.jsx("p",{className:"mb-4 text-center text-gray-300",children:"Para comenzar, edita el JSON de productos de ejemplo o restaura una copia de seguridad."}),m.jsx("textarea",{value:n,onChange:l=>r(l.target.value),className:"w-full h-80 bg-gray-900/50 border border-gray-600 rounded-lg p-3 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"}),m.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[m.jsxs("button",{onClick:()=>e(n),className:"w-full bg-brand-purple hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[m.jsx(lu,{size:20}),"Cargar Productos desde Texto"]}),m.jsxs("button",{onClick:()=>t({type:"restore-backup"}),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[m.jsx(vh,{size:20}),"Restaurar Backup (archivo)"]})]}),m.jsxs("div",{className:"mt-4 text-center text-xs text-gray-400 space-y-1",children:[m.jsxs("p",{children:[m.jsx("span",{className:"font-semibold text-purple-300",children:"Cargar Productos:"})," El JSON de productos debe seguir la estructura: ",m.jsx("code",{children:'{"placeholderImages": [...]}'}),"."]}),m.jsxs("p",{children:[m.jsx("span",{className:"font-semibold text-gray-300",children:"Restaurar Backup:"})," Carga un archivo de backup completo generado por esta aplicacin."]})]})]})})},cv=()=>{const{updatePreference:e,setModal:t,handleReset:n,setCurrentView:r,fusionMode:l,selectedProductIds:a}=jn(),c=l||a.size>0;return m.jsx("header",{className:"sticky top-0 z-20 bg-gray-900/70 backdrop-blur-lg border-b border-purple-500/20 p-4 shadow-md",children:m.jsxs("div",{className:"container mx-auto flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("a",{href:"https://rick4lex.github.io/ALQUIMA/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[m.jsx(lu,{className:"h-8 w-8 text-purple-400"}),m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white whitespace-nowrap",children:"Alquima Mizu"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>e("viewMode","grid"),className:"p-2 rounded-md transition-colors text-gray-400 hover:bg-gray-700 hover:text-white","aria-label":"Vista de cuadrcula",children:m.jsx(Qg,{size:20})}),m.jsx("button",{onClick:()=>e("viewMode","list"),className:"p-2 rounded-md transition-colors text-gray-400 hover:bg-gray-700 hover:text-white","aria-label":"Vista de lista",children:m.jsx(Yg,{size:20})})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[m.jsxs("button",{onClick:()=>t({type:"tools"}),className:"flex items-center gap-2 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(av,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Herramientas"})]}),!c&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>r("financials"),className:"flex items-center gap-2 bg-brand-green hover:bg-green-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(Ig,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Finanzas"})]}),m.jsxs("button",{onClick:()=>t({type:"add-category"}),className:"flex items-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(yh,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Nueva Cat."})]}),m.jsxs("button",{onClick:()=>t({type:"add"}),className:"flex items-center gap-2 bg-brand-purple hover:bg-purple-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(iu,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Aadir"})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-brand-red hover:bg-red-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(lv,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Reiniciar"})]})]})]})]})})},fv=er.memo(cv),dv=({checked:e,onChange:t,label:n})=>m.jsxs("label",{className:"flex items-center cursor-pointer",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",className:"sr-only",checked:e,onChange:r=>t(r.target.checked)}),m.jsx("div",{className:`block w-12 h-6 rounded-full transition-colors ${e?"bg-brand-green":"bg-gray-600"}`}),m.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${e?"transform translate-x-6":""}`})]}),m.jsx("div",{className:"ml-3 text-sm font-medium text-gray-300",children:n})]}),Gf=er.memo(dv),pv=({productCount:e,allTags:t})=>{const{preferences:n,updatePreference:r,handleIgnoredChange:l,allCategories:a,fusionMode:c,selectedForFusion:p,setFusionMode:h,setSelectedForFusion:w,startFusion:z,selectedProductIds:M,selectedTags:A,setSelectedTags:B}=jn(),[$,K]=Z.useState(!1),ye=["Todas",...a],C=v=>{const j=new Set(A);j.has(v)?j.delete(v):j.add(v),B(Array.from(j))};return c?m.jsxs("div",{className:"sticky top-[89px] z-10 bg-yellow-900/60 backdrop-blur-lg p-4 rounded-xl mb-6 shadow-lg border border-yellow-500/40 text-center",children:[m.jsx("h3",{className:"text-lg font-bold text-yellow-300",children:"Modo Fusin Activo"}),m.jsx("p",{className:"text-yellow-400 mb-4",children:"Selecciona dos productos del catlogo para combinarlos."}),m.jsxs("div",{className:"flex justify-center items-center gap-4",children:[m.jsxs("button",{onClick:()=>{h(!1),w([])},className:"flex items-center gap-2 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg",children:[m.jsx(wh,{size:18})," Cancelar"]}),m.jsxs("button",{onClick:z,disabled:p.length!==2,className:"flex items-center gap-2 bg-brand-green hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(zg,{size:18})," Fusionar ",p.length>0?`${p.length}`:"","/2 Productos"]})]})]}):M.size>0?m.jsxs("div",{className:"sticky top-[89px] z-10 bg-blue-900/60 backdrop-blur-lg p-4 rounded-xl mb-6 shadow-lg border border-blue-500/40 text-center",children:[m.jsx("h3",{className:"text-lg font-bold text-blue-300",children:"Modo de Seleccin Mltiple"}),m.jsx("p",{className:"text-blue-400",children:"Selecciona los productos en los que deseas realizar acciones masivas."})]}):m.jsxs("div",{className:"sticky top-[89px] z-10 bg-gray-800/60 backdrop-blur-lg p-4 rounded-xl mb-6 shadow-lg border border-purple-500/20",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-center",children:[m.jsxs("div",{className:"relative lg:col-span-1",children:[m.jsx(tv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar por ttulo...",value:n.searchTerm,onChange:v=>r("searchTerm",v.target.value),className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg py-2 pl-10 pr-4 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"})]}),m.jsxs("div",{className:"relative lg:col-span-1",children:[m.jsxs("button",{onClick:()=>K(v=>!v),className:"w-full flex justify-between items-center bg-gray-700/50 border border-gray-600 rounded-lg py-2 px-3 text-left",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(yh,{size:18,className:"text-gray-400"}),m.jsx("span",{children:A.length>0?`${A.length} serie(s)`:"Filtrar por Series / Hints"})]}),m.jsx(Dg,{size:20,className:`transition-transform ${$?"rotate-180":""}`})]}),$&&m.jsx("div",{className:"absolute top-full mt-2 w-full bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-20 p-2",children:m.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:t.map(v=>m.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-700 cursor-pointer text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.includes(v),onChange:()=>C(v),className:"form-checkbox h-4 w-4 rounded bg-gray-900 border-gray-600 text-purple-500 focus:ring-purple-600"}),v]},v))})})]}),m.jsxs("div",{className:"flex items-center justify-center lg:justify-end gap-4 flex-wrap lg:col-span-1",children:[m.jsx(Gf,{checked:n.showAvailableOnly,onChange:v=>r("showAvailableOnly",v),label:"Disponibles"}),m.jsx(Gf,{checked:!!n.showIgnoredOnly,onChange:l,label:"Ocultos"}),m.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:e})]})]}),m.jsx("div",{className:"mt-4 overflow-x-auto pb-2",children:m.jsx("div",{className:"flex space-x-2",children:ye.map(v=>m.jsx("button",{onClick:()=>r("selectedCategory",v),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${n.selectedCategory===v?"bg-brand-purple text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))})})]})},hv=er.memo(pv),cn=e=>`$${e.toLocaleString("es-CO")}`,Xf=e=>{const t=e.variants.map(n=>n.price).filter(n=>typeof n=="number"&&n>0);return t.length===0?-1:Math.min(...t)},mv=(e,t)=>{const n=Xf(e),r=Xf(t);return n===-1&&r!==-1?-1:n!==-1&&r===-1?1:n===r?e.title.localeCompare(t.title):n-r},yv=(e,t={})=>{const{markdown:n=!1}=t;if(typeof e.price!="number"||e.price<=0)return"";let r=cn(e.price);if(e.itemCount&&e.itemCount>1){const l=Math.round(e.price/e.itemCount);r+=` (${cn(l)} c/u)`}return n?`*${r}*`:r},gv=(e,t={})=>{const{markdown:n=!1,onlyAvailable:r=!1}=t;let l=e.variants.filter(h=>typeof h.price=="number"&&h.price>0);if(r&&(l=l.filter(h=>h.stock>0)),l.length===0)return r?"Consultar":"N/A";if(l.length===1)return yv(l[0],{markdown:n});const a=l.map(h=>h.price),c=Math.min(...a),p=`Desde ${cn(c)}`;return n?`*${p}*`:p},Zv=e=>{if(e.id==="banner"){const{variants:p,...h}=e;return h}const{variants:t,...n}=e,r=t.reduce((p,h)=>p+h.stock,0),l=t.filter(p=>typeof p.price=="number"&&p.price>0),a=l.length>0?l.reduce((p,h)=>h.price>p.price?h:p,l[0]):null,c={...n,available:r>0};return a?c.price=`${a.price.toLocaleString("es-CO")} und`:c.price="",c},vv=e=>{if(e==null)return"";let t=String(e);return(t.includes(",")||t.includes('"')||t.includes(`
`))&&(t=`"${t.replace(/"/g,'""')}"`),t},e0=e=>{const t=["product_id","product_title","category","description","details","image_urls","image_hints","variant_id","variant_name","variant_sku","variant_price","variant_cost","variant_stock","variant_item_count"],n=e.flatMap(r=>r.variants.map(l=>[r.id,r.title,r.category,r.description,r.details,r.imageUrls.join("; "),(r.imageHint||[]).join("; "),l.id,l.name,l.sku,l.price,l.cost,l.stock,l.itemCount].map(vv)));return[t.join(","),...n.map(r=>r.join(","))].join(`
`)},wv=({product:e,viewMode:t,onImageClick:n,isIgnoredView:r=!1,isFusionMode:l=!1,isSelectedForFusion:a=!1,onSelectForFusion:c,isSelected:p=!1,onToggleSelection:h,isSelectionMode:w=!1})=>{const{setModal:z,handleRestoreProduct:M}=jn(),[A,B]=Z.useState(!1),$=Z.useMemo(()=>e.variants.reduce((R,ne)=>R+ne.stock,0),[e.variants]),K=Z.useMemo(()=>gv(e),[e]),ye=!A&&e.imageUrls&&e.imageUrls[0],C=$>10?"bg-brand-green":$>3?"bg-yellow-500":"bg-brand-red",v=`
    bg-gray-800/50 backdrop-blur-sm border rounded-xl shadow-lg overflow-hidden transition-all duration-300 relative
    ${l||w?"cursor-pointer":""}
    ${p?"border-blue-500/80 ring-2 ring-blue-500/50 shadow-blue-500/30":a?"border-green-500/80 ring-2 ring-green-500/50 shadow-green-500/30":r?"border-yellow-500/40 hover:shadow-yellow-500/20 hover:border-yellow-500/60":"border-purple-500/20 hover:shadow-purple-500/20 hover:border-purple-500/40"}
    ${t==="grid"?"flex flex-col":"flex flex-row items-center"}
  `,j=t==="grid"?"w-full h-56":"w-28 h-28 flex-shrink-0",T=`flex flex-col flex-grow ${t==="grid"?"p-4":"p-3"}`,Q=()=>{l&&c?c(e.id):w&&h&&h(e.id)},L=p?rv:iv;return m.jsxs("div",{className:v,onClick:Q,children:[a&&m.jsx("div",{className:"absolute top-2 right-2 z-10 bg-green-600 text-white rounded-full p-1",children:m.jsx(Lg,{size:20})}),w&&m.jsx("div",{className:"absolute top-2 left-2 z-10 text-white p-1",onClick:R=>{R.stopPropagation(),h==null||h(e.id)},children:m.jsx(L,{size:24,className:p?"text-blue-400":"text-gray-400"})}),m.jsxs("div",{className:`${j} relative bg-gray-700 ${ye&&!l&&!w?"cursor-pointer group":""}`,onClick:R=>{ye&&!l&&!w&&(R.stopPropagation(),n(e.imageUrls))},children:[ye?m.jsx("img",{src:e.imageUrls[0],alt:e.title,className:"w-full h-full object-cover",onError:()=>B(!0)}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:m.jsx(Hg,{size:48})}),ye&&!l&&!w&&m.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:m.jsx(sv,{className:"text-white",size:48})})]}),m.jsxs("div",{className:T,children:[m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"text-xs text-purple-400 font-semibold uppercase",children:e.category}),K!=="N/A"&&m.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${C}`,title:`Stock Total: ${$}`})]}),m.jsx("h3",{className:"text-lg font-bold text-white mt-1",children:e.title}),m.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:(e.imageHint||[]).slice(0,3).map(R=>m.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded-full",children:R},R))}),K!=="N/A"&&m.jsx("p",{className:"text-xl font-light text-green-400 mt-2",children:K}),t==="grid"&&m.jsx("p",{className:"text-sm text-gray-300 mt-2 line-clamp-2",children:e.details||e.description})]}),!l&&!w&&m.jsxs("div",{className:`${t==="grid"?"mt-4 pt-4 border-t":"mt-2 pt-2 border-t"} border-gray-700 flex flex-wrap items-center justify-end ${t==="grid"?"gap-x-4 gap-y-2":"gap-2"}`,children:[m.jsxs("div",{className:`flex items-center gap-2 ${t==="grid"?"mr-auto":""}`,children:[m.jsx("span",{className:"text-sm font-medium text-gray-300 whitespace-nowrap",children:"Stock Total:"}),m.jsx("span",{className:"font-bold text-lg w-8 text-center",children:$})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:R=>{R.stopPropagation(),z({type:"movements",product:e})},className:"p-2 rounded-full text-green-400 hover:bg-green-500/20",title:"Historial",children:m.jsx(qg,{size:18})}),r?m.jsx("button",{onClick:R=>{R.stopPropagation(),M(e)},className:"p-2 rounded-full text-yellow-400 hover:bg-yellow-500/20",title:"Restaurar",children:m.jsx(Kg,{size:18})}):m.jsx("button",{onClick:R=>{R.stopPropagation(),z({type:"ignore",product:e})},className:"p-2 rounded-full text-gray-400 hover:bg-gray-500/20",title:"Ocultar",children:m.jsx(mh,{size:18})}),m.jsx("button",{onClick:R=>{R.stopPropagation(),z({type:"edit",product:e})},className:"p-2 rounded-full text-blue-400 hover:bg-blue-500/20",title:"Editar",children:m.jsx(Jg,{size:18})}),m.jsx("button",{onClick:R=>{R.stopPropagation(),z({type:"delete",product:e})},className:"p-2 rounded-full text-red-400 hover:bg-red-500/20",title:"Eliminar",children:m.jsx(gh,{size:18})})]})]})]})]})},xv=er.memo(wv),kv=({products:e,onImageClick:t})=>{const{preferences:n,fusionMode:r,selectedForFusion:l,toggleFusionSelection:a,selectedProductIds:c,setSelectedProductIds:p}=jn();if(e.length===0){const z=r?"No hay productos para fusionar.":"No se encontraron productos que coincidan con los filtros.";return m.jsx("div",{className:"text-center py-10 text-gray-400",children:z})}const h=n.viewMode==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"flex flex-col gap-6",w=z=>{p(M=>{const A=new Set(M);return A.has(z)?A.delete(z):A.add(z),A})};return m.jsx("div",{className:h,children:e.map(z=>m.jsx(xv,{product:z,viewMode:n.viewMode,onImageClick:t,isIgnoredView:!!n.showIgnoredOnly,isFusionMode:r,isSelectedForFusion:l.includes(z.id),onSelectForFusion:a,isSelected:c.has(z.id),onToggleSelection:w,isSelectionMode:c.size>0},z.id))})},_v=er.memo(kv),Sv=()=>{const{setModal:e,handleBackupDownload:t}=jn();return m.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/80 backdrop-blur-lg border-t border-purple-500/30 p-4 z-20",children:m.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-2 sm:gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>e({type:"export",format:"json"}),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 bg-brand-indigo hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(Ug,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"JSON"})]}),m.jsxs("button",{onClick:()=>e({type:"export",format:"markdown"}),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 bg-brand-green hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(Vg,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Markdown"})]}),m.jsxs("button",{onClick:()=>e({type:"export",format:"catalog"}),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(ev,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Catlogo"})]}),m.jsxs("button",{onClick:t,className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(Bg,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Backup"})]})]})})},Cv=er.memo(Sv),bv=(e,t,n,r,l,a)=>{const c=Z.useMemo(()=>{const p=new Map;return n.forEach(h=>h.variants.forEach(w=>p.set(w.id,{product:h,variant:w}))),p},[n]);return Z.useMemo(()=>{var ke;const p=new Date,h=p.getFullYear(),w=p.getMonth();let z=new Date,M=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999);switch(r){case"thisMonth":z=new Date(h,w,1,0,0,0,0);break;case"lastMonth":z=new Date(h,w-1,1,0,0,0,0),M=new Date(h,w,0,23,59,59,999);break;case"last30Days":z=new Date(p.getTime()-30*24*60*60*1e3);break;case"thisQuarter":const X=Math.floor(w/3);z=new Date(h,X*3,1,0,0,0,0);break;case"lastQuarter":const fe=Math.floor(w/3),Pe=fe===0?h-1:h,ge=fe===0?9:(fe-1)*3;z=new Date(Pe,ge,1,0,0,0,0),M=new Date(Pe,ge+3,0,23,59,59,999);break;case"thisYear":z=new Date(h,0,1,0,0,0,0);break;case"custom":z=l?new Date(l):new Date(0),M=a?new Date(a):new Date,a&&M.setHours(23,59,59,999);break}const B=[...Object.values(e).flat(),...t].filter(X=>new Date(X.timestamp)>=z&&new Date(X.timestamp)<=M).sort((X,fe)=>fe.timestamp-X.timestamp);let $=0,K=0,ye=0,C=0;const v={},j={};B.forEach(X=>{if("variantId"in X&&X.type==="Venta"){const fe=(X.price||0)*Math.abs(X.change),Pe=(X.cost||0)*Math.abs(X.change);$+=fe,K+=Pe,C+=Math.abs(X.change);const ge=c.get(X.variantId);if(ge){const{category:Ae,id:tt,title:Ht}=ge.product;v[Ae]=(v[Ae]||0)+fe,j[tt]=j[tt]||{profit:0,items:0,title:Ht},j[tt].profit+=fe-Pe,j[tt].items+=Math.abs(X.change)}}else"variantId"in X||(X.amount>0?$+=X.amount:ye+=Math.abs(X.amount))});const T=$-K,Q=T-ye,L=Object.values(j).sort((X,fe)=>fe.profit-X.profit).slice(0,5),R=Object.entries(v).sort((X,fe)=>fe[1]-X[1]),ne=B.map(X=>{if("variantId"in X){const fe=c.get(X.variantId);return{...X,productTitle:(fe==null?void 0:fe.product.title)||"Producto Desconocido",variantName:(fe==null?void 0:fe.variant.name)||"Variante Desconocida"}}return X});return{totalRevenue:$,totalCost:K,grossProfit:T,netProfit:Q,itemsSold:C,topProducts:L,sortedCategorySales:R,maxCategorySale:((ke=R[0])==null?void 0:ke[1])||0,detailedMovements:ne}},[r,l,a,e,t,c])},Oo=er.memo(({title:e,value:t,icon:n,tooltip:r})=>m.jsxs("div",{className:"bg-gray-800/60 p-4 rounded-xl shadow-lg border border-purple-500/20 relative group flex-1 min-w-[180px] snap-start",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:n}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400",children:e}),m.jsx("p",{className:"text-2xl font-bold",children:t})]})]}),m.jsx("div",{className:"absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition-opacity",children:m.jsx(Wg,{size:16,className:"text-gray-400","data-tooltip-id":"kpi-tooltip","data-tooltip-content":r})})]})),Ev=()=>{const{products:e,movements:t,manualMovements:n,setCurrentView:r,setModal:l}=jn(),[a,c]=Z.useState("thisMonth"),[p,h]=Z.useState(""),[w,z]=Z.useState(""),M=bv(t,n,e||[],a,p,w),A={Venta:{icon:m.jsx(us,{size:16}),color:"bg-red-500/80"},Stock:{icon:m.jsx(iu,{size:16}),color:"bg-green-500/80"},Ajuste:{icon:m.jsx(Wf,{size:16}),color:"bg-yellow-500/80"},Inicial:{icon:m.jsx(Wf,{size:16}),color:"bg-blue-500/80"},Gasto:{icon:m.jsx(us,{size:16}),color:"bg-red-700/80"},Inversin:{icon:m.jsx(us,{size:16}),color:"bg-yellow-700/80"},"Otro Ingreso":{icon:m.jsx(iu,{size:16}),color:"bg-green-700/80"}};return m.jsxs("div",{children:[m.jsx("header",{className:"sticky top-0 z-20 bg-gray-900/70 backdrop-blur-lg border-b border-purple-500/20 p-4 shadow-md",children:m.jsx("div",{className:"container mx-auto flex items-center justify-between gap-4",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>r("catalog"),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(Og,{size:18}),m.jsx("span",{children:"Volver"})]}),m.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Panel Financiero"})]})})}),m.jsxs("div",{className:"container mx-auto px-4 py-6 text-white",children:[m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 shadow-lg border border-purple-500/20 flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("select",{value:a,onChange:B=>c(B.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-2 px-3 focus:ring-purple-500",children:[m.jsx("option",{value:"thisMonth",children:"Este Mes"}),m.jsx("option",{value:"lastMonth",children:"Mes Pasado"}),m.jsx("option",{value:"last30Days",children:"ltimos 30 das"}),m.jsx("option",{value:"thisQuarter",children:"Este Trimestre"}),m.jsx("option",{value:"lastQuarter",children:"Trimestre Pasado"}),m.jsx("option",{value:"thisYear",children:"Este Ao"}),m.jsx("option",{value:"custom",children:"Personalizado"})]}),a==="custom"&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",value:p,onChange:B=>h(B.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-1.5 px-3"}),m.jsx("span",{children:"-"}),m.jsx("input",{type:"date",value:w,onChange:B=>z(B.target.value),className:"bg-gray-700 border border-gray-600 rounded-md py-1.5 px-3"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[m.jsxs("button",{onClick:()=>l({type:"export",format:"csv"}),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(nv,{size:18}),m.jsx("span",{children:"Exportar CSV"})]}),m.jsxs("button",{onClick:()=>l({type:"import-csv"}),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(vh,{size:18}),m.jsx("span",{children:"Importar CSV"})]}),m.jsxs("button",{onClick:()=>l({type:"manual-movement"}),className:"flex items-center gap-2 bg-brand-green hover:bg-green-600 font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx($g,{size:18}),m.jsx("span",{children:"Registrar Gasto/Ingreso"})]})]})]}),m.jsx("div",{className:"lg:grid lg:grid-cols-5 lg:gap-4 mb-6",children:m.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 lg:pb-0 lg:contents kpi-carousel",style:{scrollSnapType:"x mandatory"},children:[m.jsx(Oo,{title:"Ingresos Totales",value:cn(M.totalRevenue),icon:m.jsx(Qf,{className:"text-green-400"}),tooltip:"Suma de todas las ventas de productos y otros ingresos manuales registrados en el perodo."}),m.jsx(Oo,{title:"Costos Variables",value:cn(M.totalCost),icon:m.jsx(Qf,{className:"text-red-400"}),tooltip:"Suma del costo de toda la mercanca vendida (COGS) en el perodo. No incluye otros gastos."}),m.jsx(Oo,{title:"Beneficio Bruto",value:cn(M.grossProfit),icon:m.jsx(Yf,{className:"text-blue-400"}),tooltip:"Ingresos Totales menos Costos Variables. Muestra la rentabilidad de los productos vendidos."}),m.jsx(Oo,{title:"Beneficio Neto",value:cn(M.netProfit),icon:m.jsx(Tg,{className:"text-purple-400"}),tooltip:"Beneficio Bruto menos todos los Gastos e Inversiones registrados. Es la ganancia final del perodo."}),m.jsx(Oo,{title:"Items Vendidos",value:String(M.itemsSold),icon:m.jsx(Xg,{className:"text-yellow-400"}),tooltip:"Cantidad total de unidades de producto vendidas en el perodo, basado en los registros de 'Venta'."})]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl shadow-lg border border-purple-500/20",children:[m.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[m.jsx(Zg,{size:20})," Ventas por Categora"]}),m.jsx("div",{className:"space-y-3",children:M.sortedCategorySales.length>0?M.sortedCategorySales.map(([B,$])=>m.jsxs("div",{className:"text-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"capitalize",children:B}),m.jsx("span",{className:"font-semibold",children:cn($)})]}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:m.jsx("div",{className:"bg-purple-500 h-2.5 rounded-full",style:{width:`${$/M.maxCategorySale*100}%`}})})]},B)):m.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No hay ventas de productos en este perodo."})})]}),m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl shadow-lg border border-purple-500/20",children:[m.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[m.jsx(Yf,{size:20})," Top 5 Productos ms Rentables"]}),m.jsx("div",{className:"space-y-2",children:M.topProducts.length>0?M.topProducts.map(B=>m.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-gray-900/40 rounded",children:[m.jsx("span",{className:"truncate pr-4",children:B.title}),m.jsx("span",{className:"font-bold text-green-400 whitespace-nowrap",children:cn(B.profit)})]},B.title)):m.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No hay datos de rentabilidad en este perodo."})})]})]}),m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl shadow-lg border border-purple-500/20",children:[m.jsx("h3",{className:"font-semibold mb-4",children:"Registro de Movimientos Detallado"}),m.jsx("div",{className:"max-h-[500px] overflow-y-auto pr-2",children:M.detailedMovements.length>0?m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-gray-900/50 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Fecha"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Producto"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Variante"}),m.jsx("th",{scope:"col",className:"px-4 py-3",children:"Tipo"}),m.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Cambio Stock"}),m.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Monto"})]})}),m.jsx("tbody",{children:M.detailedMovements.map(B=>{var C;const $=!("variantId"in B),K=$?B.amount:B.type==="Venta"?(B.price||0)*Math.abs(B.change):0,ye=$?"-":B.change>0?`+${B.change}`:B.change;return m.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-900/30",children:[m.jsx("td",{className:"px-4 py-2 text-gray-400 whitespace-nowrap",children:new Date(B.timestamp).toLocaleDateString("es-CO")}),m.jsx("td",{className:"px-4 py-2 font-medium",children:$?B.description:B.productTitle}),m.jsx("td",{className:"px-4 py-2 text-gray-300",children:$?"-":B.variantName}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("span",{className:`px-2 py-1 text-xs rounded-full text-white ${((C=A[B.type])==null?void 0:C.color)||"bg-gray-500"}`,children:B.type})}),m.jsx("td",{className:`px-4 py-2 font-bold text-center ${$?"":B.change>0?"text-green-400":"text-red-400"}`,children:ye}),m.jsx("td",{className:`px-4 py-2 text-right font-semibold ${K>0?"text-green-400":K<0?"text-red-400":"text-gray-500"}`,children:K!==0?cn(K):"-"})]},B.id)})})]}):m.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"No hay movimientos en este perodo."})})]})]})]})},jv=()=>{const{selectedProductIds:e,setSelectedProductIds:t,setModal:n,handleBulkIgnore:r,handleBulkDelete:l}=jn(),a=e.size;return a===0?null:m.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/80 backdrop-blur-lg border-t border-blue-500/30 p-4 z-30 transform animate-slide-up",children:[m.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-4 flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-lg text-white",children:[a," producto(s) seleccionado(s)"]}),m.jsxs("button",{onClick:()=>t(new Set),className:"flex items-center gap-1 text-sm text-gray-400 hover:text-white",children:[m.jsx(Fg,{size:16})," Deseleccionar todo"]})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("button",{onClick:()=>n({type:"bulk-edit",productsCount:a}),className:"flex items-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(ov,{size:18})," Editar Lote"]}),m.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(mh,{size:18})," Ocultar"]}),m.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-brand-red hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition-transform transform hover:scale-105",children:[m.jsx(gh,{size:18})," Eliminar"]})]})]}),m.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})},Jf=Z.lazy(()=>Rt(()=>import("./ProductFormModal-B-vOHxD-.js"),__vite__mapDeps([0,1]))),Pv=Z.lazy(()=>Rt(()=>import("./ExportModal-B0qvoQdI.js"),__vite__mapDeps([2,1,3]))),Nv=Z.lazy(()=>Rt(()=>import("./AddCategoryModal-ZpHwiRNF.js"),__vite__mapDeps([4,1,3]))),Mv=Z.lazy(()=>Rt(()=>import("./MovementHistoryModal-DBl8RFCU.js"),__vite__mapDeps([5,1]))),Ov=Z.lazy(()=>Rt(()=>import("./ManualMovementModal-CIcIAf6M.js"),__vite__mapDeps([6,1]))),Tv=Z.lazy(()=>Rt(()=>import("./ToolsModal-HC6FCzsF.js"),__vite__mapDeps([7,1,8]))),Iv=Z.lazy(()=>Rt(()=>import("./FusionModal-iiVDAp-L.js"),__vite__mapDeps([9,1,8]))),zv=Z.lazy(()=>Rt(()=>import("./AuditLogModal-Bt13WFNS.js"),__vite__mapDeps([10,1,8]))),Dv=Z.lazy(()=>Rt(()=>import("./BulkEditModal-Cl2_qiZP.js"),__vite__mapDeps([11,1]))),Av=Z.lazy(()=>Rt(()=>import("./DataImportModal-D2atNy7Q.js"),__vite__mapDeps([12,1,13,14]))),cs=Z.lazy(()=>Rt(()=>import("./ConfirmModal-CtRhyjn7.js"),__vite__mapDeps([15,1,13]))),Rv=Z.lazy(()=>Rt(()=>import("./LoadFromTextModal-CCzToH0P.js"),__vite__mapDeps([16,1]))),Lv=Z.lazy(()=>Rt(()=>import("./RestoreModal-DiekHqTy.js"),__vite__mapDeps([17,1,14,13]))),Fv=()=>{const{products:e,preferences:t,ignoredProductIds:n,modal:r,setModal:l,fullscreenData:a,setFullscreenData:c,currentView:p,fusionMode:h,selectedProductIds:w,selectedTags:z,isMigrating:M,handleTextLoad:A,handleRestoreBackup:B,handleImageClick:$,changeFullscreenImage:K,handleProductDelete:ye,handleIgnoreProduct:C}=jn(),v=Z.useMemo(()=>{if(!e)return[];const L=new Set;return e.forEach(R=>{(R.imageHint||[]).forEach(ne=>L.add(ne))}),Array.from(L).sort()},[e]),j=Z.useMemo(()=>{if(!e)return[];const L=!!t.showIgnoredOnly;return e.filter(R=>{if(!(L?n.includes(R.id):!n.includes(R.id)))return!1;if(h||w.size>0)return!0;const ke=(R.title||"").toLowerCase().includes(t.searchTerm.toLowerCase()),X=t.selectedCategory==="Todas"||R.category===t.selectedCategory,fe=!t.showAvailableOnly||R.variants.some(ge=>ge.stock>0),Pe=z.length===0||z.every(ge=>(R.imageHint||[]).includes(ge));return ke&&X&&fe&&Pe}).sort(mv)},[e,t,n,h,z,w]);if(M)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 p-4",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(Gg,{className:"animate-spin h-12 w-12 mx-auto mb-4 text-purple-400"}),m.jsx("h2",{className:"text-2xl font-bold",children:"Actualizando base de datos..."}),m.jsx("p",{className:"text-gray-300 mt-2 max-w-md",children:"Por favor, espera un momento. Estamos migrando tus datos a una versin ms rpida y robusta. Este proceso solo ocurrir una vez."})]})});if(e===null)return m.jsx(uv,{onTextLoad:A});const T=w.size>0,Q=()=>{if(!r)return null;const L={isOpen:!0,onClose:()=>l(null)};switch(r.type){case"add":return m.jsx(Jf,{...L});case"edit":return m.jsx(Jf,{...L,productToEdit:r.product});case"delete":return m.jsx(cs,{...L,title:"Confirmar Eliminacin",message:m.jsxs(m.Fragment,{children:['Ests seguro de que quieres eliminar el producto "',m.jsx("strong",{children:r.product.title}),'"? Esta accin no se puede deshacer.']}),onConfirm:async()=>{await ye(r.product.id),l(null)},confirmText:"Eliminar",confirmClass:"bg-brand-red hover:bg-red-600"});case"ignore":return m.jsx(cs,{...L,title:"Confirmar Ocultar Producto",message:m.jsxs(m.Fragment,{children:['Ests seguro de que quieres ocultar el producto "',m.jsx("strong",{children:r.product.title}),`"? El producto no aparecer en la vista principal. Podrs verlo y restaurarlo desde la vista de 'Ocultos'.`]}),onConfirm:async()=>{await C(r.product.id),l(null)},confirmText:"Confirmar y Ocultar",confirmClass:"bg-yellow-500 hover:bg-yellow-600 text-white"});case"export":return m.jsx(Pv,{...L,format:r.format});case"add-category":return m.jsx(Nv,{...L});case"movements":return m.jsx(Mv,{...L,product:r.product},r.product.id);case"manual-movement":return m.jsx(Ov,{...L});case"tools":return m.jsx(Tv,{...L});case"fusion":return m.jsx(Iv,{...L,productsToFuse:r.products});case"audit-log":return m.jsx(zv,{...L});case"bulk-edit":return m.jsx(Dv,{...L,productsCount:r.productsCount});case"import-csv":return m.jsx(Av,{...L});case"load-from-text":return m.jsx(Rv,{...L});case"restore-backup":return m.jsx(Lv,{...L,onRestore:B});case"confirm":return m.jsx(cs,{...L,title:r.title,message:r.message,onConfirm:r.onConfirm,confirmText:r.confirmText,confirmClass:r.confirmClass});default:return null}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 font-sans",children:[m.jsxs("div",{className:p==="catalog"?"pb-40 md:pb-24":"",children:[p==="catalog"&&m.jsx(fv,{}),m.jsx("main",{children:p==="catalog"?m.jsxs("div",{className:"container mx-auto px-4 py-6",children:[m.jsx(hv,{allTags:v,productCount:j.length}),m.jsx(_v,{products:j,onImageClick:$})]}):m.jsx(Ev,{})})]}),p==="catalog"&&!h&&!T&&m.jsx(Cv,{}),p==="catalog"&&T&&m.jsx(jv,{}),m.jsx(Z.Suspense,{fallback:m.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:m.jsx("div",{className:"text-white text-lg animate-pulse",children:"Cargando Mdulo..."})}),children:Q()}),a&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:()=>c(null),children:[m.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors z-20",children:m.jsx(wh,{size:28})}),a.images.length>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:L=>{L.stopPropagation(),K("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors z-20",children:m.jsx(Ag,{size:32})}),m.jsx("button",{onClick:L=>{L.stopPropagation(),K("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors z-20",children:m.jsx(Rg,{size:32})}),m.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[a.index+1," / ",a.images.length]})]}),m.jsx("img",{src:a.images[a.index],alt:"Fullscreen view",className:"max-w-[95vw] max-h-[95vh] object-contain rounded-lg shadow-2xl",onClick:L=>L.stopPropagation()})]})]})},xh=document.getElementById("root");if(!xh)throw new Error("Could not find root element to mount to");const Bv=fs.createRoot(xh);Bv.render(m.jsx(er.StrictMode,{children:m.jsx(jg,{children:m.jsx(Fv,{})})}));export{Wf as A,Ag as C,Bg as D,_g as E,Vg as F,qg as H,Hg as I,yn as L,us as M,iu as P,lu as S,gh as T,vh as U,av as W,wh as X,Rg as a,xe as b,Jv as c,e0 as d,yv as e,gv as f,Xf as g,Dg as h,zg as i,m as j,ev as k,mh as l,ov as m,Kg as n,yh as o,Lg as p,Fg as q,Z as r,Gg as s,Zv as t,jn as u,Cg as v,Ug as w};
