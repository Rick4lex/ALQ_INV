import{r as i,j as e,M as j,i as N}from"./index-CIMXU-Ls.js";import{C as f}from"./copy-DWyScT85.js";const k=({isOpen:c,onClose:s,onSave:n,existingCategories:d})=>{const[t,m]=i.useState(""),[p,o]=i.useState(!1),g=a=>{a.preventDefault(),t.trim()&&n(t.trim())},x=t.trim().toLowerCase().replace(/\s+/g,"-")||"nueva-categoria",u=t.trim().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")||"Nueva Categoria",r=`{ id: "${x}", title: "${u}" }`,y=a=>a.split("-").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),b=`export const grimoireCategories = [
${[...d.map(a=>`  { id: "${a}", title: "${y(a)}" }`),`  ${r} // <-- Tu nueva categoría`].join(`,
`)}
];`,h=()=>{navigator.clipboard.writeText(r).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})};return e.jsx(j,{isOpen:c,onClose:s,title:"Añadir Nueva Categoría",children:e.jsxs("form",{onSubmit:g,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-grow space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Ingresa el nombre para la nueva categoría."}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Aparecerá en los filtros y en el formulario de productos de este gestor."}),e.jsx("label",{htmlFor:"categoryName",className:"block text-sm font-medium text-gray-300",children:"Nombre de la Categoría"}),e.jsx("input",{type:"text",name:"categoryName",id:"categoryName",value:t,onChange:a=>m(a.target.value),required:!0,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",autoFocus:!0,placeholder:"Ej: Esculturas"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Código para tu página web (`pagedata.tsx`)"}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Copia este objeto y pégalo en el array `grimoireCategories` de tu archivo."}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"bg-gray-900 text-sm p-4 rounded-lg overflow-auto border border-gray-700",children:e.jsx("code",{className:"text-cyan-300",children:r})}),e.jsx("button",{type:"button",onClick:h,className:"absolute top-2 right-2 p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors","aria-label":"Copiar código",children:p?e.jsx(N,{size:16,className:"text-green-400"}):e.jsx(f,{size:16})})]}),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-300",children:"Ver código completo"}),e.jsx("div",{className:"relative mt-2",children:e.jsx("pre",{className:"bg-gray-900 text-xs p-4 rounded-lg overflow-auto border border-gray-700 max-h-48",children:e.jsx("code",{children:b})})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 mt-auto",children:[e.jsx("button",{type:"button",onClick:s,className:"py-2 px-4 bg-gray-600 hover:bg-gray-500 rounded-md transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-brand-purple hover:bg-purple-600 rounded-md transition-colors",children:"Guardar Categoría"})]})]})})};export{k as default};
