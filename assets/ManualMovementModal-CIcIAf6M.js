import{u as h,r as s,j as e}from"./index-YKwopWJT.js";import{M as y}from"./Modal-D7kRee5V.js";const j=({isOpen:c,onClose:n})=>{const{handleManualMovementSave:m}=h(),[a,p]=s.useState("Gasto"),[o,l]=s.useState(""),[r,i]=s.useState(""),[d,u]=s.useState(new Date().toISOString().split("T")[0]),x=t=>{if(t.preventDefault(),!o||r===""||r===0){alert("Por favor, completa la descripci贸n y el monto.");return}const g=a==="Otro Ingreso"?Math.abs(r):-Math.abs(r),b=new Date(d).getTime()+new Date().getTime()%(24*60*60*1e3);m({timestamp:b,type:a,amount:g,description:o}),l(""),i(""),u(new Date().toISOString().split("T")[0])};return e.jsx(y,{isOpen:c,onClose:n,title:"Registrar Movimiento Manual",children:e.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-300",children:"Tipo de Movimiento"}),e.jsxs("select",{id:"type",value:a,onChange:t=>p(t.target.value),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[e.jsx("option",{value:"Gasto",children:"Gasto (-)"}),e.jsx("option",{value:"Inversi贸n",children:"Inversi贸n (-)"}),e.jsx("option",{value:"Otro Ingreso",children:"Otro Ingreso (+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300",children:"Descripci贸n"}),e.jsx("input",{type:"text",id:"description",value:o,onChange:t=>l(t.target.value),required:!0,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Ej: Compra de material de empaque"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-300",children:"Monto"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:"$"}),e.jsx("input",{type:"number",id:"amount",value:r,onChange:t=>i(t.target.value===""?"":parseFloat(t.target.value)),required:!0,className:"block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 pl-7 pr-3 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300",children:"Fecha"}),e.jsx("input",{type:"date",id:"date",value:d,onChange:t=>u(t.target.value),required:!0,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"py-2 px-4 bg-gray-600 hover:bg-gray-500 rounded-md transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-brand-purple hover:bg-purple-600 rounded-md transition-colors",children:"Guardar Movimiento"})]})]})})};export{j as default};
